@model DealEngine.WebUI.Models.InformationViewModel
<!-- MAIN CONTENT -->
<div id="content">
    <!-- Bread crumb is created dynamically -->
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

        <h1 class="page-title txt-color-blueDark">
            <!-- PAGE HEADER -->
            <i class="fa-fw fa fa-home"></i><a href="~/Agreement/ViewAcceptedAgreement/@Model.ClientProgramme.Id"> Agreement</a>
            > <span>
                <a href="~/Information/ViewProgrammeDetails/@Model.ClientProgramme.Id"> View Client Information Sheet</a>
                > View Client Information Sheet Section
            </span>
        </h1>
    </div>



    <!-- widget grid -->
    <section id="widget-grid" class="">
        <div class="row">
            <article class="col-sm-12 col-md-12 col-lg-8">
                <!-- new widget -->
                <div class="jarviswidget jarviswidget-color-blue" id="wid-id-2" data-widget-editbutton="true" data-widget-colorbutton="false">
                    @Html.HiddenFor(m => m.AnswerSheetId)
                    @Html.HiddenFor(m => m.ClientProgramme.Owner.Id)

                    <header>
                        <span class="widget-icon"> <i class="fa fa--envelope txt-color-white"></i> </span>
                        <h2>Client Information Sheet Section</h2>
                    </header>
                    <!-- widget div-->

                    <div id="titledetails" hidden>
                        <h3>Title:  @Model.ClientProgramme.BaseProgramme.Name </h3>
                        <h3>Information Sheet for :  @Model.ClientProgramme.Owner.Name </h3>
                        <h3>UIS No:  @Model.ClientInformationSheet.ReferenceId </h3>
                    </div>
                    <div id="ReportView" hidden>
                        @foreach (var Section in Model.ListSection)
                        {

                            @*<td onclick="accordionpartialView('@Section.CustomView','@Model.Id')" style="cursor:pointer" align="center"> @Section.Name </td>*@
                        if (Section != "CommonLocation" && Section != "SharedRevenue" && Section != "PMINZ_Project" && Section != "Common_NamedParty" && Section != "CommonClaim")
                        {
                                @Html.Partial("PrefabSections/" + Section, Model)
                        }
                                @*<td onclick="location.href='@Url.Action("PartialViewProgramme", "Information",new {id = Model.ClientProgramme.Id , name = Section.CustomView })'" style="cursor:pointer" align="left">
                        @Section.Name
                    </td>*@

                            }
                    </div>

                    <div id="objectReportView" hidden >
                        @foreach (var Section in Model.ListSection)
                        {

                            @*<td onclick="accordionpartialView('@Section.CustomView','@Model.Id')" style="cursor:pointer" align="center"> @Section.Name </td>*@
                            if (Section == "CommonLocation" || Section == "SharedRevenue" || Section == "PMINZ_Project" || Section == "Common_NamedParty" || Section == "CommonClaim")
                            {
                                @Html.Partial("PrefabSections/" + Section, Model)
                            }

                            @*<td onclick="location.href='@Url.Action("PartialViewProgramme", "Information",new {id = Model.ClientProgramme.Id , name = Section.CustomView })'" style="cursor:pointer" align="left">
                @Section.Name
            </td>*@

                        }
                    </div>

                </div>
            </article>
        </div>
    </section>
</div>


@section pagespecific {
    <script>
        $(window).on("load", function () {
            debugger;
            window.setTimeout(viewreport, 2000);
            //$('a link').css({"color": "green" });
            function viewreport() {
    
            var divtitledetails = $("#titledetails").html();
            var divContents = $("#ReportView").html();
            var projectdetails = $("#projecttab1").html();
            var commonloc = $("#locationtab1").html();
            var divobjectContents = $("#listallfieldset").html();

            var printWindow = window.open('', '', 'height=5000,width=800');
            printWindow.document.write('<html><head><title>DIV Contents</title>');
            printWindow.document.write('</head><body >');
            printWindow.document.write(divtitledetails);
            printWindow.document.write(divContents);
            printWindow.document.write(projectdetails);
            printWindow.document.write(commonloc);
            printWindow.document.write(divobjectContents);
            //printWindow.document.write(namedparty);
            printWindow.document.write('</body></html>');
            printWindow.document.close();
                printWindow.print();
                
            }

        });
    </script>

    @await Html.PartialAsync("_PrefabScripts")
    @await Html.PartialAsync("_InformationWizardScripts")

}