@model DealEngine.WebUI.Models.InformationViewModel

<div class="form-group row">
    <div class="form-group col-md-6">
        <div class="form-group" id="HideOrganisationType">
            @Html.LabelFor(m => m.OrganisationViewModel.OrganisationTypes, new { @class = "label required" })
            <select id="Organisation.OrganisationType" name="OrganisationViewModel.OrganisationType" class="custom-select" onchange="OnChange(this.id, this.name)" required>
                @foreach (var option in Model.OrganisationViewModel.OrganisationTypes)
                {
                    <option selected="@option.Selected" value="@option.Value">@option.Text</option>
                }
            </select>
        </div>
        <div class="form-group">
            @Html.LabelFor(m => m.OrganisationViewModel.User.Email, new { @class = "label required" })
            @Html.TextBoxFor(m => m.OrganisationViewModel.User.Email, new { @class = "form-control", @id = "User.Email", @data_rule = "OrganisationEmail", @onchange = "OnChange(this.id, this.name)", @required = "", @type = "email" })
            <div id="InvalidOrganisationEmail" class="invalid-feedback">Organisation email already exists - please enter a different email</div>
        </div>
    </div>
    <div class="form-group col-md-6">
        <div class="form-group" id="HideInsuranceAttribute">
            @Html.LabelFor(m => m.OrganisationViewModel.InsuranceAttributes, new { @class = "label required" })
            <select id="Organisation.InsuranceAttribute" name="OrganisationViewModel.InsuranceAttribute" class="custom-select" data-rule="OrganisationType" onchange="OnChange(this.id, this.name)" required>
                @foreach (var option in @Model.OrganisationViewModel.InsuranceAttributes)
                {
                    <option selected="@option.Selected" value="@option.Value">@option.Text</option>
                }
            </select>
        </div>
    </div>
</div>
<div id="Else" class="form-group row" hidden>
    <div class="form-group col-md-6">
        @Html.LabelFor(m => m.OrganisationViewModel.Organisation.Name, new { @class = "label required" })
        @Html.TextBoxFor(m => m.OrganisationViewModel.Organisation.Name, new { @class = "form-control", @id = "Organisation.Name", @onchange = "OnChange(this.id, this.name)", @required = "" })
        @if (Model.OrganisationViewModel.Programme.NamedPartyUnitName == "Apollo Programme" || Model.OrganisationViewModel.Programme.NamedPartyUnitName == "Abbott Financial Advisor Liability Programme")
        {
            <div class="form-group" id="HideDateofIncorportation" hidden>
                @Html.LabelFor(m => m.OrganisationViewModel.Organisation.DateofIncorportation, new { @class = "label required" })
                @Html.TextBoxFor(m => m.OrganisationViewModel.Organisation.DateofIncorportation, "dd/MM/yyyy", new { @class = "form-control", @id = "Organisation.DateofIncorportation", @type = "date", @onchange = "OnChange(this.id, this.name)", @required = "" })
                @if (Model.OrganisationViewModel.Organisation.DateofIncorportation == null)
                {
                    @Html.Hidden("NoDateofIncorportation", true)
                }
                else
                {
                    @Html.Hidden("NoDateofIncorportation", false)
                }
            </div>
            <div class="form-group" id="TradingName">
                @if (Model.OrganisationViewModel.Organisation.Id == Model.ClientInformationSheet.Owner.Id)
                {
                    @Html.LabelFor(m => m.OrganisationViewModel.Organisation.TradingName, new { @class = "label" })
                    @Html.TextBoxFor(m => m.OrganisationViewModel.Organisation.TradingName, new { @class = "form-control", @id = "Organisation.TradingName", @onchange = "OnChange(this.id, this.name)", placeholder = "If Applicable" })
                }
            </div>
        }
    </div>
    @if (Model.OrganisationViewModel.Programme.NamedPartyUnitName == "NZFSG Programme" ||
Model.OrganisationViewModel.Programme.NamedPartyUnitName == "TripleA Programme" ||
Model.OrganisationViewModel.Programme.NamedPartyUnitName == "NZPI Programme"
)
    {
        <div class="form-group col-md-6" id="TradingName" hidden>
            @if (Model.OrganisationViewModel.Organisation.Id == Model.ClientInformationSheet.Owner.Id)
            {
                @Html.LabelFor(m => m.OrganisationViewModel.Organisation.TradingName, new { @class = "label required" })
                @Html.TextBoxFor(m => m.OrganisationViewModel.Organisation.TradingName, new { @class = "form-control", @id = "Organisation.TradingName", @onchange = "OnChange(this.id, this.name)", @required = "" })
                @if (string.IsNullOrWhiteSpace(Model.OrganisationViewModel.Organisation.TradingName))
                {
                    @Html.Hidden("NoTradingName", true)
                }
                else
                {
                    @Html.Hidden("NoTradingName", false)
                }
            }
        </div>
    }
</div>

@if (Model.OrganisationViewModel.Programme.NamedPartyUnitName == "NZFSG Programme" || Model.OrganisationViewModel.Programme.NamedPartyUnitName == "TripleA Programme"
  || Model.OrganisationViewModel.Programme.NamedPartyUnitName == "Apollo Programme" ||
                Model.OrganisationViewModel.Programme.NamedPartyUnitName == "Abbott Financial Advisor Liability Programme" ||
                Model.OrganisationViewModel.Programme.NamedPartyUnitName == "Financial Advice New Zealand Inc Programme")
{


    <div class="form-group col-md-6">
        <div class="form-group">
            @Html.LabelFor(m => m.OrganisationViewModel.PersonnelUnit.isTheFAP, new { @class = "label required" })
            <select id="PersonnelUnit.isTheFAP" name="OrganisationViewModel.PersonnelUnit.isTheFAP" class="custom-select" onchange="OnChange(this.id, this.name)" required>
                @foreach (var option in @Model.OrganisationViewModel.HasIsFAPOptions)
                {
                    <option selected="@option.Selected" value="@option.Value">
                        @option.Text
                    </option>
                }
            </select>
        </div>
        <div id="OrganisationViewModel.PersonnelUnit.isTheFAP" hidden>
            <div class="form-group">
                @Html.LabelFor(m => m.OrganisationViewModel.PersonnelUnit.FAPLicenseNumber, new { @class = "label required" })
                @Html.TextBoxFor(m => m.OrganisationViewModel.PersonnelUnit.FAPLicenseNumber, new { @class = "form-control", @id = "PersonnelUnit.FAPLicenseNumber", @required = "" })
            </div>

        </div>


    </div>
}
