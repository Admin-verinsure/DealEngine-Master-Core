@model DealEngine.WebUI.Models.InformationViewModel


<div class="container-fluid">
    @Html.HiddenFor(m => m.AnswerSheetId)
    @Html.HiddenFor(m => m.ClientInformationSheet.Status)
    @Html.HiddenFor(m => m.ClientAgreement)
    @Html.HiddenFor(m => m.ClientProgramme.Id)
    @Html.HiddenFor(m => m.ListProductName)
    <div id="accordionId" class="accordion">
        @if (Model.Sections != null)
        {
            <div>
                @foreach (var informationSection in Model.Sections.OrderBy(s => s.Position).Where(s => s.Position <= 5))
                {
                    @if (!string.IsNullOrWhiteSpace(informationSection.CustomView))
                    {
                        if (informationSection.Position == 1)
                        {
                            <div class="card">

                                <div class="card-header text-white" id="header_@informationSection.Position" type="button" data-toggle="collapse" data-target="#section_@informationSection.Position" aria-expanded="true" aria-controls="section_@informationSection.Position" style="background-color:#00A8C8; text-align:left;">
                                    <h5 class="mb-0">
                                        <i id="icon_@informationSection.Position" class="fa fa-angle-down fa-rotate-180"></i>
                                        @informationSection.Name
                                    </h5>
                                </div>

                                <div id="section_@informationSection.Position" class="collapse show" aria-labelledby="header_@informationSection.Position" data-parent="#accordionId">
                                    <div class="card-body">
                                        @await Html.PartialAsync("PrefabSections/" + informationSection.CustomView, Model)
                                    </div>
                                </div>
                            </div>
                        }
                        else
                        {
                            <div class="card">

                                <div class="card-header text-white" id="header_@informationSection.Position" type="button" data-toggle="collapse" data-target="#section_@informationSection.Position" aria-expanded="false" aria-controls="section_@informationSection.Position" style="background-color:#00A8C8; text-align:left;">
                                    <h5 class="mb-0">
                                        <i id="icon_@informationSection.Position" class="fa fa-angle-down"></i>
                                        @informationSection.Name
                                    </h5>
                                </div>

                                <div id="section_@informationSection.Position" class="collapse" aria-labelledby="header_@informationSection.Position" data-parent="#accordionId">
                                    <div class="card-body">
                                        @await Html.PartialAsync("PrefabSections/" + informationSection.CustomView, Model)
                                    </div>
                                </div>
                            </div>
                        }

                    }
                }
            </div>
            <div id="later" hidden>
                @foreach (var informationSection in Model.Sections.OrderBy(s => s.Position).Where(s => s.Position > 5))
                {
                    @if (!string.IsNullOrWhiteSpace(informationSection.CustomView))
                    {
                        <div class="card">

                            <div class="card-header text-white" id="header_@informationSection.Position" type="button" data-toggle="collapse" data-target="#section_@informationSection.Position" aria-expanded="false" aria-controls="section_@informationSection.Position" style="background-color:#00A8C8; text-align:left;">
                                <h5 class="mb-0">
                                    <i id="icon_@informationSection.Position" class="fa fa-angle-down"></i>
                                    @informationSection.Name
                                </h5>
                            </div>

                            <div id="section_@informationSection.Position" class="collapse" aria-labelledby="header_@informationSection.Position" data-parent="#accordionId">
                                <div class="card-body">
                                    @await Html.PartialAsync("PrefabSections/" + informationSection.CustomView, Model)
                                </div>
                            </div>
                        </div>
                    }
                }
            </div>
        }
        @*@else
            {
            <div class="padding-10">
                <div id="proposalcreate-form" class="smart-form" novalidate="novalidate">
                    <fieldset id="@informationSection.Id">
                        <div class="row">
                            @if (informationSection.Items != null)
                            {
                                var items = informationSection.Items;
                                for (int i = 0; i < items.Count(); i++)
                                {
                                    var item = items.ElementAtOrDefault(i);
                                    if (item.Type != ItemType.SECTIONBREAK)
                                    {
                                        <section class="col col-@item.Width">

                                            @switch (item.Type)
                                            {
                                                case ItemType.TEXTBOX:
                                                    <label class="label">@item.Label</label>
                                                    <label class="input">
                                                        <i class="@item.Icon"></i>
                                                        <input data-id="@item.Id" data-type="@item.Type" data-name="@item.Name"
                                                               id="@item.Name" type="@item.ControlType" name="@item.Name" placeholder="@item.Label" value="@item.Value" data-rule="@item.Rule" />
                                                    </label>
                                                    break;

                                                case ItemType.TEXTAREA:
                                                    <label class="label">@item.Label</label>
                                                    <label class="textarea">
                                                        <textarea data-id="@item.Id" data-type="@item.Type" data-name="@item.Name"
                                                                  id="@item.Name" type="@item.ControlType" name="@item.Name" placeholder="@item.Label" value="@item.Value"></textarea>
                                                    </label>
                                                    break;

                                                case ItemType.LABEL:
                                                    <article class="col col-@item.Width col-xs-12">
                                                        @Html.Raw(@item.Label)
                                                    </article>
                                                    break;

                                                case ItemType.DROPDOWNLIST:
                                                    <label class="label">@item.Label</label>
                                                    <label class="input">
                                                        @Html.DropDownListFor(item => item.Student.StudentId, new SelectList(Model.StudentList, "StudentId", "FirstName"), "--Select--", new { @id = "myid", @class = "myclass" })

                                                        @Html.DropDownList(@item.Name, @item.Options, @item.Value, new { @id = @item.Name }).


                                                        @Html.DropDownList(@item.Name, @item.Options,@item.Value, new { @id = @item.Name }).SelectedValue(@item.Value).OptionLabel(@item.DefaultText).Id(@item.Name)
                                                    </label>
                                                    break;

                                                case ItemType.PERCENTAGEBREAKDOWN:
                                                    <div class="row">
                                                        <div class="col col-12 col-xs-12"><label class="label">@item.Label</label></div>
                                                        <div class="col col-10 col-xs-12">
                                                            @Html.DropDownList(@item.Name, @item.Options, @item.DefaultText, new { @Class = "form-control" }).

                                                            @Html.Bootstrap().DropDownList(@item.Name, @item.Options).OptionLabel(@item.DefaultText).Class("form-control")
                                                        </div>
                                                        <div class="col col-2 col-xs-12">
                                                            <button id="clickMe" onclick="AddBusinessActivity(this, '#@item.Name', '#tableResult');" class="btn btn-sm btn-success" style="width:100px">
                                                                Add
                                                            </button>
                                                        </div>
                                                        <div class="col col-12">
                                                            <table id="tableResult" cellpadding="4" cellspacing="0">
                                                                <tbody></tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                    break;

                                                case ItemType.MULTISELECT:
                                                    <label class="label">@item.Label</label>
                                                    <label class="input">
                                                        @Html.ListBox(@item.Name, @item.Options).Class("cselect").Data(new { placeholder = @item.Label })
                                                    </label>
                                                    break;

                                                case ItemType.JSBUTTON:
                                                    @Html.Bootstrap().Button().Text(@item.Label).HtmlAttributes(new { onclick = @item.Value }).Class("btn-sm")
                                                    break;

                                                case ItemType.SUBMITBUTTON:
                                                    @Html.Bootstrap().SubmitButton().Text(@item.Label).Class("btn-sm")
                                                    break;

                                            }
                                            @if (item.ConditionalList.Count != 0)
                                            {
                                                <label class="label">@item.ConditionalList.FirstOrDefault().Label</label>
                                                <label class="input">
                                                    <i class="@item.Icon"></i>
                                                    <input data-id="@item.ConditionalList.FirstOrDefault().Id" data-type="@item.ConditionalList.FirstOrDefault().Type" data-name="@item.ConditionalList.FirstOrDefault().Name"
                                                           id="@item.ConditionalList.FirstOrDefault().Name" type="@item.ConditionalList.FirstOrDefault().ControlType" name="@item.ConditionalList.FirstOrDefault().Name" placeholder="@item.ConditionalList.FirstOrDefault().Label" value="@item.Value" />
                                                </label>
                                            }
                                        </section>
                                    }
                                    else
                                    {
                                        @Html.Raw("</div><div class=\"row\">")
                                    }
                                }

                                <button onclick="AddSection(informationSection.Id)" class="btn-sm AddupdateBoat" id="updateBoat">Add</button>
                                <button onclick="ClearBoats(event,'#boatTabs3','boatTabs1')" class="btn-sm AddClearBoat" id="ClearBoat">Clear and Cancel</button>
                            }
                        </div>
                    </fieldset>
                </div>
            </div>
            }
            }
            }*@

        <a onclick="AccordionShow()" cursor:"pointer" class="btn btn-lg txt-color-darken" id="more">More </a>
        <a onclick="AccordionHide()" cursor:"pointer" class="btn btn-lg txt-color-darken" hidden id="less">Less </a>

    </div>
</div>
<div id="myPanelModal" class="modal fade " role="dialog">

    <!-- Modal content-->

    <div class="modal-content">

        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title" style="color:blue; font-size:22px">Edit Accordion Order</h4>
        </div>
        <div class="modal-body">
            <form id="ProdForm">
                <div class="form-group">

                    <table class="table table-bordered table-responsive-md table-striped text-center" id="boatTable">

                        <tr>
                            <th class="text-center" width="13%">Panel Id</th>

                            <th class="text-center" width="13%">Panel Name</th>

                            <th class="text-center" width="9%"></th>
                        </tr>
                        @foreach (var informationSection in Model.Sections.OrderBy(s => s.Position).Where(s => s.Position > 0))
                        {
                            <tr class="clickable-row">
                                <td class="pt-3-half" width="13%" contenteditable="true" id="BoatName">
                                    @informationSection.Id
                                </td>
                                <td class="pt-3-half" width="13%" contenteditable="true" id="BoatName">
                                    @informationSection.Name
                                </td>
                                <td class="pt-3-half" width="13%" contenteditable="true" id="BoatName">
                                    @informationSection.Position
                                </td>

                                <td width="9%">
                                    <a href="#myPanelEditModal" aria-hidden="true" style="color:green" data-toggle="modal" data-Panel-Id="@informationSection.Id"
                                       data-Panel-name="@informationSection.Name" data-Panel-Position="@informationSection.Position"><i class="fa fa-edit"> </i></a>
                                </td>

                            </tr>

                        }
                    </table>

                </div>

            </form>
        </div>
        <div class="modal-footer">
            @*<input type="Reset" value="Submit" class="btn btn-success" id="btnPanelSubmit">*@

            <a href="#" class="btn btn-danger" data-dismiss="modal">Cancel<i class="fa fa-close"></i></a>
        </div>
    </div>
</div>
<div id="myPanelEditModal" class="modal fade " role="dialog">

    <!-- Modal content-->

    <div class="modal-content">

        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title" style="color:blue; font-size:22px">Edit Vessel</h4>
        </div>
        <div class="modal-body">
            <form id="ProdForm">

                <div class="form-group">
                    <label for="MaxSumInsured">Panel Id</label>
                    <input type="text" class="form-control " id="PanelId" name="PanelId" readonly />

                </div>

                <div class="form-group">
                    <label for="MaxSumInsured">Panel Name</label>
                    <input type="text" class="form-control " id="PanelName2" name="PanelName2" readonly />

                </div>
                <div class="form-group">
                    <label for="MaxSumInsured">Panel Position</label>

                    <input type="text" class="form-control " id="PanelPosition2" name="PanelPosition2" />
                </div>

            </form>
        </div>
        <div class="modal-footer">
            <input type="Reset" value="Submit" class="btn btn-success" id="btnPanelSubmit">

            <a href="#" class="btn btn-danger" data-dismiss="modal">Cancel<i class="fa fa-close"></i></a>
        </div>
    </div>
</div>

<style>

    #header > :first-child, aside {
        width: 1500px !important;
    }

    .container {
        margin-left: 16% !important;
        width: 100%;
    }
</style>
