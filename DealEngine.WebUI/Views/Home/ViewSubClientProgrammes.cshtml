@model DealEngine.WebUI.Models.ProgrammeItem
<!-- MAIN CONTENT -->
<div id="widget-grid" class="container">


    @Html.HiddenFor(m => m.Programme.Id)
    <div class="card">
        <div class="card-header text-white" style="background-color:#3276b1">
            <span class="widget-icon">
                <h6><i class="fa fa-table text-light"></i> Insurance Information </h6>
            </span>
        </div>
        <div class="card-body">
            @await Html.PartialAsync("_ClientProgrammeTablePartial", @Model)
        </div>
    </div>
</div>

@section pagespecific {

    <script type="text/javascript">

        $(document).ready(function () {
            $.noConflict();
            $('#tableProgrammeItems').bootstrapTable();
            $('#subsystemAccodion').accordion;
        });

          $('#myUnlockModal').on('show.bs.modal', function (e) {
            $('.modal').css({ "width": "40%", "margin-left": "30%" });
            var dealId = $(e.relatedTarget).data('dealitem-id');
            $(e.currentTarget).find('input[id="UnlockId"]').val(dealId);
        });

        function postUnlockData() {
            debugger;
              $('#CreateUISProcess').show();
            var unlockReason = $('#UnlockDescription').val();
            var dealId = $('#UnlockId').val();
            var postData = {
                Reason: unlockReason,
                DealId: dealId
            };

             $.ajax({
            type: "Post",
            data: postData,
            url: "/Information/Unlock",
            success: function (data) {
                 $('#CreateUISProcess').hide();
                 $('#myUnlockModal').modal('hide')
                alert("Saved Successfully!");
                window.location.href = data.url;
            }
              })
            .done(function (data) {
             })
            .fail(function (a, s, d) {
                debugger;
                alert("Unable to save.");
            });
        }

    </script>
    @Html.Partial("_ProgrammeScripts")


}