!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=99)}([function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));class o extends Error{constructor(e,t,n){e=i(e),n&&(e+=" "+JSON.stringify(n)),super(e),this.name="CKEditorError",this.context=t,this.data=n}is(e){return"CKEditorError"===e}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new o(e.message,t);throw n.stack=e.stack,n}}function i(e){const t=e.match(/^([^:]+):/);return t?e+` Read more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-${t[1]}\n`:e}},function(e,t,n){"use strict";var o,i=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s={};function a(e,t,n){for(var o=0;o<t.length;o++){var i={css:t[o][1],media:t[o][2],sourceMap:t[o][3]};s[e][o]?s[e][o](i):s[e].push(m(i,n))}}function l(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var s=r(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=u(t,i);else{var r=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function h(e,t,n){var o=n.css,i=n.media,r=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),r&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var p=null,f=0;function m(e,t){var n,o,i;if(t.singleton){var r=f++;n=p||(p=l(t)),o=d.bind(null,n,r,!1),i=d.bind(null,n,r,!0)}else n=l(t),o=h.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}e.exports=function(e,t,n){return(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=i()),e=n.base?e+n.base:e,t=t||[],s[e]||(s[e]=[]),a(e,t,n),function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){s[e]||(s[e]=[]),a(e,t,n);for(var o=t.length;o<s[e].length;o++)s[e][o]();s[e].length=t.length,0===s[e].length&&delete s[e]}}}},,function(e,t,n){"use strict";var o=n(7),i="object"==typeof self&&self&&self.Object===Object&&self,r=o.a||i||Function("return this")();t.a=r},function(e,t,n){"use strict";(function(e){var o=n(7),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,r=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=r&&r.exports===i&&o.a.process,a=function(){try{var e=r&&r.require&&r.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();t.a=a}).call(this,n(8)(e))},function(e,t,n){"use strict";(function(e){var o=n(3),i=n(11),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===r?o.a.Buffer:void 0,l=(a?a.isBuffer:void 0)||i.a;t.a=l}).call(this,n(8)(e))},function(e,t,n){"use strict";(function(e){var t=n(0);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const o="object"==typeof window?window:e;if(o.CKEDITOR_VERSION)throw new t.b("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.",null);o.CKEDITOR_VERSION="16.0.0"}).call(this,n(9))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(9))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var o=n(1),i=n(52);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){"use strict";(function(e){var o=n(3),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,r=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=r&&r.exports===i?o.a.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,o=a?a(n):new e.constructor(n);return e.copy(o),o}}).call(this,n(8)(e))},function(e,t,n){var o=n(1),i=n(14);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(e,t,n){var o=n(1),i=n(16);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border:#1f89e5;--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(e,t,n){var o=n(1),i=n(18);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(e,t,n){var o=n(1),i=n(20);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(e,t,n){var o=n(1),i=n(22);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"},function(e,t,n){var o=n(1),i=n(24);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}"},function(e,t,n){var o=n(1),i=n(26);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(e,t,n){var o=n(1),i=n(28);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}'},function(e,t,n){var o=n(1),i=n(30);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(e,t,n){var o=n(1),i=n(32);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(e,t,n){var o=n(1),i=n(34);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:1.3846153847em}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}"},function(e,t,n){var o=n(1),i=n(36);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(e,t,n){var o=n(1),i=n(38);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(e,t,n){var o=n(1),i=n(40);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__grouped-dropdown,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{padding-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__items>*,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__items>*{margin-left:var(--ck-spacing-small);margin-right:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__items>:last-child,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__items>:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__grouped-dropdown,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{padding-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__items>:last-child,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__items>:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{margin-right:var(--ck-spacing-small)}"},function(e,t,n){var o=n(1),i=n(42);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"},function(e,t,n){window,e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=34)}([function(e,t,n){"use strict";e.exports=n(7)},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,o=e[1]||"",i=e[3];if(!i)return o;if(t&&"function"==typeof btoa){var r=(n=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),s=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[o].concat(s).concat([r]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];null!=r&&(o[r]=!0)}for(i=0;i<e.length;i++){var s=e[i];null!=s[0]&&o[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){var o,i,r={},s=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=o.apply(this,arguments)),i}),a=function(e,t){return t?t.querySelector(e):document.querySelector(e)},l=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var o=a.call(this,e,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}}(),c=null,u=0,d=[],h=n(16);function p(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=r[o.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](o.parts[s]);for(;s<o.parts.length;s++)i.parts.push(k(o.parts[s],t))}else{var a=[];for(s=0;s<o.parts.length;s++)a.push(k(o.parts[s],t));r[o.id]={id:o.id,refs:1,parts:a}}}}function f(e,t){for(var n=[],o={},i=0;i<e.length;i++){var r=e[i],s=t.base?r[0]+t.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};o[s]?o[s].parts.push(a):n.push(o[s]={id:s,parts:[a]})}return n}function m(e,t){var n=l(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=d[d.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=l(e.insertAt.before,n);n.insertBefore(t,i)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function b(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var o=n.nc;o&&(e.attrs.nonce=o)}return w(t,e.attrs),m(e,t),t}function w(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function k(e,t){var n,o,i,r;if(t.transform&&e.css){if(!(r="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=r}if(t.singleton){var s=u++;n=c||(c=b(t)),o=y.bind(null,n,s,!1),i=y.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",w(t,e.attrs),m(e,t),t}(t),o=C.bind(null,n,t),i=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(t),o=x.bind(null,n),i=function(){g(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return p(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var s=n[i];(a=r[s.id]).refs--,o.push(a)}for(e&&p(f(e,t),t),i=0;i<o.length;i++){var a;if(0===(a=o[i]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete r[a.id]}}}};var v,_=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function y(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=_(t,i);else{var r=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function x(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function C(e,t,n){var o=n.css,i=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||r)&&(o=h(o)),i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([o],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(8)},function(e,t,n){var o=n(19);"string"==typeof o&&(o=[[e.i,o,""]]),n(2)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,l=s(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(l[u]=n[u]);if(o){a=o(n);for(var d=0;d<a.length;d++)r.call(n,a[d])&&(l[a[d]]=n[a[d]])}}return l}},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(0)),c=n(11),u=a(n(12)),d={width:"auto",height:"auto"},h=u.default((function(e,t,n){return Math.max(Math.min(e,n),t)})),p=u.default((function(e,t){return Math.round(e/t)*t})),f=u.default((function(e,t){return new RegExp(e,"i").test(t)})),m=u.default((function(e,t,n){void 0===n&&(n=0);var o=t.reduce((function(n,o,i){return Math.abs(o-e)<Math.abs(t[n]-e)?i:n}),0),i=Math.abs(t[o]-e);return 0===n||i<n?t[o]:e})),g=u.default((function(e,t){return e.substr(e.length-t.length,t.length)===t})),b=u.default((function(e){return"auto"===(e=e.toString())?e:g(e,"px")?e:g(e,"%")?e:g(e,"vh")?e:g(e,"vw")?e:g(e,"vmax")?e:g(e,"vmin")?e:e+"px"})),w=u.default((function(e,t,n,o,i){if(t&&"string"==typeof t&&g(t,"%")){var r=Number(t.replace("%",""))/100;t=e.width*r}return n&&"string"==typeof n&&g(n,"%")&&(r=Number(n.replace("%",""))/100,n=e.height*r),o&&"string"==typeof o&&g(o,"%")&&(r=Number(o.replace("%",""))/100,o=e.width*r),i&&"string"==typeof i&&g(i,"%")&&(r=Number(i.replace("%",""))/100,i=e.height*r),{maxWidth:void 0===t?void 0:Number(t),maxHeight:void 0===n?void 0:Number(n),minWidth:void 0===o?void 0:Number(o),minHeight:void 0===i?void 0:Number(i)}})),k=["style","className","grid","snap","bounds","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],v=function(e){function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.extendsProps={},n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableTop=0,n.targetLeft=0,n.targetTop=0,n.state={isResizing:!1,resizeCursor:"auto",width:void 0===(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:void 0===(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0}},n.updateExtendsProps(t),n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),"undefined"!=typeof window&&(window.addEventListener("mouseup",n.onMouseUp),window.addEventListener("mousemove",n.onMouseMove),window.addEventListener("mouseleave",n.onMouseUp),window.addEventListener("touchmove",n.onMouseMove),window.addEventListener("touchend",n.onMouseUp)),n}return i(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||d},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"base",{get:function(){var e=this.parentNode;if(e)for(var t=0,n=[].slice.call(e.children);t<n.length;t++){var o=n[t];if(o instanceof HTMLElement&&o.classList.contains("__resizable_base__"))return o}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if("undefined"!=typeof window&&this.resizable){var n=this.resizable.offsetWidth,o=this.resizable.offsetHeight,i=this.resizable.style.position;"relative"!==i&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:o,this.resizable.style.position=i}return{width:e,height:t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&g(e.propsSize[t].toString(),"%")){if(g(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return b(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?b(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?b(t.height):n("height")}},enumerable:!0,configurable:!0}),t.prototype.updateExtendsProps=function(e){this.extendsProps=Object.keys(e).reduce((function(t,n){return-1!==k.indexOf(n)?t:(t[n]=e[n],t)}),{})},t.prototype.getParentSize=function(){if(!this.base||!this.parentNode)return{width:window.innerWidth,height:window.innerHeight};var e=!1,t=this.parentNode.style.flexWrap,n=this.base.style.minWidth;"wrap"!==t&&(e=!0,this.parentNode.style.flexWrap="wrap"),this.base.style.position="relative",this.base.style.minWidth="100%";var o={width:this.base.offsetWidth,height:this.base.offsetHeight};return this.base.style.position="absolute",e&&(this.parentNode.style.flexWrap=t),this.base.style.minWidth=n,o},t.prototype.componentDidMount=function(){this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height});var e=this.parentNode;if(e instanceof HTMLElement&&!this.base){var t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0",t.classList?t.classList.add("__resizable_base__"):t.className+="__resizable_base__",e.appendChild(t)}},t.prototype.componentWillReceiveProps=function(e){this.updateExtendsProps(e)},t.prototype.componentWillUnmount=function(){if("undefined"!=typeof window){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseleave",this.onMouseUp),window.removeEventListener("touchmove",this.onMouseMove),window.removeEventListener("touchend",this.onMouseUp);var e=this.parentNode;if(!this.base||!e)return;if(!(e instanceof HTMLElement&&this.base instanceof Node))return;e.removeChild(this.base)}},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){if("parent"===this.props.bounds){var n=this.parentNode;if(n instanceof HTMLElement){var o=n.offsetWidth+(this.parentLeft-this.resizableLeft),i=n.offsetHeight+(this.parentTop-this.resizableTop);e=e&&e<o?e:o,t=t&&t<i?t:i}}else"window"===this.props.bounds?"undefined"!=typeof window&&(o=window.innerWidth-this.resizableLeft,i=window.innerHeight-this.resizableTop,e=e&&e<o?e:o,t=t&&t<i?t:i):this.props.bounds instanceof HTMLElement&&(o=this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),i=this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop),e=e&&e<o?e:o,t=t&&t<i?t:i);return{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,o=this.props.resizeRatio||1,i=this.state,r=i.direction,s=i.original,a=this.props,l=a.lockAspectRatio,c=a.lockAspectRatioExtraHeight,u=a.lockAspectRatioExtraWidth,d=s.width,h=s.height,p=c||0,m=u||0;return f("right",r)&&(d=s.width+(e-s.x)*o/n,l&&(h=(d-m)/this.ratio+p)),f("left",r)&&(d=s.width-(e-s.x)*o/n,l&&(h=(d-m)/this.ratio+p)),f("bottom",r)&&(h=s.height+(t-s.y)*o/n,l&&(d=(h-p)*this.ratio+m)),f("top",r)&&(h=s.height-(t-s.y)*o/n,l&&(d=(h-p)*this.ratio+m)),{newWidth:d,newHeight:h}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,o){var i=this.props,r=i.lockAspectRatio,s=i.lockAspectRatioExtraHeight,a=i.lockAspectRatioExtraWidth,l=void 0===o.width?10:o.width,c=void 0===n.width||n.width<0?e:n.width,u=void 0===o.height?10:o.height,d=void 0===n.height||n.height<0?t:n.height,p=s||0,f=a||0;if(r){var m=(u-p)*this.ratio+f,g=(d-p)*this.ratio+f,b=(l-f)/this.ratio+p,w=(c-f)/this.ratio+p,k=Math.max(l,m),v=Math.min(c,g),_=Math.max(u,b),y=Math.min(d,w);e=h(e,k,v),t=h(t,_,y)}else e=h(e,l,c),t=h(t,u,d);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e instanceof HTMLElement){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds instanceof HTMLElement){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var o=this.resizable.getBoundingClientRect(),i=o.left,r=o.top;this.resizableLeft=i,this.resizableTop=r}},t.prototype.onResizeStart=function(e,t){var n=0,o=0;if(e.nativeEvent instanceof MouseEvent){if(n=e.nativeEvent.clientX,o=e.nativeEvent.clientY,3===e.nativeEvent.which)return}else e.nativeEvent instanceof TouchEvent&&(n=e.nativeEvent.touches[0].clientX,o=e.nativeEvent.touches[0].clientY);this.props.onResizeStart&&this.resizable&&this.props.onResizeStart(e,t,this.resizable),this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height,this.setBoundingClientRect(),this.setState({original:{x:n,y:o,width:this.size.width,height:this.size.height},isResizing:!0,resizeCursor:window.getComputedStyle(e.target).cursor||"auto",direction:t})},t.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable){var t=this.props,n=t.maxWidth,o=t.maxHeight,i=t.minWidth,r=t.minHeight,s=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,a=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,l=this.state,c=l.direction,u=l.original,d=l.width,h=l.height,f=this.getParentSize(),b=w(f,n,o,i,r);n=b.maxWidth,o=b.maxHeight,i=b.minWidth,r=b.minHeight;var k=this.calculateNewSizeFromDirection(s,a),v=k.newHeight,_=k.newWidth,y=this.calculateNewMaxFromBoundary(n,o),x=this.calculateNewSizeFromAspectRatio(_,v,{width:y.maxWidth,height:y.maxHeight},{width:i,height:r});if(_=x.newWidth,v=x.newHeight,this.props.grid){var C=p(_,this.props.grid[0]),T=p(v,this.props.grid[1]),E=this.props.snapGap||0;_=0===E||Math.abs(C-_)<=E?C:_,v=0===E||Math.abs(T-v)<=E?T:v}this.props.snap&&this.props.snap.x&&(_=m(_,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(v=m(v,this.props.snap.y,this.props.snapGap));var S={width:_-u.width,height:v-u.height};d&&"string"==typeof d&&(g(d,"%")?_=_/f.width*100+"%":g(d,"vw")?_=_/window.innerWidth*100+"vw":g(d,"vh")&&(_=_/window.innerHeight*100+"vh")),h&&"string"==typeof h&&(g(h,"%")?v=v/f.height*100+"%":g(h,"vw")?v=v/window.innerWidth*100+"vw":g(h,"vh")&&(v=v/window.innerHeight*100+"vh")),this.setState({width:this.createSizeForCssProperty(_,"width"),height:this.createSizeForCssProperty(v,"height")}),this.props.onResize&&this.props.onResize(e,c,this.resizable,S)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,o=t.direction,i=t.original;if(n&&this.resizable){var r={width:this.size.width-i.width,height:this.size.height-i.height};this.props.onResizeStop&&this.props.onResizeStop(e,o,this.resizable,r),this.props.size&&this.setState(this.props.size),this.setState({isResizing:!1,resizeCursor:"auto"})}},t.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,o=t.handleStyles,i=t.handleClasses,r=t.handleWrapperStyle,s=t.handleWrapperClass,a=t.handleComponent;if(!n)return null;var u=Object.keys(n).map((function(t){return!1!==n[t]?l.createElement(c.Resizer,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:o&&o[t],className:i&&i[t]},a&&a[t]?a[t]:null):null}));return l.createElement("span",{className:s,style:r},u)},t.prototype.render=function(){var e=this;return l.createElement("div",r({ref:function(t){t&&(e.resizable=t)},style:r({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style,this.sizeStyle,{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box"}),className:this.props.className},this.extendsProps),this.state.isResizing&&l.createElement("div",{style:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:""+(this.state.resizeCursor||"auto"),opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"}}),this.props.children,this.renderResizer())},t.defaultProps={onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(l.Component);t.Resizable=v},function(e,t,n){"use strict";
/** @license React v16.10.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=n(5),i="function"==typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var b="function"==typeof Symbol&&Symbol.iterator;function w(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function _(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||k}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||k}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw w(Error(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=_.prototype;var C=x.prototype=new y;C.constructor=x,o(C,_.prototype),C.isPureReactComponent=!0;var T={current:null},E={suspense:null},S={current:null},P=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function R(e,t,n){var o,i={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)P.call(t,o)&&!A.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:r,type:e,key:s,ref:a,props:i,_owner:S.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var N=/\/+/g,I=[];function M(e,t,n,o){if(I.length){var i=I.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=o,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:o,count:0}}function z(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function D(e,t,n){return null==e?0:function e(t,n,o,i){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case r:case s:l=!0}}if(l)return o(i,t,""===n?"."+V(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+V(a=t[c],c);l+=e(a,u,o,i)}else if("function"==typeof(u=null===t||"object"!=typeof t?null:"function"==typeof(u=b&&t[b]||t["@@iterator"])?u:null))for(t=u.call(t),c=0;!(a=t.next()).done;)l+=e(a=a.value,u=n+V(a,c++),o,i);else if("object"===a)throw o=""+t,w(Error(31),"[object Object]"===o?"object with keys {"+Object.keys(t).join(", ")+"}":o,"");return l}(e,"",t,n)}function V(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function B(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var o=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?L(e,o,n,(function(e){return e})):null!=e&&(O(e)&&(e=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(N,"$&/")+"/")+n)),o.push(e))}function L(e,t,n,o,i){var r="";null!=n&&(r=(""+n).replace(N,"$&/")+"/"),D(e,F,t=M(t,r,o,i)),z(t)}function j(){var e=T.current;if(null===e)throw w(Error(321));return e}var H={Children:{map:function(e,t,n){if(null==e)return e;var o=[];return L(e,o,null,t,n),o},forEach:function(e,t,n){if(null==e)return e;D(e,B,t=M(null,null,t,n)),z(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return L(e,t,null,(function(e){return e})),t},only:function(e){if(!O(e))throw w(Error(143));return e}},createRef:function(){return{current:null}},Component:_,PureComponent:x,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return j().useCallback(e,t)},useContext:function(e,t){return j().useContext(e,t)},useEffect:function(e,t){return j().useEffect(e,t)},useImperativeHandle:function(e,t,n){return j().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return j().useLayoutEffect(e,t)},useMemo:function(e,t){return j().useMemo(e,t)},useReducer:function(e,t,n){return j().useReducer(e,t,n)},useRef:function(e){return j().useRef(e)},useState:function(e){return j().useState(e)},Fragment:a,Profiler:c,StrictMode:l,Suspense:p,unstable_SuspenseList:f,createElement:R,cloneElement:function(e,t,n){if(null==e)throw w(Error(267),e);var i=o({},e.props),s=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)P.call(t,u)&&!A.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:r,type:e.type,key:s,ref:a,props:i,_owner:l}},createFactory:function(e){var t=R.bind(null,e);return t.type=e,t},isValidElement:O,version:"16.10.2",unstable_withSuspenseConfig:function(e,t){var n=E.suspense;E.suspense=void 0===t?null:t;try{e()}finally{E.suspense=n}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:T,ReactCurrentBatchConfig:E,ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:o}},W={default:H},U=W&&H||W;e.exports=U.default||U},function(e,t,n){"use strict";
/** @license React v16.10.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=n(0),i=n(5),r=n(9);function s(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}if(!o)throw s(Error(227));var a=null,l={};function c(){if(a)for(var e in l){var t=l[e],n=a.indexOf(e);if(!(-1<n))throw s(Error(96),e);if(!d[n]){if(!t.extractEvents)throw s(Error(97),e);for(var o in d[n]=t,n=t.eventTypes){var i=void 0,r=n[o],c=t,p=o;if(h.hasOwnProperty(p))throw s(Error(99),p);h[p]=r;var f=r.phasedRegistrationNames;if(f){for(i in f)f.hasOwnProperty(i)&&u(f[i],c,p);i=!0}else r.registrationName?(u(r.registrationName,c,p),i=!0):i=!1;if(!i)throw s(Error(98),o,e)}}}}function u(e,t,n){if(p[e])throw s(Error(100),e);p[e]=t,f[e]=t.eventTypes[n].dependencies}var d=[],h={},p={},f={};function m(e,t,n,o,i,r,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var g=!1,b=null,w=!1,k=null,v={onError:function(e){g=!0,b=e}};function _(e,t,n,o,i,r,s,a,l){g=!1,b=null,m.apply(v,arguments)}var y=null,x=null,C=null;function T(e,t,n){var o=e.type||"unknown-event";e.currentTarget=C(n),function(e,t,n,o,i,r,a,l,c){if(_.apply(this,arguments),g){if(!g)throw s(Error(198));var u=b;g=!1,b=null,w||(w=!0,k=u)}}(o,t,void 0,e),e.currentTarget=null}function E(e,t){if(null==t)throw s(Error(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function S(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var P=null;function A(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var o=0;o<t.length&&!e.isPropagationStopped();o++)T(e,t[o],n[o]);else t&&T(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function R(e){if(null!==e&&(P=E(P,e)),e=P,P=null,e){if(S(e,A),P)throw s(Error(95));if(w)throw e=k,w=!1,k=null,e}}var O={injectEventPluginOrder:function(e){if(a)throw s(Error(101));a=Array.prototype.slice.call(e),c()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var o=e[t];if(!l.hasOwnProperty(t)||l[t]!==o){if(l[t])throw s(Error(102),t);l[t]=o,n=!0}}n&&c()}};function N(e,t){var n=e.stateNode;if(!n)return null;var o=y(n);if(!o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw s(Error(231),t,typeof n);return n}var I=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;I.hasOwnProperty("ReactCurrentDispatcher")||(I.ReactCurrentDispatcher={current:null}),I.hasOwnProperty("ReactCurrentBatchConfig")||(I.ReactCurrentBatchConfig={suspense:null});var M=/^(.*)[\\\/]/,z="function"==typeof Symbol&&Symbol.for,D=z?Symbol.for("react.element"):60103,V=z?Symbol.for("react.portal"):60106,B=z?Symbol.for("react.fragment"):60107,F=z?Symbol.for("react.strict_mode"):60108,L=z?Symbol.for("react.profiler"):60114,j=z?Symbol.for("react.provider"):60109,H=z?Symbol.for("react.context"):60110,W=z?Symbol.for("react.concurrent_mode"):60111,U=z?Symbol.for("react.forward_ref"):60112,q=z?Symbol.for("react.suspense"):60113,$=z?Symbol.for("react.suspense_list"):60120,G=z?Symbol.for("react.memo"):60115,K=z?Symbol.for("react.lazy"):60116;z&&Symbol.for("react.fundamental"),z&&Symbol.for("react.responder"),z&&Symbol.for("react.scope");var J="function"==typeof Symbol&&Symbol.iterator;function Y(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=J&&e[J]||e["@@iterator"])?e:null}function Q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case B:return"Fragment";case V:return"Portal";case L:return"Profiler";case F:return"StrictMode";case q:return"Suspense";case $:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case H:return"Context.Consumer";case j:return"Context.Provider";case U:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case G:return Q(e.type);case K:if(e=1===e._status?e._result:null)return Q(e)}return null}function X(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var o=e._debugOwner,i=e._debugSource,r=Q(e.type);n=null,o&&(n=Q(o.type)),o=r,r="",i?r=" (at "+i.fileName.replace(M,"")+":"+i.lineNumber+")":n&&(r=" (created by "+n+")"),n="\n    in "+(o||"Unknown")+r}t+=n,e=e.return}while(e);return t}var Z=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),ee=null,te=null,ne=null;function oe(e){if(e=x(e)){if("function"!=typeof ee)throw s(Error(280));var t=y(e.stateNode);ee(e.stateNode,e.type,t)}}function ie(e){te?ne?ne.push(e):ne=[e]:te=e}function re(){if(te){var e=te,t=ne;if(ne=te=null,oe(e),t)for(e=0;e<t.length;e++)oe(t[e])}}function se(e,t){return e(t)}function ae(e,t,n,o){return e(t,n,o)}function le(){}var ce=se,ue=!1,de=!1;function he(){null===te&&null===ne||(le(),re())}new Map,new Map,new Map;var pe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fe=Object.prototype.hasOwnProperty,me={},ge={};function be(e,t,n,o,i,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){we[e]=new be(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];we[t]=new be(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){we[e]=new be(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){we[e]=new be(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){we[e]=new be(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){we[e]=new be(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){we[e]=new be(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){we[e]=new be(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){we[e]=new be(e,5,!1,e.toLowerCase(),null,!1)}));var ke=/[\-:]([a-z])/g;function ve(e){return e[1].toUpperCase()}function _e(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ye(e,t,n,o){var i=we.hasOwnProperty(t)?we[t]:null;(null!==i?0===i.type:!o&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,o){if(null==t||function(e,t,n,o){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,o))return!0;if(o)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,o)&&(n=null),o||null===i?function(e){return!!fe.call(ge,e)||!fe.call(me,e)&&(pe.test(e)?ge[e]=!0:(me[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,o=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}function xe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ce(e){e._valueTracker||(e._valueTracker=function(e){var t=xe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){o=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Te(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=xe(e)?e.checked?"true":"false":e.value),(e=o)!==n&&(t.setValue(e),!0)}function Ee(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Se(e,t){var n=null==t.defaultValue?"":t.defaultValue,o=null!=t.checked?t.checked:t.defaultChecked;n=_e(null!=t.value?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Pe(e,t){null!=(t=t.checked)&&ye(e,"checked",t,!1)}function Ae(e,t){Pe(e,t);var n=_e(t.value),o=t.type;if(null!=n)"number"===o?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===o||"reset"===o)return void e.removeAttribute("value");t.hasOwnProperty("value")?Oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&Oe(e,t.type,_e(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!("submit"!==o&&"reset"!==o||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Oe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ne(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return o.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ie(e,t,n,o){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&o&&(e[n].defaultSelected=!0)}else{for(n=""+_e(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(o&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Me(e,t){if(null!=t.dangerouslySetInnerHTML)throw s(Error(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ze(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw s(Error(92));if(Array.isArray(t)){if(!(1>=t.length))throw s(Error(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:_e(n)}}function De(e,t){var n=_e(t.value),o=_e(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=o&&(e.defaultValue=""+o)}function Ve(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(ke,ve);we[t]=new be(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(ke,ve);we[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(ke,ve);we[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){we[e]=new be(e,1,!1,e.toLowerCase(),null,!1)})),we.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){we[e]=new be(e,1,!1,e.toLowerCase(),null,!0)}));var Be="http://www.w3.org/1999/xhtml",Fe="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var He,We=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,o,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Fe||"innerHTML"in e)e.innerHTML=t;else{for((He=He||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=He.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function qe(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $e={animationend:qe("Animation","AnimationEnd"),animationiteration:qe("Animation","AnimationIteration"),animationstart:qe("Animation","AnimationStart"),transitionend:qe("Transition","TransitionEnd")},Ge={},Ke={};function Je(e){if(Ge[e])return Ge[e];if(!$e[e])return e;var t,n=$e[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ke)return Ge[e]=n[t];return e}Z&&(Ke=document.createElement("div").style,"AnimationEvent"in window||(delete $e.animationend.animation,delete $e.animationiteration.animation,delete $e.animationstart.animation),"TransitionEvent"in window||delete $e.transitionend.transition);var Ye=Je("animationend"),Qe=Je("animationiteration"),Xe=Je("animationstart"),Ze=Je("transitionend"),et="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tt=!1,nt=[],ot=null,it=null,rt=null,st=new Map,at=new Map,lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),ct="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function ut(e,t,n,o){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:o}}function dt(e,t){switch(e){case"focus":case"blur":ot=null;break;case"dragenter":case"dragleave":it=null;break;case"mouseover":case"mouseout":rt=null;break;case"pointerover":case"pointerout":st.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":at.delete(t.pointerId)}}function ht(e,t,n,o,i){return null===e||e.nativeEvent!==i?ut(t,n,o,i):(e.eventSystemFlags|=o,e)}function pt(e){if(null!==e.blockedOn)return!1;var t=Cn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);return null===t||(e.blockedOn=t,!1)}function ft(e,t,n){pt(e)&&n.delete(t)}function mt(){for(tt=!1;0<nt.length;){var e=nt[0];if(null!==e.blockedOn)break;var t=Cn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:nt.shift()}null!==ot&&pt(ot)&&(ot=null),null!==it&&pt(it)&&(it=null),null!==rt&&pt(rt)&&(rt=null),st.forEach(ft),at.forEach(ft)}function gt(e,t){e.blockedOn===t&&(e.blockedOn=null,tt||(tt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mt)))}function bt(e){function t(t){return gt(t,e)}if(0<nt.length){gt(nt[0],e);for(var n=1;n<nt.length;n++){var o=nt[n];o.blockedOn===e&&(o.blockedOn=null)}}null!==ot&&gt(ot,e),null!==it&&gt(it,e),null!==rt&&gt(rt,e),st.forEach(t),at.forEach(t)}var wt=1024;function kt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function vt(e){if(kt(e)!==e)throw s(Error(188))}function _t(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=kt(e)))throw s(Error(188));return t!==e?null:e}for(var n=e,o=t;;){var i=n.return;if(null===i)break;var r=i.alternate;if(null===r){if(null!==(o=i.return)){n=o;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return vt(i),e;if(r===o)return vt(i),t;r=r.sibling}throw s(Error(188))}if(n.return!==o.return)n=i,o=r;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,o=r;break}if(l===o){a=!0,o=i,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,o=i;break}if(l===o){a=!0,o=r,n=i;break}l=l.sibling}if(!a)throw s(Error(189))}}if(n.alternate!==o)throw s(Error(190))}if(3!==n.tag)throw s(Error(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function yt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function xt(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Ct(e,t,n){(t=N(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=E(n._dispatchListeners,t),n._dispatchInstances=E(n._dispatchInstances,e))}function Tt(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=xt(t);for(t=n.length;0<t--;)Ct(n[t],"captured",e);for(t=0;t<n.length;t++)Ct(n[t],"bubbled",e)}}function Et(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=N(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=E(n._dispatchListeners,t),n._dispatchInstances=E(n._dispatchInstances,e))}function St(e){e&&e.dispatchConfig.registrationName&&Et(e._targetInst,null,e)}function Pt(e){S(e,Tt)}function At(){return!0}function Rt(){return!1}function Ot(e,t,n,o){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=o:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?At:Rt,this.isPropagationStopped=Rt,this}function Nt(e,t,n,o){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,o),i}return new this(e,t,n,o)}function It(e){if(!(e instanceof this))throw s(Error(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Mt(e){e.eventPool=[],e.getPooled=Nt,e.release=It}i(Ot.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=At)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=At)},persist:function(){this.isPersistent=At},isPersistent:Rt,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Rt,this._dispatchInstances=this._dispatchListeners=null}}),Ot.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Ot.extend=function(e){function t(){}function n(){return o.apply(this,arguments)}var o=this;t.prototype=o.prototype;var r=new t;return i(r,n.prototype),n.prototype=r,n.prototype.constructor=n,n.Interface=i({},o.Interface,e),n.extend=o.extend,Mt(n),n},Mt(Ot);var zt=Ot.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Dt=Ot.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vt=Ot.extend({view:null,detail:null}),Bt=Vt.extend({relatedTarget:null});function Ft(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Lt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ht={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ht[e])&&!!t[e]}function Ut(){return Wt}for(var qt=Vt.extend({key:function(e){if(e.key){var t=Lt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ft(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jt[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ut,charCode:function(e){return"keypress"===e.type?Ft(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ft(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),$t=0,Gt=0,Kt=!1,Jt=!1,Yt=Vt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ut,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=$t;return $t=e.screenX,Kt?"mousemove"===e.type?e.screenX-t:0:(Kt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Gt;return Gt=e.screenY,Jt?"mousemove"===e.type?e.screenY-t:0:(Jt=!0,0)}}),Qt=Yt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Xt=Yt.extend({dataTransfer:null}),Zt=Vt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ut}),en=Ot.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),tn=Yt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),nn=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Ye,"animationEnd",2],[Qe,"animationIteration",2],[Xe,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Ze,"transitionEnd",2],["waiting","waiting",2]],on={},rn={},sn=0;sn<nn.length;sn++){var an=nn[sn],ln=an[0],cn=an[1],un=an[2],dn="on"+(cn[0].toUpperCase()+cn.slice(1)),hn={phasedRegistrationNames:{bubbled:dn,captured:dn+"Capture"},dependencies:[ln],eventPriority:un};on[cn]=hn,rn[ln]=hn}var pn={eventTypes:on,getEventPriority:function(e){return void 0!==(e=rn[e])?e.eventPriority:2},extractEvents:function(e,t,n,o){var i=rn[e];if(!i)return null;switch(e){case"keypress":if(0===Ft(n))return null;case"keydown":case"keyup":e=qt;break;case"blur":case"focus":e=Bt;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Yt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Xt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Zt;break;case Ye:case Qe:case Xe:e=zt;break;case Ze:e=en;break;case"scroll":e=Vt;break;case"wheel":e=tn;break;case"copy":case"cut":case"paste":e=Dt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Qt;break;default:e=Ot}return Pt(t=e.getPooled(i,t,n,o)),t}},fn=pn.getEventPriority,mn=[];function gn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var o=n;if(3===o.tag)o=o.stateNode.containerInfo;else{for(;o.return;)o=o.return;o=3!==o.tag?null:o.stateNode.containerInfo}if(!o)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=to(o)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=yt(e.nativeEvent);o=e.topLevelType;for(var r=e.nativeEvent,s=e.eventSystemFlags,a=null,l=0;l<d.length;l++){var c=d[l];c&&(c=c.extractEvents(o,t,r,i,s))&&(a=E(a,c))}R(a)}}var bn=!0;function wn(e,t){kn(t,e,!1)}function kn(e,t,n){switch(fn(t)){case 0:var o=vn.bind(null,t,1);break;case 1:o=_n.bind(null,t,1);break;default:o=xn.bind(null,t,1)}n?e.addEventListener(t,o,!0):e.addEventListener(t,o,!1)}function vn(e,t,n){ue||le();var o=xn,i=ue;ue=!0;try{ae(o,e,t,n)}finally{(ue=i)||he()}}function _n(e,t,n){xn(e,t,n)}function yn(e,t,n,o){if(mn.length){var i=mn.pop();i.topLevelType=e,i.eventSystemFlags=t,i.nativeEvent=n,i.targetInst=o,e=i}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:n,targetInst:o,ancestors:[]};try{if(t=gn,n=e,de)t(n,void 0);else{de=!0;try{ce(t,n,void 0)}finally{de=!1,he()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,mn.length<10&&mn.push(e)}}function xn(e,t,n){if(bn)if(0<nt.length&&-1<lt.indexOf(e))e=ut(null,e,t,n),nt.push(e);else{var o=Cn(e,t,n);null===o?dt(e,n):-1<lt.indexOf(e)?(e=ut(o,e,t,n),nt.push(e)):function(e,t,n,o){switch(t){case"focus":return ot=ht(ot,e,t,n,o),!0;case"dragenter":return it=ht(it,e,t,n,o),!0;case"mouseover":return rt=ht(rt,e,t,n,o),!0;case"pointerover":var i=o.pointerId;return st.set(i,ht(st.get(i)||null,e,t,n,o)),!0;case"gotpointercapture":return i=o.pointerId,at.set(i,ht(at.get(i)||null,e,t,n,o)),!0}return!1}(o,e,t,n)||(dt(e,n),yn(e,t,n,null))}}function Cn(e,t,n){var o=yt(n),i=to(o);if(null!==i)if(null===(o=kt(i)))i=null;else{var r=o.tag;if(13===r){if(null!==(o=13!==o.tag||(null===(i=o.memoizedState)&&null!==(o=o.alternate)&&(i=o.memoizedState),null===i)?null:i.dehydrated))return o;i=null}else if(3===r){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}return yn(e,t,n,i),null}function Tn(e){if(!Z)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var En=new("function"==typeof WeakMap?WeakMap:Map);function Sn(e){var t=En.get(e);return void 0===t&&(t=new Set,En.set(e,t)),t}function Pn(e,t,n){if(!n.has(e)){switch(e){case"scroll":kn(t,"scroll",!0);break;case"focus":case"blur":kn(t,"focus",!0),kn(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":Tn(e)&&kn(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===et.indexOf(e)&&wn(e,t)}n.add(e)}}var An={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rn=["Webkit","ms","Moz","O"];function On(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||An.hasOwnProperty(e)&&An[e]?(""+t).trim():t+"px"}function Nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var o=0===n.indexOf("--"),i=On(n,t[n],o);"float"===n&&(n="cssFloat"),o?e.setProperty(n,i):e[n]=i}}Object.keys(An).forEach((function(e){Rn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),An[t]=An[e]}))}));var In=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mn(e,t){if(t){if(In[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw s(Error(137),e,"");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw s(Error(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw s(Error(61))}if(null!=t.style&&"object"!=typeof t.style)throw s(Error(62),"")}}function zn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Dn(e,t){var n=Sn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=f[t];for(var o=0;o<t.length;o++)Pn(t[o],e,n)}function Vn(){}function Bn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ln(e,t){var n,o=Fn(e);for(e=0;o;){if(3===o.nodeType){if(n=e+o.textContent.length,e<=t&&n>=t)return{node:o,offset:t-e};e=n}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Fn(o)}}function jn(){for(var e=window,t=Bn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Bn((e=t.contentWindow).document)}return t}function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Wn=null,Un=null;function qn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function $n(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Gn="function"==typeof setTimeout?setTimeout:void 0,Kn="function"==typeof clearTimeout?clearTimeout:void 0;function Jn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qn=Math.random().toString(36).slice(2),Xn="__reactInternalInstance$"+Qn,Zn="__reactEventHandlers$"+Qn,eo="__reactContainere$"+Qn;function to(e){var t=e[Xn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[eo]||n[Xn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yn(e);null!==e;){if(n=e[Xn])return n;e=Yn(e)}return t}n=(e=n).parentNode}return null}function no(e){return!(e=e[Xn]||e[eo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function oo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw s(Error(33))}function io(e){return e[Zn]||null}var ro=null,so=null,ao=null;function lo(){if(ao)return ao;var e,t,n=so,o=n.length,i="value"in ro?ro.value:ro.textContent,r=i.length;for(e=0;e<o&&n[e]===i[e];e++);var s=o-e;for(t=1;t<=s&&n[o-t]===i[r-t];t++);return ao=i.slice(e,1<t?1-t:void 0)}var co=Ot.extend({data:null}),uo=Ot.extend({data:null}),ho=[9,13,27,32],po=Z&&"CompositionEvent"in window,fo=null;Z&&"documentMode"in document&&(fo=document.documentMode);var mo=Z&&"TextEvent"in window&&!fo,go=Z&&(!po||fo&&8<fo&&11>=fo),bo=String.fromCharCode(32),wo={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ko=!1;function vo(e,t){switch(e){case"keyup":return-1!==ho.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function _o(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var yo=!1,xo={eventTypes:wo,extractEvents:function(e,t,n,o){var i;if(po)e:{switch(e){case"compositionstart":var r=wo.compositionStart;break e;case"compositionend":r=wo.compositionEnd;break e;case"compositionupdate":r=wo.compositionUpdate;break e}r=void 0}else yo?vo(e,n)&&(r=wo.compositionEnd):"keydown"===e&&229===n.keyCode&&(r=wo.compositionStart);return r?(go&&"ko"!==n.locale&&(yo||r!==wo.compositionStart?r===wo.compositionEnd&&yo&&(i=lo()):(so="value"in(ro=o)?ro.value:ro.textContent,yo=!0)),r=co.getPooled(r,t,n,o),i?r.data=i:null!==(i=_o(n))&&(r.data=i),Pt(r),i=r):i=null,(e=mo?function(e,t){switch(e){case"compositionend":return _o(t);case"keypress":return 32!==t.which?null:(ko=!0,bo);case"textInput":return(e=t.data)===bo&&ko?null:e;default:return null}}(e,n):function(e,t){if(yo)return"compositionend"===e||!po&&vo(e,t)?(e=lo(),ao=so=ro=null,yo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return go&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=uo.getPooled(wo.beforeInput,t,n,o)).data=e,Pt(t)):t=null,null===i?t:null===t?i:[i,t]}},Co={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function To(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Co[e.type]:"textarea"===t}var Eo={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function So(e,t,n){return(e=Ot.getPooled(Eo.change,e,t,n)).type="change",ie(n),Pt(e),e}var Po=null,Ao=null;function Ro(e){R(e)}function Oo(e){if(Te(oo(e)))return e}function No(e,t){if("change"===e)return t}var Io=!1;function Mo(){Po&&(Po.detachEvent("onpropertychange",zo),Ao=Po=null)}function zo(e){if("value"===e.propertyName&&Oo(Ao))if(e=So(Ao,e,yt(e)),ue)R(e);else{ue=!0;try{se(Ro,e)}finally{ue=!1,he()}}}function Do(e,t,n){"focus"===e?(Mo(),Ao=n,(Po=t).attachEvent("onpropertychange",zo)):"blur"===e&&Mo()}function Vo(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Oo(Ao)}function Bo(e,t){if("click"===e)return Oo(t)}function Fo(e,t){if("input"===e||"change"===e)return Oo(t)}Z&&(Io=Tn("input")&&(!document.documentMode||9<document.documentMode));var Lo={eventTypes:Eo,_isInputEventSupported:Io,extractEvents:function(e,t,n,o){var i=t?oo(t):window,r=i.nodeName&&i.nodeName.toLowerCase();if("select"===r||"input"===r&&"file"===i.type)var s=No;else if(To(i))if(Io)s=Fo;else{s=Vo;var a=Do}else(r=i.nodeName)&&"input"===r.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(s=Bo);if(s&&(s=s(e,t)))return So(s,n,o);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Oe(i,"number",i.value)}},jo={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ho={eventTypes:jo,extractEvents:function(e,t,n,o,i){var r="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e;if(r&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!s&&!r)return null;if(i=o.window===o?o:(i=o.ownerDocument)?i.defaultView||i.parentWindow:window,s?(s=t,null!==(t=(t=n.relatedTarget||n.toElement)?to(t):null)&&(t!==(r=kt(t))||5!==t.tag&&6!==t.tag)&&(t=null)):s=null,s===t)return null;if("mouseout"===e||"mouseover"===e)var a=Yt,l=jo.mouseLeave,c=jo.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(a=Qt,l=jo.pointerLeave,c=jo.pointerEnter,u="pointer");if(e=null==s?i:oo(s),i=null==t?i:oo(t),(l=a.getPooled(l,s,n,o)).type=u+"leave",l.target=e,l.relatedTarget=i,(n=a.getPooled(c,t,n,o)).type=u+"enter",n.target=i,n.relatedTarget=e,u=t,(o=s)&&u)e:{for(c=u,e=0,s=a=o;s;s=xt(s))e++;for(s=0,t=c;t;t=xt(t))s++;for(;0<e-s;)a=xt(a),e--;for(;0<s-e;)c=xt(c),s--;for(;e--;){if(a===c||a===c.alternate)break e;a=xt(a),c=xt(c)}a=null}else a=null;for(c=a,a=[];o&&o!==c&&(null===(e=o.alternate)||e!==c);)a.push(o),o=xt(o);for(o=[];u&&u!==c&&(null===(e=u.alternate)||e!==c);)o.push(u),u=xt(u);for(u=0;u<a.length;u++)Et(a[u],"bubbled",l);for(u=o.length;0<u--;)Et(o[u],"captured",n);return[l,n]}},Wo="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Uo=Object.prototype.hasOwnProperty;function qo(e,t){if(Wo(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++)if(!Uo.call(t,n[o])||!Wo(e[n[o]],t[n[o]]))return!1;return!0}var $o=Z&&"documentMode"in document&&11>=document.documentMode,Go={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Ko=null,Jo=null,Yo=null,Qo=!1;function Xo(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Qo||null==Ko||Ko!==Bn(n)?null:(n="selectionStart"in(n=Ko)&&Hn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Yo&&qo(Yo,n)?null:(Yo=n,(e=Ot.getPooled(Go.select,Jo,e,t)).type="select",e.target=Ko,Pt(e),e))}var Zo={eventTypes:Go,extractEvents:function(e,t,n,o){var i,r=o.window===o?o.document:9===o.nodeType?o:o.ownerDocument;if(!(i=!r)){e:{r=Sn(r),i=f.onSelect;for(var s=0;s<i.length;s++)if(!r.has(i[s])){r=!1;break e}r=!0}i=!r}if(i)return null;switch(r=t?oo(t):window,e){case"focus":(To(r)||"true"===r.contentEditable)&&(Ko=r,Jo=t,Yo=null);break;case"blur":Yo=Jo=Ko=null;break;case"mousedown":Qo=!0;break;case"contextmenu":case"mouseup":case"dragend":return Qo=!1,Xo(n,o);case"selectionchange":if($o)break;case"keydown":case"keyup":return Xo(n,o)}return null}};O.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),y=io,x=no,C=oo,O.injectEventPluginsByName({SimpleEventPlugin:pn,EnterLeaveEventPlugin:Ho,ChangeEventPlugin:Lo,SelectEventPlugin:Zo,BeforeInputEventPlugin:xo}),new Set;var ei=[],ti=-1;function ni(e){0>ti||(e.current=ei[ti],ei[ti]=null,ti--)}function oi(e,t){ei[++ti]=e.current,e.current=t}var ii={},ri={current:ii},si={current:!1},ai=ii;function li(e,t){var n=e.type.contextTypes;if(!n)return ii;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var i,r={};for(i in n)r[i]=t[i];return o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function ci(e){return null!=e.childContextTypes}function ui(e){ni(si),ni(ri)}function di(e){ni(si),ni(ri)}function hi(e,t,n){if(ri.current!==ii)throw s(Error(168));oi(ri,t),oi(si,n)}function pi(e,t,n){var o=e.stateNode;if(e=t.childContextTypes,"function"!=typeof o.getChildContext)return n;for(var r in o=o.getChildContext())if(!(r in e))throw s(Error(108),Q(t)||"Unknown",r);return i({},n,{},o)}function fi(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||ii,ai=ri.current,oi(ri,t),oi(si,si.current),!0}function mi(e,t,n){var o=e.stateNode;if(!o)throw s(Error(169));n?(t=pi(e,t,ai),o.__reactInternalMemoizedMergedChildContext=t,ni(si),ni(ri),oi(ri,t)):ni(si),oi(si,n)}var gi=r.unstable_runWithPriority,bi=r.unstable_scheduleCallback,wi=r.unstable_cancelCallback,ki=r.unstable_shouldYield,vi=r.unstable_requestPaint,_i=r.unstable_now,yi=r.unstable_getCurrentPriorityLevel,xi=r.unstable_ImmediatePriority,Ci=r.unstable_UserBlockingPriority,Ti=r.unstable_NormalPriority,Ei=r.unstable_LowPriority,Si=r.unstable_IdlePriority,Pi={},Ai=void 0!==vi?vi:function(){},Ri=null,Oi=null,Ni=!1,Ii=_i(),Mi=1e4>Ii?_i:function(){return _i()-Ii};function zi(){switch(yi()){case xi:return 99;case Ci:return 98;case Ti:return 97;case Ei:return 96;case Si:return 95;default:throw s(Error(332))}}function Di(e){switch(e){case 99:return xi;case 98:return Ci;case 97:return Ti;case 96:return Ei;case 95:return Si;default:throw s(Error(332))}}function Vi(e,t){return e=Di(e),gi(e,t)}function Bi(e,t,n){return e=Di(e),bi(e,t,n)}function Fi(e){return null===Ri?(Ri=[e],Oi=bi(xi,ji)):Ri.push(e),Pi}function Li(){if(null!==Oi){var e=Oi;Oi=null,wi(e)}ji()}function ji(){if(!Ni&&null!==Ri){Ni=!0;var e=0;try{var t=Ri;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ri=null}catch(t){throw null!==Ri&&(Ri=Ri.slice(e+1)),bi(xi,Li),t}finally{Ni=!1}}}function Hi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Wi={current:null},Ui=null,qi=null,$i=null;function Gi(){$i=qi=Ui=null}function Ki(e,t){var n=e.type._context;oi(Wi,n._currentValue),n._currentValue=t}function Ji(e){var t=Wi.current;ni(Wi),e.type._context._currentValue=t}function Yi(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Qi(e,t){Ui=e,$i=qi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Cs=!0),e.firstContext=null)}function Xi(e,t){if($i!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||($i=e,t=1073741823),t={context:e,observedBits:t,next:null},null===qi){if(null===Ui)throw s(Error(308));qi=t,Ui.dependencies={expirationTime:0,firstContext:t,responders:null}}else qi=qi.next=t;return e._currentValue}var Zi=!1;function er(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function tr(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function nr(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function or(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function ir(e,t){var n=e.alternate;if(null===n){var o=e.updateQueue,i=null;null===o&&(o=e.updateQueue=er(e.memoizedState))}else o=e.updateQueue,i=n.updateQueue,null===o?null===i?(o=e.updateQueue=er(e.memoizedState),i=n.updateQueue=er(n.memoizedState)):o=e.updateQueue=tr(i):null===i&&(i=n.updateQueue=tr(o));null===i||o===i?or(o,t):null===o.lastUpdate||null===i.lastUpdate?(or(o,t),or(i,t)):(or(o,t),i.lastUpdate=t)}function rr(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=er(e.memoizedState):sr(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function sr(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=tr(t)),t}function ar(e,t,n,o,r,s){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(s,o,r):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null==(r="function"==typeof(e=n.payload)?e.call(s,o,r):e))break;return i({},o,r);case 2:Zi=!0}return o}function lr(e,t,n,o,i){Zi=!1;for(var r=(t=sr(e,t)).baseState,s=null,a=0,l=t.firstUpdate,c=r;null!==l;){var u=l.expirationTime;u<i?(null===s&&(s=l,r=c),a<u&&(a=u)):(Qa(u,l.suspenseConfig),c=ar(e,0,l,c,n,o),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(u=null,l=t.firstCapturedUpdate;null!==l;){var d=l.expirationTime;d<i?(null===u&&(u=l,null===s&&(r=c)),a<d&&(a=d)):(c=ar(e,0,l,c,n,o),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===s&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===s&&null===u&&(r=c),t.baseState=r,t.firstUpdate=s,t.firstCapturedUpdate=u,Xa(a),e.expirationTime=a,e.memoizedState=c}function cr(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),ur(t.firstEffect,n),t.firstEffect=t.lastEffect=null,ur(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function ur(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var o=t;if("function"!=typeof n)throw s(Error(191),n);n.call(o)}e=e.nextEffect}}var dr=I.ReactCurrentBatchConfig,hr=(new o.Component).refs;function pr(e,t,n,o){n=null==(n=n(o,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,null!==(o=e.updateQueue)&&0===e.expirationTime&&(o.baseState=n)}var fr={isMounted:function(e){return!!(e=e._reactInternalFiber)&&kt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var o=Ia(),i=dr.suspense;(i=nr(o=Ma(o,e,i),i)).payload=t,null!=n&&(i.callback=n),ir(e,i),Va(e,o)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var o=Ia(),i=dr.suspense;(i=nr(o=Ma(o,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),ir(e,i),Va(e,o)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ia(),o=dr.suspense;(o=nr(n=Ma(n,e,o),o)).tag=2,null!=t&&(o.callback=t),ir(e,o),Va(e,n)}};function mr(e,t,n,o,i,r,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(o,r,s):!(t.prototype&&t.prototype.isPureReactComponent&&qo(n,o)&&qo(i,r))}function gr(e,t,n){var o=!1,i=ii,r=t.contextType;return"object"==typeof r&&null!==r?r=Xi(r):(i=ci(t)?ai:ri.current,r=(o=null!=(o=t.contextTypes))?li(e,i):ii),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fr,e.stateNode=t,t._reactInternalFiber=e,o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=r),t}function br(e,t,n,o){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&fr.enqueueReplaceState(t,t.state,null)}function wr(e,t,n,o){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=hr;var r=t.contextType;"object"==typeof r&&null!==r?i.context=Xi(r):(r=ci(t)?ai:ri.current,i.context=li(e,r)),null!==(r=e.updateQueue)&&(lr(e,r,n,i,o),i.state=e.memoizedState),"function"==typeof(r=t.getDerivedStateFromProps)&&(pr(e,t,r,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fr.enqueueReplaceState(i,i.state,null),null!==(r=e.updateQueue)&&(lr(e,r,n,i,o),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var kr=Array.isArray;function vr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw s(Error(309));var o=n.stateNode}if(!o)throw s(Error(147),e);var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=o.refs;t===hr&&(t=o.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw s(Error(284));if(!n._owner)throw s(Error(290),e)}return e}function _r(e,t){if("textarea"!==e.type)throw s(Error(31),"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function yr(e){function t(t,n){if(e){var o=t.lastEffect;null!==o?(o.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,o){if(!e)return null;for(;null!==o;)t(n,o),o=o.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=wl(e,t)).index=0,e.sibling=null,e}function r(t,n,o){return t.index=o,e?null!==(o=t.alternate)?(o=o.index)<n?(t.effectTag=2,n):o:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,o){return null===t||6!==t.tag?((t=_l(n,e.mode,o)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,o){return null!==t&&t.elementType===n.type?((o=i(t,n.props)).ref=vr(e,t,n),o.return=e,o):((o=kl(n.type,n.key,n.props,null,e.mode,o)).ref=vr(e,t,n),o.return=e,o)}function u(e,t,n,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=yl(n,e.mode,o)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,o,r){return null===t||7!==t.tag?((t=vl(n,e.mode,o,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=_l(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case D:return(n=kl(t.type,t.key,t.props,null,e.mode,n)).ref=vr(e,null,t),n.return=e,n;case V:return(t=yl(t,e.mode,n)).return=e,t}if(kr(t)||Y(t))return(t=vl(t,e.mode,n,null)).return=e,t;_r(e,t)}return null}function p(e,t,n,o){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,o);if("object"==typeof n&&null!==n){switch(n.$$typeof){case D:return n.key===i?n.type===B?d(e,t,n.props.children,o,i):c(e,t,n,o):null;case V:return n.key===i?u(e,t,n,o):null}if(kr(n)||Y(n))return null!==i?null:d(e,t,n,o,null);_r(e,n)}return null}function f(e,t,n,o,i){if("string"==typeof o||"number"==typeof o)return l(t,e=e.get(n)||null,""+o,i);if("object"==typeof o&&null!==o){switch(o.$$typeof){case D:return e=e.get(null===o.key?n:o.key)||null,o.type===B?d(t,e,o.props.children,i,o.key):c(t,e,o,i);case V:return u(t,e=e.get(null===o.key?n:o.key)||null,o,i)}if(kr(o)||Y(o))return d(t,e=e.get(n)||null,o,i,null);_r(t,o)}return null}function m(i,s,a,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var b=p(i,d,a[m],l);if(null===b){null===d&&(d=g);break}e&&d&&null===b.alternate&&t(i,d),s=r(b,s,m),null===u?c=b:u.sibling=b,u=b,d=g}if(m===a.length)return n(i,d),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(s=r(d,s,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=o(i,d);m<a.length;m++)null!==(g=f(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=r(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),c}function g(i,a,l,c){var u=Y(l);if("function"!=typeof u)throw s(Error(150));if(null==(l=u.call(l)))throw s(Error(151));for(var d=u=null,m=a,g=a=0,b=null,w=l.next();null!==m&&!w.done;g++,w=l.next()){m.index>g?(b=m,m=null):b=m.sibling;var k=p(i,m,w.value,c);if(null===k){null===m&&(m=b);break}e&&m&&null===k.alternate&&t(i,m),a=r(k,a,g),null===d?u=k:d.sibling=k,d=k,m=b}if(w.done)return n(i,m),u;if(null===m){for(;!w.done;g++,w=l.next())null!==(w=h(i,w.value,c))&&(a=r(w,a,g),null===d?u=w:d.sibling=w,d=w);return u}for(m=o(i,m);!w.done;g++,w=l.next())null!==(w=f(m,i,g,w.value,c))&&(e&&null!==w.alternate&&m.delete(null===w.key?g:w.key),a=r(w,a,g),null===d?u=w:d.sibling=w,d=w);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,o,r,l){var c="object"==typeof r&&null!==r&&r.type===B&&null===r.key;c&&(r=r.props.children);var u="object"==typeof r&&null!==r;if(u)switch(r.$$typeof){case D:e:{for(u=r.key,c=o;null!==c;){if(c.key===u){if(7===c.tag?r.type===B:c.elementType===r.type){n(e,c.sibling),(o=i(c,r.type===B?r.props.children:r.props)).ref=vr(e,c,r),o.return=e,e=o;break e}n(e,c);break}t(e,c),c=c.sibling}r.type===B?((o=vl(r.props.children,e.mode,l,r.key)).return=e,e=o):((l=kl(r.type,r.key,r.props,null,e.mode,l)).ref=vr(e,o,r),l.return=e,e=l)}return a(e);case V:e:{for(c=r.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===r.containerInfo&&o.stateNode.implementation===r.implementation){n(e,o.sibling),(o=i(o,r.children||[])).return=e,e=o;break e}n(e,o);break}t(e,o),o=o.sibling}(o=yl(r,e.mode,l)).return=e,e=o}return a(e)}if("string"==typeof r||"number"==typeof r)return r=""+r,null!==o&&6===o.tag?(n(e,o.sibling),(o=i(o,r)).return=e,e=o):(n(e,o),(o=_l(r,e.mode,l)).return=e,e=o),a(e);if(kr(r))return m(e,o,r,l);if(Y(r))return g(e,o,r,l);if(u&&_r(e,r),void 0===r&&!c)switch(e.tag){case 1:case 0:throw e=e.type,s(Error(152),e.displayName||e.name||"Component")}return n(e,o)}}var xr=yr(!0),Cr=yr(!1),Tr={},Er={current:Tr},Sr={current:Tr},Pr={current:Tr};function Ar(e){if(e===Tr)throw s(Error(174));return e}function Rr(e,t){oi(Pr,t),oi(Sr,e),oi(Er,Tr);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:je(null,"");break;default:t=je(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}ni(Er),oi(Er,t)}function Or(e){ni(Er),ni(Sr),ni(Pr)}function Nr(e){Ar(Pr.current);var t=Ar(Er.current),n=je(t,e.type);t!==n&&(oi(Sr,e),oi(Er,n))}function Ir(e){Sr.current===e&&(ni(Er),ni(Sr))}var Mr={current:0};function zr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Dr(e,t){return{responder:e,props:t}}var Vr=I.ReactCurrentDispatcher,Br=0,Fr=null,Lr=null,jr=null,Hr=null,Wr=null,Ur=null,qr=0,$r=null,Gr=0,Kr=!1,Jr=null,Yr=0;function Qr(){throw s(Error(321))}function Xr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wo(e[n],t[n]))return!1;return!0}function Zr(e,t,n,o,i,r){if(Br=r,Fr=t,jr=null!==e?e.memoizedState:null,Vr.current=null===jr?hs:ps,t=n(o,i),Kr){do{Kr=!1,Yr+=1,jr=null!==e?e.memoizedState:null,Ur=Hr,$r=Wr=Lr=null,Vr.current=ps,t=n(o,i)}while(Kr);Jr=null,Yr=0}if(Vr.current=ds,(e=Fr).memoizedState=Hr,e.expirationTime=qr,e.updateQueue=$r,e.effectTag|=Gr,e=null!==Lr&&null!==Lr.next,Br=0,Ur=Wr=Hr=jr=Lr=Fr=null,qr=0,$r=null,Gr=0,e)throw s(Error(300));return t}function es(){Vr.current=ds,Br=0,Ur=Wr=Hr=jr=Lr=Fr=null,qr=0,$r=null,Gr=0,Kr=!1,Jr=null,Yr=0}function ts(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Wr?Hr=Wr=e:Wr=Wr.next=e,Wr}function ns(){if(null!==Ur)Ur=(Wr=Ur).next,jr=null!==(Lr=jr)?Lr.next:null;else{if(null===jr)throw s(Error(310));var e={memoizedState:(Lr=jr).memoizedState,baseState:Lr.baseState,queue:Lr.queue,baseUpdate:Lr.baseUpdate,next:null};Wr=null===Wr?Hr=e:Wr.next=e,jr=Lr.next}return Wr}function os(e,t){return"function"==typeof t?t(e):t}function is(e){var t=ns(),n=t.queue;if(null===n)throw s(Error(311));if(n.lastRenderedReducer=e,0<Yr){var o=n.dispatch;if(null!==Jr){var i=Jr.get(n);if(void 0!==i){Jr.delete(n);var r=t.memoizedState;do{r=e(r,i.action),i=i.next}while(null!==i);return Wo(r,t.memoizedState)||(Cs=!0),t.memoizedState=r,t.baseUpdate===n.last&&(t.baseState=r),n.lastRenderedState=r,[r,o]}}return[t.memoizedState,o]}o=n.last;var a=t.baseUpdate;if(r=t.baseState,null!==a?(null!==o&&(o.next=null),o=a.next):o=null!==o?o.next:null,null!==o){var l=i=null,c=o,u=!1;do{var d=c.expirationTime;d<Br?(u||(u=!0,l=a,i=r),d>qr&&Xa(qr=d)):(Qa(d,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action)),a=c,c=c.next}while(null!==c&&c!==o);u||(l=a,i=r),Wo(r,t.memoizedState)||(Cs=!0),t.memoizedState=r,t.baseUpdate=l,t.baseState=i,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function rs(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},null===$r?($r={lastEffect:null}).lastEffect=e.next=e:null===(t=$r.lastEffect)?$r.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,$r.lastEffect=e),e}function ss(e,t,n,o){var i=ts();Gr|=e,i.memoizedState=rs(t,n,void 0,void 0===o?null:o)}function as(e,t,n,o){var i=ns();o=void 0===o?null:o;var r=void 0;if(null!==Lr){var s=Lr.memoizedState;if(r=s.destroy,null!==o&&Xr(o,s.deps))return void rs(0,n,r,o)}Gr|=e,i.memoizedState=rs(t,n,r,o)}function ls(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function cs(){}function us(e,t,n){if(!(25>Yr))throw s(Error(301));var o=e.alternate;if(e===Fr||null!==o&&o===Fr)if(Kr=!0,e={expirationTime:Br,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===Jr&&(Jr=new Map),void 0===(n=Jr.get(t)))Jr.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var i=Ia(),r=dr.suspense;r={expirationTime:i=Ma(i,e,r),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.last;if(null===a)r.next=r;else{var l=a.next;null!==l&&(r.next=l),a.next=r}if(t.last=r,0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var c=t.lastRenderedState,u=o(c,n);if(r.eagerReducer=o,r.eagerState=u,Wo(u,c))return}catch(e){}Va(e,i)}}var ds={readContext:Xi,useCallback:Qr,useContext:Qr,useEffect:Qr,useImperativeHandle:Qr,useLayoutEffect:Qr,useMemo:Qr,useReducer:Qr,useRef:Qr,useState:Qr,useDebugValue:Qr,useResponder:Qr},hs={readContext:Xi,useCallback:function(e,t){return ts().memoizedState=[e,void 0===t?null:t],e},useContext:Xi,useEffect:function(e,t){return ss(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ss(4,36,ls.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ss(4,36,e,t)},useMemo:function(e,t){var n=ts();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=ts();return t=void 0!==n?n(t):t,o.memoizedState=o.baseState=t,e=(e=o.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=us.bind(null,Fr,e),[o.memoizedState,e]},useRef:function(e){return e={current:e},ts().memoizedState=e},useState:function(e){var t=ts();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:os,lastRenderedState:e}).dispatch=us.bind(null,Fr,e),[t.memoizedState,e]},useDebugValue:cs,useResponder:Dr},ps={readContext:Xi,useCallback:function(e,t){var n=ns();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&Xr(t,o[1])?o[0]:(n.memoizedState=[e,t],e)},useContext:Xi,useEffect:function(e,t){return as(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,as(4,36,ls.bind(null,t,e),n)},useLayoutEffect:function(e,t){return as(4,36,e,t)},useMemo:function(e,t){var n=ns();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&Xr(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:is,useRef:function(){return ns().memoizedState},useState:function(e){return is(os)},useDebugValue:cs,useResponder:Dr},fs=null,ms=null,gs=!1;function bs(e,t){var n=gl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ws(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ks(e){if(gs){var t=ms;if(t){var n=t;if(!ws(e,t)){if(!(t=Jn(n.nextSibling))||!ws(e,t))return e.effectTag=e.effectTag&~wt|2,gs=!1,void(fs=e);bs(fs,n)}fs=e,ms=Jn(t.firstChild)}else e.effectTag=e.effectTag&~wt|2,gs=!1,fs=e}}function vs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;fs=e}function _s(e){if(e!==fs)return!1;if(!gs)return vs(e),gs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!$n(t,e.memoizedProps))for(t=ms;t;)bs(e,t),t=Jn(t.nextSibling);if(vs(e),13===e.tag)if(null===(e=null!==(e=e.memoizedState)?e.dehydrated:null))e=ms;else e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){e=Jn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}e=null}else e=fs?Jn(e.stateNode.nextSibling):null;return ms=e,!0}function ys(){ms=fs=null,gs=!1}var xs=I.ReactCurrentOwner,Cs=!1;function Ts(e,t,n,o){t.child=null===e?Cr(t,null,n,o):xr(t,e.child,n,o)}function Es(e,t,n,o,i){n=n.render;var r=t.ref;return Qi(t,i),o=Zr(e,t,n,o,r,i),null===e||Cs?(t.effectTag|=1,Ts(e,t,o,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),js(e,t,i))}function Ss(e,t,n,o,i,r){if(null===e){var s=n.type;return"function"!=typeof s||bl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=kl(n.type,null,o,null,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ps(e,t,s,o,i,r))}return s=e.child,i<r&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:qo)(i,o)&&e.ref===t.ref)?js(e,t,r):(t.effectTag|=1,(e=wl(s,o)).ref=t.ref,e.return=t,t.child=e)}function Ps(e,t,n,o,i,r){return null!==e&&qo(e.memoizedProps,o)&&e.ref===t.ref&&(Cs=!1,i<r)?js(e,t,r):Rs(e,t,n,o,r)}function As(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Rs(e,t,n,o,i){var r=ci(n)?ai:ri.current;return r=li(t,r),Qi(t,i),n=Zr(e,t,n,o,r,i),null===e||Cs?(t.effectTag|=1,Ts(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),js(e,t,i))}function Os(e,t,n,o,i){if(ci(n)){var r=!0;fi(t)}else r=!1;if(Qi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),gr(t,n,o),wr(t,n,o,i),o=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;c="object"==typeof c&&null!==c?Xi(c):li(t,c=ci(n)?ai:ri.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==o||l!==c)&&br(t,s,o,c),Zi=!1;var h=t.memoizedState;l=s.state=h;var p=t.updateQueue;null!==p&&(lr(t,p,o,s,i),l=t.memoizedState),a!==o||h!==l||si.current||Zi?("function"==typeof u&&(pr(t,n,u,o),l=t.memoizedState),(a=Zi||mr(t,n,a,o,h,l,c))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.effectTag|=4)):("function"==typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=o,t.memoizedState=l),s.props=o,s.state=l,s.context=c,o=a):("function"==typeof s.componentDidMount&&(t.effectTag|=4),o=!1)}else s=t.stateNode,a=t.memoizedProps,s.props=t.type===t.elementType?a:Hi(t.type,a),l=s.context,c="object"==typeof(c=n.contextType)&&null!==c?Xi(c):li(t,c=ci(n)?ai:ri.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==o||l!==c)&&br(t,s,o,c),Zi=!1,l=t.memoizedState,h=s.state=l,null!==(p=t.updateQueue)&&(lr(t,p,o,s,i),h=t.memoizedState),a!==o||l!==h||si.current||Zi?("function"==typeof u&&(pr(t,n,u,o),h=t.memoizedState),(u=Zi||mr(t,n,a,o,l,h,c))?(d||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(o,h,c),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(o,h,c)),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=o,t.memoizedState=h),s.props=o,s.state=h,s.context=c,o=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),o=!1);return Ns(e,t,n,o,r,i)}function Ns(e,t,n,o,i,r){As(e,t);var s=0!=(64&t.effectTag);if(!o&&!s)return i&&mi(t,n,!1),js(e,t,r);o=t.stateNode,xs.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:o.render();return t.effectTag|=1,null!==e&&s?(t.child=xr(t,e.child,null,r),t.child=xr(t,null,a,r)):Ts(e,t,a,r),t.memoizedState=o.state,i&&mi(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?hi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&hi(0,t.context,!1),Rr(e,t.containerInfo)}var Ms,zs,Ds,Vs={dehydrated:null,retryTime:1};function Bs(e,t,n){var o,i=t.mode,r=t.pendingProps,s=Mr.current,a=!1;if((o=0!=(64&t.effectTag))||(o=0!=(2&s)&&(null===e||null!==e.memoizedState)),o?(a=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===r.fallback||!0===r.unstable_avoidThisFallback||(s|=1),oi(Mr,1&s),null===e){if(a){if(a=r.fallback,(r=vl(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,r.child=e;null!==e;)e.return=r,e=e.sibling;return(n=vl(a,i,n,null)).return=t,r.sibling=n,t.memoizedState=Vs,t.child=r,n}return i=r.children,t.memoizedState=null,t.child=Cr(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,a){if(r=r.fallback,(n=wl(e,e.pendingProps)).return=t,0==(2&t.mode)&&(a=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(i=wl(i,r,i.expirationTime)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Vs,t.child=n,i}return n=xr(t,e.child,r.children,n),t.memoizedState=null,t.child=n}if(e=e.child,a){if(a=r.fallback,(r=vl(null,i,0,null)).return=t,r.child=e,null!==e&&(e.return=r),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,r.child=e;null!==e;)e.return=r,e=e.sibling;return(n=vl(a,i,n,null)).return=t,r.sibling=n,n.effectTag|=2,r.childExpirationTime=0,t.memoizedState=Vs,t.child=r,n}return t.memoizedState=null,t.child=xr(t,e,r.children,n)}function Fs(e,t,n,o,i){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,last:o,tail:n,tailExpiration:0,tailMode:i}:(r.isBackwards=t,r.rendering=null,r.last=o,r.tail=n,r.tailExpiration=0,r.tailMode=i)}function Ls(e,t,n){var o=t.pendingProps,i=o.revealOrder,r=o.tail;if(Ts(e,t,o.children,n),0!=(2&(o=Mr.current)))o=1&o|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag){if(null!==e.memoizedState){e.expirationTime<n&&(e.expirationTime=n);var s=e.alternate;null!==s&&s.expirationTime<n&&(s.expirationTime=n),Yi(e.return,n)}}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(oi(Mr,o),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(o=n.alternate)&&null===zr(o)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fs(t,!1,i,n,r);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(o=i.alternate)&&null===zr(o)){t.child=i;break}o=i.sibling,i.sibling=n,n=i,i=o}Fs(t,!0,n,null,r);break;case"together":Fs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function js(e,t,n){null!==e&&(t.dependencies=e.dependencies);var o=t.expirationTime;if(0!==o&&Xa(o),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw s(Error(153));if(null!==t.child){for(n=wl(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=wl(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Hs(e){e.effectTag|=4}function Ws(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Us(e){switch(e.tag){case 1:ci(e.type)&&ui();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Or(),di(),0!=(64&(t=e.effectTag)))throw s(Error(285));return e.effectTag=-4097&t|64,e;case 5:return Ir(e),null;case 13:return ni(Mr),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ni(Mr),null;case 4:return Or(),null;case 10:return Ji(e),null;default:return null}}function qs(e,t){return{value:e,source:t,stack:X(t)}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zs=function(e,t,n,o,r){var s=e.memoizedProps;if(s!==o){var a,l,c=t.stateNode;switch(Ar(Er.current),e=null,n){case"input":s=Ee(c,s),o=Ee(c,o),e=[];break;case"option":s=Ne(c,s),o=Ne(c,o),e=[];break;case"select":s=i({},s,{value:void 0}),o=i({},o,{value:void 0}),e=[];break;case"textarea":s=Me(c,s),o=Me(c,o),e=[];break;default:"function"!=typeof s.onClick&&"function"==typeof o.onClick&&(c.onclick=Vn)}for(a in Mn(n,o),n=null,s)if(!o.hasOwnProperty(a)&&s.hasOwnProperty(a)&&null!=s[a])if("style"===a)for(l in c=s[a])c.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(p.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in o){var u=o[a];if(c=null!=s?s[a]:void 0,o.hasOwnProperty(a)&&u!==c&&(null!=u||null!=c))if("style"===a)if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(e||(e=[]),e.push(a,n)),n=u;else"dangerouslySetInnerHTML"===a?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(a,""+u)):"children"===a?c===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(a,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(p.hasOwnProperty(a)?(null!=u&&Dn(r,a),e||c===u||(e=[])):(e=e||[]).push(a,u))}n&&(e=e||[]).push("style",n),r=e,(t.updateQueue=r)&&Hs(t)}},Ds=function(e,t,n,o){n!==o&&Hs(t)};var $s="function"==typeof WeakSet?WeakSet:Set;function Gs(e,t){var n=t.source,o=t.stack;null===o&&null!==n&&(o=X(n)),null!==n&&Q(n.type),t=t.value,null!==e&&1===e.tag&&Q(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function Ks(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){ul(e,t)}else t.current=null}function Js(e,t){switch(t.tag){case 0:case 11:case 15:Ys(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,o=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Hi(t.type,n),o),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw s(Error(163))}}function Ys(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var o=n=n.next;do{if(0!=(o.tag&e)){var i=o.destroy;o.destroy=void 0,void 0!==i&&i()}0!=(o.tag&t)&&(i=o.create,o.destroy=i()),o=o.next}while(o!==n)}}function Qs(e,t,n){switch("function"==typeof fl&&fl(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var o=e.next;Vi(97<n?97:n,(function(){var e=o;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){ul(i,e)}}e=e.next}while(e!==o)}))}break;case 1:Ks(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){ul(e,t)}}(t,n);break;case 5:Ks(t);break;case 4:ta(e,t,n)}}function Xs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&Xs(t)}function Zs(e){return 5===e.tag||3===e.tag||4===e.tag}function ea(e){e:{for(var t=e.return;null!==t;){if(Zs(t)){var n=t;break e}t=t.return}throw s(Error(160))}switch(t=n.stateNode,n.tag){case 5:var o=!1;break;case 3:case 4:t=t.containerInfo,o=!0;break;default:throw s(Error(161))}16&n.effectTag&&(Ue(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Zs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){var r=5===i.tag||6===i.tag;if(r){var a=r?i.stateNode:i.stateNode.instance;if(n)if(o){var l=a;a=n,8===(r=t).nodeType?r.parentNode.insertBefore(l,a):r.insertBefore(l,a)}else t.insertBefore(a,n);else o?(8===(l=t).nodeType?(r=l.parentNode).insertBefore(a,l):(r=l).appendChild(a),null!=(l=l._reactRootContainer)||null!==r.onclick||(r.onclick=Vn)):t.appendChild(a)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function ta(e,t,n){for(var o,i,r=t,a=!1;;){if(!a){a=r.return;e:for(;;){if(null===a)throw s(Error(160));switch(o=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:o=o.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===r.tag||6===r.tag){e:for(var l=e,c=r,u=n,d=c;;)if(Qs(l,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(l=o,c=r.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):o.removeChild(r.stateNode)}else if(4===r.tag){if(null!==r.child){o=r.stateNode.containerInfo,i=!0,r.child.return=r,r=r.child;continue}}else if(Qs(e,r,n),null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;4===(r=r.return).tag&&(a=!1)}r.sibling.return=r.return,r=r.sibling}}function na(e,t){switch(t.tag){case 0:case 11:case 14:case 15:Ys(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var o=t.memoizedProps,i=null!==e?e.memoizedProps:o;e=t.type;var r=t.updateQueue;if(t.updateQueue=null,null!==r){for(n[Zn]=o,"input"===e&&"radio"===o.type&&null!=o.name&&Pe(n,o),zn(e,i),t=zn(e,o),i=0;i<r.length;i+=2){var a=r[i],l=r[i+1];"style"===a?Nn(n,l):"dangerouslySetInnerHTML"===a?We(n,l):"children"===a?Ue(n,l):ye(n,a,l,t)}switch(e){case"input":Ae(n,o);break;case"textarea":De(n,o);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!o.multiple,null!=(e=o.value)?Ie(n,!!o.multiple,e,!1):t!==!!o.multiple&&(null!=o.defaultValue?Ie(n,!!o.multiple,o.defaultValue,!0):Ie(n,!!o.multiple,o.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw s(Error(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,bt(t.containerInfo));break;case 12:break;case 13:if(n=t,null===t.memoizedState?o=!1:(o=!0,n=t.child,_a=Mi()),null!==n)e:for(e=n;;){if(5===e.tag)r=e.stateNode,o?"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none":(r=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,r.style.display=On("display",i));else if(6===e.tag)e.stateNode.nodeValue=o?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(r=e.child.sibling).return=e,e=r;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}oa(t);break;case 19:oa(t);break;case 17:case 20:case 21:break;default:throw s(Error(163))}}function oa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var o=hl.bind(null,e,t);n.has(t)||(n.add(t),t.then(o,o))}))}}var ia="function"==typeof WeakMap?WeakMap:Map;function ra(e,t,n){(n=nr(n,null)).tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){xa||(xa=!0,Ca=o),Gs(e,t)},n}function sa(e,t,n){(n=nr(n,null)).tag=3;var o=e.type.getDerivedStateFromError;if("function"==typeof o){var i=t.value;n.payload=function(){return Gs(e,t),o(i)}}var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){"function"!=typeof o&&(null===Ta?Ta=new Set([this]):Ta.add(this),Gs(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var aa=Math.ceil,la=I.ReactCurrentDispatcher,ca=I.ReactCurrentOwner,ua=0,da=null,ha=null,pa=0,fa=0,ma=null,ga=1073741823,ba=1073741823,wa=null,ka=0,va=!1,_a=0,ya=null,xa=!1,Ca=null,Ta=null,Ea=!1,Sa=null,Pa=90,Aa=null,Ra=0,Oa=null,Na=0;function Ia(){return 0!=(48&ua)?1073741821-(Mi()/10|0):0!==Na?Na:Na=1073741821-(Mi()/10|0)}function Ma(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var o=zi();if(0==(4&t))return 99===o?1073741823:1073741822;if(0!=(16&ua))return pa;if(null!==n)e=1073741821-25*(1+((1073741821-e+(0|n.timeoutMs||5e3)/10)/25|0));else switch(o){case 99:e=1073741823;break;case 98:e=1073741821-10*(1+((1073741821-e+15)/10|0));break;case 97:case 96:e=1073741821-25*(1+((1073741821-e+500)/25|0));break;case 95:e=2;break;default:throw s(Error(326))}return null!==da&&e===pa&&--e,e}var za,Da=0;function Va(e,t){if(50<Ra)throw Ra=0,Oa=null,s(Error(185));if(null!==(e=Ba(e,t))){var n=zi();1073741823===t?0!=(8&ua)&&0==(48&ua)?Ha(e):(La(e),0===ua&&Li()):La(e),0==(4&ua)||98!==n&&99!==n||(null===Aa?Aa=new Map([[e,t]]):(void 0===(n=Aa.get(e))||n>t)&&Aa.set(e,t))}}function Ba(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var o=e.return,i=null;if(null===o&&3===e.tag)i=e.stateNode;else for(;null!==o;){if(n=o.alternate,o.childExpirationTime<t&&(o.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===o.return&&3===o.tag){i=o.stateNode;break}o=o.return}return null!==i&&(da===i&&(Xa(t),4===fa&&Tl(i,pa)),El(i,t)),i}function Fa(e){var t=e.lastExpiredTime;return 0!==t?t:Cl(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function La(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Fi(Ha.bind(null,e));else{var t=Fa(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var o=Ia();if(o=1073741823===t?99:1===t||2===t?95:0>=(o=10*(1073741821-t)-10*(1073741821-o))?99:250>=o?98:5250>=o?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=o)return;n!==Pi&&wi(n)}e.callbackExpirationTime=t,e.callbackPriority=o,t=1073741823===t?Fi(Ha.bind(null,e)):Bi(o,ja.bind(null,e),{timeout:10*(1073741821-t)-Mi()}),e.callbackNode=t}}}function ja(e,t){if(Na=0,t)return Sl(e,t=Ia()),La(e),null;var n=Fa(e);if(0!==n){if(t=e.callbackNode,0!=(48&ua))throw s(Error(327));if(al(),e===da&&n===pa||Ka(e,n),null!==ha){var o=ua;ua|=16;for(var i=Ya();;)try{el();break}catch(t){Ja(e,t)}if(Gi(),ua=o,la.current=i,1===fa)throw t=ma,Ka(e,n),Tl(e,n),La(e),t;if(null===ha)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,Ua(e,n),o=fa,da=null,o){case 0:case 1:throw s(Error(345));case 2:if(2!==n){Sl(e,2);break}il(e);break;case 3:if(Tl(e,n),n===(o=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=ol(i)),1073741823===ga&&10<(i=_a+500-Mi())){if(va){var r=e.lastPingedTime;if(0===r||r>=n){e.lastPingedTime=n,Ka(e,n);break}}if(0!==(r=Fa(e))&&r!==n)break;if(0!==o&&o!==n){e.lastPingedTime=o;break}e.timeoutHandle=Gn(il.bind(null,e),i);break}il(e);break;case 4:if(Tl(e,n),n===(o=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=ol(i)),va&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,Ka(e,n);break}if(0!==(i=Fa(e))&&i!==n)break;if(0!==o&&o!==n){e.lastPingedTime=o;break}if(1073741823!==ba?o=10*(1073741821-ba)-Mi():1073741823===ga?o=0:(o=10*(1073741821-ga)-5e3,0>(o=(i=Mi())-o)&&(o=0),(n=10*(1073741821-n)-i)<(o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*aa(o/1960))-o)&&(o=n)),10<o){e.timeoutHandle=Gn(il.bind(null,e),o);break}il(e);break;case 5:if(1073741823!==ga&&null!==wa){r=ga;var a=wa;if(0>=(o=0|a.busyMinDurationMs)?o=0:(i=0|a.busyDelayMs,o=(r=Mi()-(10*(1073741821-r)-(0|a.timeoutMs||5e3)))<=i?0:i+o-r),10<o){Tl(e,n),e.timeoutHandle=Gn(il.bind(null,e),o);break}}il(e);break;case 6:Tl(e,n);break;default:throw s(Error(329))}if(La(e),e.callbackNode===t)return ja.bind(null,e)}}return null}function Ha(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)il(e);else{if(0!=(48&ua))throw s(Error(327));if(al(),e===da&&t===pa||Ka(e,t),null!==ha){var n=ua;ua|=16;for(var o=Ya();;)try{Za();break}catch(t){Ja(e,t)}if(Gi(),ua=n,la.current=o,1===fa)throw n=ma,Ka(e,t),Tl(e,t),La(e),n;if(null!==ha)throw s(Error(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ua(e,t),6===fa?Tl(e,t):(da=null,il(e)),La(e)}}return null}function Wa(){0==(49&ua)&&(function(){if(null!==Aa){var e=Aa;Aa=null,e.forEach((function(e,t){Sl(t,e),La(t)})),Li()}}(),al())}function Ua(e,t){var n=e.firstBatch;null!==n&&n._defer&&n._expirationTime>=t&&(Bi(97,(function(){return n._onComplete(),null})),fa=6)}function qa(e,t){var n=ua;ua|=1;try{return e(t)}finally{0===(ua=n)&&Li()}}function $a(e,t,n,o){var i=ua;ua|=4;try{return Vi(98,e.bind(null,t,n,o))}finally{0===(ua=i)&&Li()}}function Ga(e,t){var n=ua;ua&=-2,ua|=8;try{return e(t)}finally{0===(ua=n)&&Li()}}function Ka(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kn(n)),null!==ha)for(n=ha.return;null!==n;){var o=n;switch(o.tag){case 1:null!=o.type.childContextTypes&&ui();break;case 3:Or(),di();break;case 5:Ir(o);break;case 4:Or();break;case 13:case 19:ni(Mr);break;case 10:Ji(o)}n=n.return}da=e,ha=wl(e.current,null),pa=t,fa=0,ma=null,ba=ga=1073741823,wa=null,ka=0,va=!1}function Ja(e,t){for(;;){try{if(Gi(),es(),null===ha||null===ha.return)return fa=1,ma=t,null;e:{var n=e,o=ha.return,i=ha,r=t;if(t=pa,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==r&&"object"==typeof r&&"function"==typeof r.then){var s=r,a=0!=(1&Mr.current),l=o;do{var c;if(c=13===l.tag){var u=l.memoizedState;if(null!==u)c=null!==u.dehydrated;else{var d=l.memoizedProps;c=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!a)}}if(c){var h=l.updateQueue;if(null===h){var p=new Set;p.add(s),l.updateQueue=p}else h.add(s);if(0==(2&l.mode)){if(l.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var f=nr(1073741823,null);f.tag=2,ir(i,f)}i.expirationTime=1073741823;break e}r=void 0,i=t;var m=n.pingCache;if(null===m?(m=n.pingCache=new ia,r=new Set,m.set(s,r)):void 0===(r=m.get(s))&&(r=new Set,m.set(s,r)),!r.has(i)){r.add(i);var g=dl.bind(null,n,s,i);s.then(g,g)}l.effectTag|=4096,l.expirationTime=t;break e}l=l.return}while(null!==l);r=Error((Q(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+X(i))}5!==fa&&(fa=2),r=qs(r,i),l=o;do{switch(l.tag){case 3:s=r,l.effectTag|=4096,l.expirationTime=t,rr(l,ra(l,s,t));break e;case 1:s=r;var b=l.type,w=l.stateNode;if(0==(64&l.effectTag)&&("function"==typeof b.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===Ta||!Ta.has(w)))){l.effectTag|=4096,l.expirationTime=t,rr(l,sa(l,s,t));break e}}l=l.return}while(null!==l)}ha=nl(ha)}catch(e){t=e;continue}break}}function Ya(){var e=la.current;return la.current=ds,null===e?ds:e}function Qa(e,t){e<ga&&2<e&&(ga=e),null!==t&&e<ba&&2<e&&(ba=e,wa=t)}function Xa(e){e>ka&&(ka=e)}function Za(){for(;null!==ha;)ha=tl(ha)}function el(){for(;null!==ha&&!ki();)ha=tl(ha)}function tl(e){var t=za(e.alternate,e,pa);return e.memoizedProps=e.pendingProps,null===t&&(t=nl(e)),ca.current=null,t}function nl(e){ha=e;do{var t=ha.alternate;if(e=ha.return,0==(2048&ha.effectTag)){e:{var n=t,o=pa,r=(t=ha).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:ci(t.type)&&ui();break;case 3:Or(),di(),(o=t.stateNode).pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===n||null===n.child)&&_s(t)&&Hs(t);break;case 5:Ir(t),o=Ar(Pr.current);var a=t.type;if(null!==n&&null!=t.stateNode)zs(n,t,a,r,o),n.ref!==t.ref&&(t.effectTag|=128);else if(r){var l=Ar(Er.current);if(_s(t)){a=void 0,n=(r=t).stateNode;var c=r.type,u=r.memoizedProps;switch(n[Xn]=r,n[Zn]=u,c){case"iframe":case"object":case"embed":wn("load",n);break;case"video":case"audio":for(var d=0;d<et.length;d++)wn(et[d],n);break;case"source":wn("error",n);break;case"img":case"image":case"link":wn("error",n),wn("load",n);break;case"form":wn("reset",n),wn("submit",n);break;case"details":wn("toggle",n);break;case"input":Se(n,u),wn("invalid",n),Dn(o,"onChange");break;case"select":n._wrapperState={wasMultiple:!!u.multiple},wn("invalid",n),Dn(o,"onChange");break;case"textarea":ze(n,u),wn("invalid",n),Dn(o,"onChange")}for(a in Mn(c,u),d=null,u)u.hasOwnProperty(a)&&(l=u[a],"children"===a?"string"==typeof l?n.textContent!==l&&(d=["children",l]):"number"==typeof l&&n.textContent!==""+l&&(d=["children",""+l]):p.hasOwnProperty(a)&&null!=l&&Dn(o,a));switch(c){case"input":Ce(n),Re(n,u,!0);break;case"textarea":Ce(n),Ve(n);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(n.onclick=Vn)}o=d,r.updateQueue=o,null!==o&&Hs(t)}else{u=a,n=r,c=t,d=9===o.nodeType?o:o.ownerDocument,l===Be&&(l=Le(u)),l===Be?"script"===u?((u=d.createElement("div")).innerHTML="<script><\/script>",d=u.removeChild(u.firstChild)):"string"==typeof n.is?d=d.createElement(u,{is:n.is}):(d=d.createElement(u),"select"===u&&(u=d,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):d=d.createElementNS(l,u),(u=d)[Xn]=c,u[Zn]=n,Ms(n=u,t),t.stateNode=n,l=o;var h=zn(a,r);switch(a){case"iframe":case"object":case"embed":wn("load",n),o=r;break;case"video":case"audio":for(o=0;o<et.length;o++)wn(et[o],n);o=r;break;case"source":wn("error",n),o=r;break;case"img":case"image":case"link":wn("error",n),wn("load",n),o=r;break;case"form":wn("reset",n),wn("submit",n),o=r;break;case"details":wn("toggle",n),o=r;break;case"input":Se(n,r),o=Ee(n,r),wn("invalid",n),Dn(l,"onChange");break;case"option":o=Ne(n,r);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),wn("invalid",n),Dn(l,"onChange");break;case"textarea":ze(n,r),o=Me(n,r),wn("invalid",n),Dn(l,"onChange");break;default:o=r}Mn(a,o),c=void 0,u=a,d=n;var f=o;for(c in f)if(f.hasOwnProperty(c)){var m=f[c];"style"===c?Nn(d,m):"dangerouslySetInnerHTML"===c?null!=(m=m?m.__html:void 0)&&We(d,m):"children"===c?"string"==typeof m?("textarea"!==u||""!==m)&&Ue(d,m):"number"==typeof m&&Ue(d,""+m):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(p.hasOwnProperty(c)?null!=m&&Dn(l,c):null!=m&&ye(d,c,m,h))}switch(a){case"input":Ce(n),Re(n,r,!1);break;case"textarea":Ce(n),Ve(n);break;case"option":null!=r.value&&n.setAttribute("value",""+_e(r.value));break;case"select":o=n,n=r,o.multiple=!!n.multiple,null!=(c=n.value)?Ie(o,!!n.multiple,c,!1):null!=n.defaultValue&&Ie(o,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof o.onClick&&(n.onclick=Vn)}qn(a,r)&&Hs(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw s(Error(166));break;case 6:if(n&&null!=t.stateNode)Ds(0,t,n.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw s(Error(166));a=Ar(Pr.current),Ar(Er.current),_s(t)?(o=t.stateNode,r=t.memoizedProps,o[Xn]=t,o.nodeValue!==r&&Hs(t)):(o=t,(r=(9===a.nodeType?a:a.ownerDocument).createTextNode(r))[Xn]=t,o.stateNode=r)}break;case 11:break;case 13:if(ni(Mr),r=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=o;break e}o=null!==r,r=!1,null===n?_s(t):(r=null!==(a=n.memoizedState),o||null===a||null!==(a=n.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=a,a.nextEffect=c):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),o&&!r&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Mr.current)?0===fa&&(fa=3):(0!==fa&&3!==fa||(fa=4),0!==ka&&null!==da&&(Tl(da,pa),El(da,ka)))),(o||r)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Or();break;case 10:Ji(t);break;case 9:case 14:break;case 17:ci(t.type)&&ui();break;case 19:if(ni(Mr),null===(r=t.memoizedState))break;if(a=0!=(64&t.effectTag),null===(c=r.rendering)){if(a)Ws(r,!1);else if(0!==fa||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(c=zr(n))){for(t.effectTag|=64,Ws(r,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),t.firstEffect=t.lastEffect=null,r=t.child;null!==r;)n=o,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(c=a.alternate)?(a.childExpirationTime=0,a.expirationTime=n,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=c.childExpirationTime,a.expirationTime=c.expirationTime,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,n=c.dependencies,a.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),r=r.sibling;oi(Mr,1&Mr.current|2),t=t.child;break e}n=n.sibling}}else{if(!a)if(null!==(n=zr(c))){if(t.effectTag|=64,a=!0,Ws(r,!0),null===r.tail&&"hidden"===r.tailMode){null!==(o=n.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null);break}}else Mi()>r.tailExpiration&&1<o&&(t.effectTag|=64,a=!0,Ws(r,!1),t.expirationTime=t.childExpirationTime=o-1);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(o=r.last)?o.sibling=c:t.child=c,r.last=c)}if(null!==r.tail){0===r.tailExpiration&&(r.tailExpiration=Mi()+500),o=r.tail,r.rendering=o,r.tail=o.sibling,r.lastEffect=t.lastEffect,o.sibling=null,r=Mr.current,oi(Mr,r=a?1&r|2:1&r),t=o;break e}break;case 20:case 21:break;default:throw s(Error(156),t.tag)}t=null}if(o=ha,1===pa||1!==o.childExpirationTime){for(r=0,a=o.child;null!==a;)(n=a.expirationTime)>r&&(r=n),(c=a.childExpirationTime)>r&&(r=c),a=a.sibling;o.childExpirationTime=r}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=ha.firstEffect),null!==ha.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=ha.firstEffect),e.lastEffect=ha.lastEffect),1<ha.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=ha:e.firstEffect=ha,e.lastEffect=ha))}else{if(null!==(t=Us(ha)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=ha.sibling))return t;ha=e}while(null!==ha);return 0===fa&&(fa=5),null}function ol(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function il(e){var t=zi();return Vi(99,rl.bind(null,e,t)),null}function rl(e,t){if(al(),0!=(48&ua))throw s(Error(327));var n=e.finishedWork,o=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw s(Error(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=ol(n);if(e.firstPendingTime=i,o<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:o<=e.firstSuspendedTime&&(e.firstSuspendedTime=o-1),o<=e.lastPingedTime&&(e.lastPingedTime=0),o<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===da&&(ha=da=null,pa=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var r=ua;ua|=32,ca.current=null,Wn=bn;var a=jn();if(Hn(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{var c=(l=(l=a.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{l.nodeType,d.nodeType}catch(e){l=null;break e}var h=0,p=-1,f=-1,m=0,g=0,b=a,w=null;t:for(;;){for(var k;b!==l||0!==u&&3!==b.nodeType||(p=h+u),b!==d||0!==c&&3!==b.nodeType||(f=h+c),3===b.nodeType&&(h+=b.nodeValue.length),null!==(k=b.firstChild);)w=b,b=k;for(;;){if(b===a)break t;if(w===l&&++m===u&&(p=h),w===d&&++g===c&&(f=h),null!==(k=b.nextSibling))break;w=(b=w).parentNode}b=k}l=-1===p||-1===f?null:{start:p,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;Un={focusedElem:a,selectionRange:l},bn=!1,ya=i;do{try{sl()}catch(e){if(null===ya)throw s(Error(330));ul(ya,e),ya=ya.nextEffect}}while(null!==ya);ya=i;do{try{for(a=e,l=t;null!==ya;){var v=ya.effectTag;if(16&v&&Ue(ya.stateNode,""),128&v){var _=ya.alternate;if(null!==_){var y=_.ref;null!==y&&("function"==typeof y?y(null):y.current=null)}}switch(1038&v){case 2:ea(ya),ya.effectTag&=-3;break;case 6:ea(ya),ya.effectTag&=-3,na(ya.alternate,ya);break;case wt:ya.effectTag&=~wt;break;case 1028:ya.effectTag&=~wt,na(ya.alternate,ya);break;case 4:na(ya.alternate,ya);break;case 8:ta(a,u=ya,l),Xs(u)}ya=ya.nextEffect}}catch(e){if(null===ya)throw s(Error(330));ul(ya,e),ya=ya.nextEffect}}while(null!==ya);if(y=Un,_=jn(),v=y.focusedElem,l=y.selectionRange,_!==v&&v&&v.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(v.ownerDocument.documentElement,v)){null!==l&&Hn(v)&&(_=l.start,void 0===(y=l.end)&&(y=_),"selectionStart"in v?(v.selectionStart=_,v.selectionEnd=Math.min(y,v.value.length)):(y=(_=v.ownerDocument||document)&&_.defaultView||window).getSelection&&(y=y.getSelection(),u=v.textContent.length,a=Math.min(l.start,u),l=void 0===l.end?a:Math.min(l.end,u),!y.extend&&a>l&&(u=l,l=a,a=u),u=Ln(v,a),d=Ln(v,l),u&&d&&(1!==y.rangeCount||y.anchorNode!==u.node||y.anchorOffset!==u.offset||y.focusNode!==d.node||y.focusOffset!==d.offset)&&((_=_.createRange()).setStart(u.node,u.offset),y.removeAllRanges(),a>l?(y.addRange(_),y.extend(d.node,d.offset)):(_.setEnd(d.node,d.offset),y.addRange(_))))),_=[];for(y=v;y=y.parentNode;)1===y.nodeType&&_.push({element:y,left:y.scrollLeft,top:y.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<_.length;v++)(y=_[v]).element.scrollLeft=y.left,y.element.scrollTop=y.top}Un=null,bn=!!Wn,Wn=null,e.current=n,ya=i;do{try{for(v=o;null!==ya;){var x=ya.effectTag;if(36&x){var C=ya.alternate;switch(y=v,(_=ya).tag){case 0:case 11:case 15:Ys(16,32,_);break;case 1:var T=_.stateNode;if(4&_.effectTag)if(null===C)T.componentDidMount();else{var E=_.elementType===_.type?C.memoizedProps:Hi(_.type,C.memoizedProps);T.componentDidUpdate(E,C.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var S=_.updateQueue;null!==S&&cr(0,S,T);break;case 3:var P=_.updateQueue;if(null!==P){if(a=null,null!==_.child)switch(_.child.tag){case 5:a=_.child.stateNode;break;case 1:a=_.child.stateNode}cr(0,P,a)}break;case 5:var A=_.stateNode;null===C&&4&_.effectTag&&(y=A,qn(_.type,_.memoizedProps)&&y.focus());break;case 6:case 4:case 12:break;case 13:if(null===_.memoizedState){var R=_.alternate;if(null!==R){var O=R.memoizedState;if(null!==O){var N=O.dehydrated;null!==N&&bt(N)}}}break;case 19:case 17:case 20:case 21:break;default:throw s(Error(163))}}if(128&x){var I=(_=ya).ref;if(null!==I){var M=_.stateNode;switch(_.tag){case 5:var z=M;break;default:z=M}"function"==typeof I?I(z):I.current=z}}ya=ya.nextEffect}}catch(e){if(null===ya)throw s(Error(330));ul(ya,e),ya=ya.nextEffect}}while(null!==ya);ya=null,Ai(),ua=r}else e.current=n;if(Ea)Ea=!1,Sa=e,Pa=t;else for(ya=i;null!==ya;)t=ya.nextEffect,ya.nextEffect=null,ya=t;if(0===(t=e.firstPendingTime)&&(Ta=null),1073741823===t?e===Oa?Ra++:(Ra=0,Oa=e):Ra=0,"function"==typeof pl&&pl(n.stateNode,o),La(e),xa)throw xa=!1,e=Ca,Ca=null,e;return 0!=(8&ua)?null:(Li(),null)}function sl(){for(;null!==ya;){var e=ya.effectTag;0!=(256&e)&&Js(ya.alternate,ya),0==(512&e)||Ea||(Ea=!0,Bi(97,(function(){return al(),null}))),ya=ya.nextEffect}}function al(){if(90!==Pa){var e=97<Pa?97:Pa;return Pa=90,Vi(e,ll)}}function ll(){if(null===Sa)return!1;var e=Sa;if(Sa=null,0!=(48&ua))throw s(Error(331));var t=ua;for(ua|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:Ys(128,0,n),Ys(0,64,n)}}catch(t){if(null===e)throw s(Error(330));ul(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return ua=t,Li(),!0}function cl(e,t,n){ir(e,t=ra(e,t=qs(n,t),1073741823)),null!==(e=Ba(e,1073741823))&&La(e)}function ul(e,t){if(3===e.tag)cl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){cl(n,e,t);break}if(1===n.tag){var o=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof o.componentDidCatch&&(null===Ta||!Ta.has(o))){ir(n,e=sa(n,e=qs(t,e),1073741823)),null!==(n=Ba(n,1073741823))&&La(n);break}}n=n.return}}function dl(e,t,n){var o=e.pingCache;null!==o&&o.delete(t),da===e&&pa===n?4===fa||3===fa&&1073741823===ga&&Mi()-_a<500?Ka(e,pa):va=!0:Cl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),La(e)))}function hl(e,t){var n=e.stateNode;null!==n&&n.delete(t),1==(t=1)&&(t=Ma(t=Ia(),e,null)),null!==(e=Ba(e,t))&&La(e)}za=function(e,t,n){var o=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||si.current)Cs=!0;else{if(o<n){switch(Cs=!1,t.tag){case 3:Is(t),ys();break;case 5:if(Nr(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:ci(t.type)&&fi(t);break;case 4:Rr(t,t.stateNode.containerInfo);break;case 10:Ki(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(o=t.child.childExpirationTime)&&o>=n?Bs(e,t,n):(oi(Mr,1&Mr.current),null!==(t=js(e,t,n))?t.sibling:null);oi(Mr,1&Mr.current);break;case 19:if(o=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(o)return Ls(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),oi(Mr,Mr.current),!o)return null}return js(e,t,n)}Cs=!1}}else Cs=!1;switch(t.expirationTime=0,t.tag){case 2:if(o=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=li(t,ri.current),Qi(t,n),i=Zr(null,t,o,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,es(),ci(o)){var r=!0;fi(t)}else r=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var a=o.getDerivedStateFromProps;"function"==typeof a&&pr(t,o,a,e),i.updater=fr,t.stateNode=i,i._reactInternalFiber=t,wr(t,o,e,n),t=Ns(null,t,o,!0,r,n)}else t.tag=0,Ts(null,t,i,n),t=t.child;return t;case 16:if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,r=t.tag=function(e){if("function"==typeof e)return bl(e)?1:0;if(null!=e){if((e=e.$$typeof)===U)return 11;if(e===G)return 14}return 2}(i),e=Hi(i,e),r){case 0:t=Rs(null,t,i,e,n);break;case 1:t=Os(null,t,i,e,n);break;case 11:t=Es(null,t,i,e,n);break;case 14:t=Ss(null,t,i,Hi(i.type,e),o,n);break;default:throw s(Error(306),i,"")}return t;case 0:return o=t.type,i=t.pendingProps,Rs(e,t,o,i=t.elementType===o?i:Hi(o,i),n);case 1:return o=t.type,i=t.pendingProps,Os(e,t,o,i=t.elementType===o?i:Hi(o,i),n);case 3:if(Is(t),null===(o=t.updateQueue))throw s(Error(282));if(i=null!==(i=t.memoizedState)?i.element:null,lr(t,o,t.pendingProps,null,n),(o=t.memoizedState.element)===i)ys(),t=js(e,t,n);else{if((i=t.stateNode.hydrate)&&(ms=Jn(t.stateNode.containerInfo.firstChild),fs=t,i=gs=!0),i)for(n=Cr(t,null,o,n),t.child=n;n;)n.effectTag=-3&n.effectTag|wt,n=n.sibling;else Ts(e,t,o,n),ys();t=t.child}return t;case 5:return Nr(t),null===e&&ks(t),o=t.type,i=t.pendingProps,r=null!==e?e.memoizedProps:null,a=i.children,$n(o,i)?a=null:null!==r&&$n(o,r)&&(t.effectTag|=16),As(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ts(e,t,a,n),t=t.child),t;case 6:return null===e&&ks(t),null;case 13:return Bs(e,t,n);case 4:return Rr(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=xr(t,null,o,n):Ts(e,t,o,n),t.child;case 11:return o=t.type,i=t.pendingProps,Es(e,t,o,i=t.elementType===o?i:Hi(o,i),n);case 7:return Ts(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ts(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,i=t.pendingProps,a=t.memoizedProps,Ki(t,r=i.value),null!==a){var l=a.value;if(0==(r=Wo(l,r)?0:0|("function"==typeof o._calculateChangedBits?o._calculateChangedBits(l,r):1073741823))){if(a.children===i.children&&!si.current){t=js(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){a=l.child;for(var u=c.firstContext;null!==u;){if(u.context===o&&0!=(u.observedBits&r)){1===l.tag&&((u=nr(n,null)).tag=2,ir(l,u)),l.expirationTime<n&&(l.expirationTime=n),null!==(u=l.alternate)&&u.expirationTime<n&&(u.expirationTime=n),Yi(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}}Ts(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,o=(r=t.pendingProps).children,Qi(t,n),o=o(i=Xi(i,r.unstable_observedBits)),t.effectTag|=1,Ts(e,t,o,n),t.child;case 14:return r=Hi(i=t.type,t.pendingProps),Ss(e,t,i,r=Hi(i.type,r),o,n);case 15:return Ps(e,t,t.type,t.pendingProps,o,n);case 17:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:Hi(o,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,ci(o)?(e=!0,fi(t)):e=!1,Qi(t,n),gr(t,o,i),wr(t,o,i,n),Ns(null,t,o,!0,e,n);case 19:return Ls(e,t,n)}throw s(Error(156),t.tag)};var pl=null,fl=null;function ml(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function gl(e,t,n,o){return new ml(e,t,n,o)}function bl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function wl(e,t){var n=e.alternate;return null===n?((n=gl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function kl(e,t,n,o,i,r){var a=2;if(o=e,"function"==typeof e)bl(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case B:return vl(n.children,i,r,t);case W:a=8,i|=7;break;case F:a=8,i|=1;break;case L:return(e=gl(12,n,t,8|i)).elementType=L,e.type=L,e.expirationTime=r,e;case q:return(e=gl(13,n,t,i)).type=q,e.elementType=q,e.expirationTime=r,e;case $:return(e=gl(19,n,t,i)).elementType=$,e.expirationTime=r,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case j:a=10;break e;case H:a=9;break e;case U:a=11;break e;case G:a=14;break e;case K:a=16,o=null;break e}throw s(Error(130),null==e?e:typeof e,"")}return(t=gl(a,n,t,i)).elementType=e,t.type=o,t.expirationTime=r,t}function vl(e,t,n,o){return(e=gl(7,e,o,t)).expirationTime=n,e}function _l(e,t,n){return(e=gl(6,e,null,t)).expirationTime=n,e}function yl(e,t,n){return(t=gl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=this.firstBatch=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Cl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Tl(e,t){var n=e.firstSuspendedTime,o=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(o>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function El(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Sl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Pl(e,t,n,o,i,r){var a=t.current;e:if(n){t:{if(kt(n=n._reactInternalFiber)!==n||1!==n.tag)throw s(Error(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(ci(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw s(Error(171))}if(1===n.tag){var c=n.type;if(ci(c)){n=pi(n,c,l);break e}}n=l}else n=ii;return null===t.context?t.context=n:t.pendingContext=n,t=r,(i=nr(o,i)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),ir(a,i),Va(a,o),o}function Al(e,t,n,o){var i=t.current,r=Ia(),s=dr.suspense;return Pl(e,t,n,i=Ma(r,i,s),s,o)}function Rl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ol(e){var t=1073741821-25*(1+((1073741821-Ia()+500)/25|0));t<=Da&&--t,this._expirationTime=Da=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Nl(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Il(e,t,n){var o=new xl(e,t,n=null!=n&&!0===n.hydrate),i=gl(3,null,null,2===t?7:1===t?3:0);return o.current=i,i.stateNode=o,e[eo]=o.current,n&&0!==t&&function(e){var t=Sn(e);lt.forEach((function(n){Pn(n,e,t)})),ct.forEach((function(n){Pn(n,e,t)}))}(9===e.nodeType?e:e.ownerDocument),o}function Ml(e,t,n){this._internalRoot=Il(e,t,n)}function zl(e,t){this._internalRoot=Il(e,2,t)}function Dl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vl(e,t,n,o,i){var r=n._reactRootContainer;if(r){var s=r._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Rl(s);a.call(e)}}Al(t,s,e,i)}else{if(r=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ml(e,0,t?{hydrate:!0}:void 0)}(n,o),s=r._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Rl(s);l.call(e)}}Ga((function(){Al(t,s,e,i)}))}return Rl(s)}function Bl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Dl(t))throw s(Error(200));return function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:V,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}ee=function(e,t,n){switch(t){case"input":if(Ae(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var i=io(o);if(!i)throw s(Error(90));Te(o),Ae(o,i)}}}break;case"textarea":De(e,n);break;case"select":null!=(t=n.value)&&Ie(e,!!n.multiple,t,!1)}},Ol.prototype.render=function(e){if(!this._defer)throw s(Error(250));this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,o=new Nl;return Pl(e,t,null,n,null,o._onCommit),o},Ol.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Ol.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(!this._defer||null===t)throw s(Error(251));if(this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var o=null,i=t;i!==this;)o=i,i=i._next;if(null===o)throw s(Error(251));o._next=i._next,this._next=t,e.firstBatch=this}if(this._defer=!1,t=n,0!=(48&ua))throw s(Error(253));Sl(e,t),La(e),Li(),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Ol.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Nl.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Nl.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)throw s(Error(191),n);n()}}},zl.prototype.render=Ml.prototype.render=function(e,t){var n=this._internalRoot,o=new Nl;return null!==(t=void 0===t?null:t)&&o.then(t),Al(e,n,null,o._onCommit),o},zl.prototype.unmount=Ml.prototype.unmount=function(e){var t=this._internalRoot,n=new Nl;return null!==(e=void 0===e?null:e)&&n.then(e),Al(null,t,null,n._onCommit),n},zl.prototype.createBatch=function(){var e=new Ol(this),t=e._expirationTime,n=this._internalRoot,o=n.firstBatch;if(null===o)n.firstBatch=e,e._next=null;else{for(n=null;null!==o&&o._expirationTime>=t;)n=o,o=o._next;e._next=o,null!==n&&(n._next=e)}return e},se=qa,ae=$a,le=Wa,ce=function(e,t){var n=ua;ua|=2;try{return e(t)}finally{0===(ua=n)&&Li()}};var Fl,Ll,jl={createPortal:Bl,findDOMNode:function(e){if(null==e)e=null;else if(1!==e.nodeType){var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw s(Error(188));throw s(Error(268),Object.keys(e))}e=null===(e=_t(t))?null:e.stateNode}return e},hydrate:function(e,t,n){if(!Dl(t))throw s(Error(200));return Vl(null,e,t,!0,n)},render:function(e,t,n){if(!Dl(t))throw s(Error(200));return Vl(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,o){if(!Dl(n))throw s(Error(200));if(null==e||void 0===e._reactInternalFiber)throw s(Error(38));return Vl(e,t,n,!1,o)},unmountComponentAtNode:function(e){if(!Dl(e))throw s(Error(40));return!!e._reactRootContainer&&(Ga((function(){Vl(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return Bl.apply(void 0,arguments)},unstable_batchedUpdates:qa,unstable_interactiveUpdates:function(e,t,n,o){return Wa(),$a(e,t,n,o)},unstable_discreteUpdates:$a,unstable_flushDiscreteUpdates:Wa,flushSync:function(e,t){if(0!=(48&ua))throw s(Error(187));var n=ua;ua|=1;try{return Vi(99,e.bind(null,t))}finally{ua=n,Li()}},unstable_createRoot:function(e,t){if(!Dl(e))throw s(Error(299),"unstable_createRoot");return new zl(e,t)},unstable_createSyncRoot:function(e,t){if(!Dl(e))throw s(Error(299),"unstable_createRoot");return new Ml(e,1,t)},unstable_flushControlled:function(e){var t=ua;ua|=1;try{Vi(99,e)}finally{0===(ua=t)&&Li()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[no,oo,io,O.injectEventPluginsByName,h,Pt,function(e){S(e,St)},ie,re,xn,R,al,{current:!1}]}};Ll=(Fl={findFiberByHostInstance:to,bundleType:0,version:"16.10.2",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);pl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},fl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(i({},Fl,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=_t(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Ll?Ll(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var Hl={default:jl},Wl=Hl&&jl||Hl;e.exports=Wl.default||Wl},function(e,t,n){"use strict";e.exports=n(10)},function(e,t,n){"use strict";
/** @license React v0.16.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o,i,r,s,a;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,u=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(u,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d},o=function(e){null!==l?setTimeout(o,0,e):(l=e,setTimeout(u,0))},i=function(e,t){c=setTimeout(e,t)},r=function(){clearTimeout(c)},s=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,p=window.Date,f=window.setTimeout,m=window.clearTimeout,g=window.requestAnimationFrame,b=window.cancelAnimationFrame;if("undefined"!=typeof console&&("function"!=typeof g&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),"object"==typeof h&&"function"==typeof h.now)t.unstable_now=function(){return h.now()};else{var w=p.now();t.unstable_now=function(){return p.now()-w}}var k=!1,v=null,_=-1,y=5,x=0;s=function(){return t.unstable_now()>=x},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):y=0<e?Math.floor(1e3/e):33.33};var C=new MessageChannel,T=C.port2;C.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();x=e+y;try{v(!0,e)?T.postMessage(null):(k=!1,v=null)}catch(e){throw T.postMessage(null),e}}else k=!1},o=function(e){v=e,k||(k=!0,T.postMessage(null))},i=function(e,n){_=f((function(){e(t.unstable_now())}),n)},r=function(){m(_),_=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var o=Math.floor((n-1)/2),i=e[o];if(!(void 0!==i&&0<A(i,t)))break e;e[o]=t,e[n]=i,n=o}}function S(e){return void 0===(e=e[0])?null:e}function P(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,i=e.length;o<i;){var r=2*(o+1)-1,s=e[r],a=r+1,l=e[a];if(void 0!==s&&0>A(s,n))void 0!==l&&0>A(l,s)?(e[o]=l,e[a]=n,o=a):(e[o]=s,e[r]=n,o=r);else{if(!(void 0!==l&&0>A(l,n)))break e;e[o]=l,e[a]=n,o=a}}}return t}return null}function A(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var R=[],O=[],N=1,I=null,M=3,z=!1,D=!1,V=!1;function B(e){for(var t=S(O);null!==t;){if(null===t.callback)P(O);else{if(!(t.startTime<=e))break;P(O),t.sortIndex=t.expirationTime,E(R,t)}t=S(O)}}function F(e){if(V=!1,B(e),!D)if(null!==S(R))D=!0,o(L);else{var t=S(O);null!==t&&i(F,t.startTime-e)}}function L(e,n){D=!1,V&&(V=!1,r()),z=!0;var o=M;try{for(B(n),I=S(R);null!==I&&(!(I.expirationTime>n)||e&&!s());){var a=I.callback;if(null!==a){I.callback=null,M=I.priorityLevel;var l=a(I.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?I.callback=l:I===S(R)&&P(R),B(n)}else P(R);I=S(R)}if(null!==I)var c=!0;else{var u=S(O);null!==u&&i(F,u.startTime-n),c=!1}return c}finally{I=null,M=o,z=!1}}function j(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var H=a;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_scheduleCallback=function(e,n,s){var a=t.unstable_now();if("object"==typeof s&&null!==s){var l=s.delay;l="number"==typeof l&&0<l?a+l:a,s="number"==typeof s.timeout?s.timeout:j(e)}else s=j(e),l=a;return e={id:N++,callback:n,priorityLevel:e,startTime:l,expirationTime:s=l+s,sortIndex:-1},l>a?(e.sortIndex=l,E(O,e),null===S(R)&&e===S(O)&&(V?r():V=!0,i(F,l-a))):(e.sortIndex=s,E(R,e),D||z||(D=!0,o(L))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_shouldYield=function(){var e=t.unstable_now();B(e);var n=S(R);return n!==I&&null!==I&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<I.expirationTime||s()},t.unstable_requestPaint=H,t.unstable_continueExecution=function(){D||z||(D=!0,o(L))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return S(R)},t.unstable_Profiling=null},function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),s={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}};t.Resizer=function(e){return r.createElement("div",{className:e.className||"",style:o({position:"absolute",userSelect:"none"},s[e.direction],e.replaceStyles||{}),onMouseDown:function(t){e.onResizeStart(t,e.direction)},onTouchStart:function(t){e.onResizeStart(t,e.direction)}},e.children)}},function(e,t){function n(e,t,n,o){var i,r=null==(i=o)||"number"==typeof i||"boolean"==typeof i?o:n(o),s=t.get(r);return void 0===s&&(s=e.call(this,o),t.set(r,s)),s}function o(e,t,n){var o=Array.prototype.slice.call(arguments,3),i=n(o),r=t.get(i);return void 0===r&&(r=e.apply(this,o),t.set(i,r)),r}function i(e,t,n,o,i){return n.bind(t,e,o,i)}function r(e,t){return i(e,this,1===e.length?n:o,t.cache.create(),t.serializer)}function s(){return JSON.stringify(arguments)}function a(){this.cache=Object.create(null)}a.prototype.has=function(e){return e in this.cache},a.prototype.get=function(e){return this.cache[e]},a.prototype.set=function(e,t){this.cache[e]=t};var l={create:function(){return new a}};e.exports=function(e,t){var n=t&&t.cache?t.cache:l,o=t&&t.serializer?t.serializer:s;return(t&&t.strategy?t.strategy:r)(e,{cache:n,serializer:o})},e.exports.strategies={variadic:function(e,t){return i(e,this,o,t.cache.create(),t.serializer)},monadic:function(e,t){return i(e,this,n,t.cache.create(),t.serializer)}}},function(e,t,n){e.exports=function(e,t){"use strict";function n(e,t){return e(t={exports:{}},t.exports),t.exports}function o(e){return function(){return e}}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var i=function(){};i.thatReturns=o,i.thatReturnsFalse=o(!1),i.thatReturnsTrue=o(!0),i.thatReturnsNull=o(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e};var r,s=i;r=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")};var a=function(e,t,n,o,i,s,a,l){if(r(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,o,i,s,a,l],d=0;(c=new Error(t.replace(/%s/g,(function(){return u[d++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}},l=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var i=0,r="Warning: "+e.replace(/%s/g,(function(){return n[i++]}));"undefined"!=typeof console&&console.error(r);try{throw new Error(r)}catch(e){}},c=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];l.apply(void 0,[t].concat(o))}},u=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;function p(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var f=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,o,i=p(e),r=1;r<arguments.length;r++){for(var s in n=Object(arguments[r]))d.call(n,s)&&(i[s]=n[s]);if(u){o=u(n);for(var a=0;a<o.length;a++)h.call(n,o[a])&&(i[o[a]]=n[o[a]])}}return i},m="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",g=a,b=c,w={},k=function(e,t,n,o,i){for(var r in e)if(e.hasOwnProperty(r)){var s;try{g("function"==typeof e[r],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",o||"React class",n,r,typeof e[r]),s=e[r](t,r,o,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){s=e}if(b(!s||s instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",o||"React class",n,r,typeof s),s instanceof Error&&!(s.message in w)){w[s.message]=!0;var a=i?i():"";b(!1,"Failed %s type: %s%s",n,s.message,null!=a?a:"")}}},v=n((function(e){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,o="<<anonymous>>",i={array:u("array"),bool:u("boolean"),func:u("function"),number:u("number"),object:u("object"),string:u("string"),symbol:u("symbol"),any:l(s.thatReturnsNull),arrayOf:function(e){return l((function(t,n,o,i,s){if("function"!=typeof e)return new r("Property `"+s+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a))return new r("Invalid "+i+" `"+s+"` of type `"+h(a)+"` supplied to `"+o+"`, expected an array.");for(var l=0;l<a.length;l++){var c=e(a,l,o,i,s+"["+l+"]",m);if(c instanceof Error)return c}return null}))},element:l((function(t,n,o,i,s){var a=t[n];return e(a)?null:new r("Invalid "+i+" `"+s+"` of type `"+h(a)+"` supplied to `"+o+"`, expected a single ReactElement.")})),instanceOf:function(e){return l((function(t,n,i,s,a){if(!(t[n]instanceof e)){var l=e.name||o;return new r("Invalid "+s+" `"+a+"` of type `"+((c=t[n]).constructor&&c.constructor.name?c.constructor.name:o)+"` supplied to `"+i+"`, expected instance of `"+l+"`.")}var c;return null}))},node:l((function(e,t,n,o,i){return d(e[t])?null:new r("Invalid "+o+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return l((function(t,n,o,i,s){if("function"!=typeof e)return new r("Property `"+s+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var a=t[n],l=h(a);if("object"!==l)return new r("Invalid "+i+" `"+s+"` of type `"+l+"` supplied to `"+o+"`, expected an object.");for(var c in a)if(a.hasOwnProperty(c)){var u=e(a,c,o,i,s+"."+c,m);if(u instanceof Error)return u}return null}))},oneOf:function(e){return Array.isArray(e)?l((function(t,n,o,i,s){for(var a=t[n],l=0;l<e.length;l++)if((c=a)===(u=e[l])?0!==c||1/c==1/u:c!=c&&u!=u)return null;var c,u;return new r("Invalid "+i+" `"+s+"` of value `"+a+"` supplied to `"+o+"`, expected one of "+JSON.stringify(e)+".")})):(c(!1,"Invalid argument supplied to oneOf, expected an instance of array."),s.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return c(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),s.thatReturnsNull;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return c(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",g(n),t),s.thatReturnsNull}return l((function(t,n,o,i,s){for(var a=0;a<e.length;a++)if(null==(0,e[a])(t,n,o,i,s,m))return null;return new r("Invalid "+i+" `"+s+"` supplied to `"+o+"`.")}))},shape:function(e){return l((function(t,n,o,i,s){var a=t[n],l=h(a);if("object"!==l)return new r("Invalid "+i+" `"+s+"` of type `"+l+"` supplied to `"+o+"`, expected `object`.");for(var c in e){var u=e[c];if(u){var d=u(a,c,o,i,s+"."+c,m);if(d)return d}}return null}))},exact:function(e){return l((function(t,n,o,i,s){var a=t[n],l=h(a);if("object"!==l)return new r("Invalid "+i+" `"+s+"` of type `"+l+"` supplied to `"+o+"`, expected `object`.");var c=f({},t[n],e);for(var u in c){var d=e[u];if(!d)return new r("Invalid "+i+" `"+s+"` key `"+u+"` supplied to `"+o+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var p=d(a,u,o,i,s+"."+u,m);if(p)return p}return null}))}};function r(e){this.message=e,this.stack=""}function l(e){var n={},i=0;function s(s,l,u,d,h,p,f){if(d=d||o,p=p||u,f!==m)if(t)a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("undefined"!=typeof console){var g=d+":"+u;!n[g]&&i<3&&(c(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",p,d),n[g]=!0,i++)}return null==l[u]?s?null===l[u]?new r("The "+h+" `"+p+"` is marked as required in `"+d+"`, but its value is `null`."):new r("The "+h+" `"+p+"` is marked as required in `"+d+"`, but its value is `undefined`."):null:e(l,u,d,h,p)}var l=s.bind(null,!1);return l.isRequired=s.bind(null,!0),l}function u(e){return l((function(t,n,o,i,s,a){var l=t[n];return h(l)!==e?new r("Invalid "+i+" `"+s+"` of type `"+p(l)+"` supplied to `"+o+"`, expected `"+e+"`."):null}))}function d(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(d);if(null===t||e(t))return!0;var o=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!o)return!1;var i,r=o.call(t);if(o!==t.entries){for(;!(i=r.next()).done;)if(!d(i.value))return!1}else for(;!(i=r.next()).done;){var s=i.value;if(s&&!d(s[1]))return!1}return!0;default:return!1}}function h(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function p(e){if(null==e)return""+e;var t=h(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function g(e){var t=p(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return r.prototype=Error.prototype,i.checkPropTypes=k,i.PropTypes=i,i}((function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}),!0)})),_=n((function(e){
/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){var t={}.hasOwnProperty;function n(){for(var e=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i))e.push(n.apply(null,i));else if("object"===r)for(var s in i)t.call(i,s)&&i[s]&&e.push(s)}}return e.join(" ")}e.exports?e.exports=n:window.classNames=n}()}));function y(e,t){for(var n=0,o=e.length;n<o;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function x(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function C(e){return"number"==typeof e&&!isNaN(e)}function T(e){return parseInt(e,10)}function E(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}var S=["Moz","Webkit","O","ms"];function P(e,t){return t?""+t+function(e){for(var t="",n=!0,o=0;o<e.length;o++)n?(t+=e[o].toUpperCase(),n=!1):"-"===e[o]?n=!0:t+=e[o];return t}(e):e}var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<S.length;n++)if(P(e,S[n])in t)return S[n];return""}(),R=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},O=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),N=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},M=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},z=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},D=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{!o&&a.return&&a.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},V="";function B(e,t){return V||(V=y(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return x(e[t])}))),!!x(e[V])&&e[V](t)}function F(e,t,n){var o=e;do{if(B(o,t))return!0;if(o===n)return!1;o=o.parentNode}while(o);return!1}function L(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function j(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function H(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=T(n.borderTopWidth))+T(n.borderBottomWidth)}function W(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=T(n.borderLeftWidth))+T(n.borderRightWidth)}function U(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=T(n.paddingTop))-T(n.paddingBottom)}function q(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=T(n.paddingLeft))-T(n.paddingRight)}function $(e,t,n){var o="translate("+e.x+n+","+e.y+n+")";return t&&(o="translate("+("string"==typeof t.x?t.x:t.x+n)+", "+("string"==typeof t.y?t.y:t.y+n)+")"+o),o}function G(e){if(e){var t,n,o=e.getElementById("react-draggable-style-el");o||((o=e.createElement("style")).type="text/css",o.id="react-draggable-style-el",o.innerHTML=".react-draggable-transparent-selection *::-moz-selection {background: transparent;}\n",o.innerHTML+=".react-draggable-transparent-selection *::selection {background: transparent;}\n",e.getElementsByTagName("head")[0].appendChild(o)),e.body&&(n="react-draggable-transparent-selection",(t=e.body).classList?t.classList.add(n):t.className.match(new RegExp("(?:^|\\s)"+n+"(?!\\S)"))||(t.className+=" "+n))}}function K(e){try{e&&e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(?:^|\\s)"+n+"(?!\\S)","g"),"")),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(e){}var t,n}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return I({touchAction:"none"},e)}function Y(e){return"both"===e.props.axis||"x"===e.props.axis}function Q(e){return"both"===e.props.axis||"y"===e.props.axis}function X(e,t,n){var o="number"==typeof t?function(e,t){return e.targetTouches&&y(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&y(e.changedTouches,(function(e){return t===e.identifier}))}(e,t):null;if("number"==typeof t&&!o)return null;var i=te(n);return function(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}(o||e,n.props.offsetParent||i.offsetParent||i.ownerDocument.body)}function Z(e,t,n){var o=e.state,i=!C(o.lastX),r=te(e);return i?{node:r,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:r,deltaX:t-o.lastX,deltaY:n-o.lastY,lastX:o.lastX,lastY:o.lastY,x:t,y:n}}function ee(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function te(t){var n=e.findDOMNode(t);if(!n)throw new Error("<DraggableCore>: Unmounted during event!");return n}var ne={start:"touchstart",move:"touchmove",stop:"touchend"},oe={start:"mousedown",move:"mousemove",stop:"mouseup"},ie=oe,re=function(n){function o(){var t,n,i;R(this,o);for(var r=arguments.length,s=Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=i=z(this,(t=o.__proto__||Object.getPrototypeOf(o)).call.apply(t,[this].concat(s))),i.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},i.handleDragStart=function(t){if(i.props.onMouseDown(t),!i.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode(i);if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var o=n.ownerDocument;if(!(i.props.disabled||!(t.target instanceof o.defaultView.Node)||i.props.handle&&!F(t.target,i.props.handle,n)||i.props.cancel&&F(t.target,i.props.cancel,n))){var r=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}(t);i.setState({touchIdentifier:r});var s=X(t,r,i);if(null!=s){var a=s.x,l=s.y,c=Z(i,a,l);i.props.onStart,!1!==i.props.onStart(t,c)&&(i.props.enableUserSelectHack&&G(o),i.setState({dragging:!0,lastX:a,lastY:l}),L(o,ie.move,i.handleDrag),L(o,ie.stop,i.handleDragStop))}}},i.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=X(e,i.state.touchIdentifier,i);if(null!=t){var n,o,r,s=t.x,a=t.y;if(Array.isArray(i.props.grid)){var l=s-i.state.lastX,c=a-i.state.lastY,u=(n=i.props.grid,o=l,r=c,[Math.round(o/n[0])*n[0],Math.round(r/n[1])*n[1]]),d=D(u,2);if(l=d[0],c=d[1],!l&&!c)return;s=i.state.lastX+l,a=i.state.lastY+c}var h=Z(i,s,a);if(!1!==i.props.onDrag(e,h))i.setState({lastX:s,lastY:a});else try{i.handleDragStop(new MouseEvent("mouseup"))}catch(e){var p=document.createEvent("MouseEvents");p.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.handleDragStop(p)}}},i.handleDragStop=function(t){if(i.state.dragging){var n=X(t,i.state.touchIdentifier,i);if(null!=n){var o=n.x,r=n.y,s=Z(i,o,r),a=e.findDOMNode(i);a&&i.props.enableUserSelectHack&&K(a.ownerDocument),i.setState({dragging:!1,lastX:NaN,lastY:NaN}),i.props.onStop(t,s),a&&(j(a.ownerDocument,ie.move,i.handleDrag),j(a.ownerDocument,ie.stop,i.handleDragStop))}}},i.onMouseDown=function(e){return ie=oe,i.handleDragStart(e)},i.onMouseUp=function(e){return ie=oe,i.handleDragStop(e)},i.onTouchStart=function(e){return ie=ne,i.handleDragStart(e)},i.onTouchEnd=function(e){return ie=ne,i.handleDragStop(e)},z(i,n)}return M(o,n),O(o,[{key:"componentWillUnmount",value:function(){var t=e.findDOMNode(this);if(t){var n=t.ownerDocument;j(n,oe.move,this.handleDrag),j(n,ne.move,this.handleDrag),j(n,oe.stop,this.handleDragStop),j(n,ne.stop,this.handleDragStop),this.props.enableUserSelectHack&&K(n)}}},{key:"render",value:function(){return t.cloneElement(t.Children.only(this.props.children),{style:J(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),o}(t.Component);re.displayName="DraggableCore",re.propTypes={allowAnyClick:v.bool,disabled:v.bool,enableUserSelectHack:v.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:v.arrayOf(v.number),scale:v.number,handle:v.string,cancel:v.string,onStart:v.func,onDrag:v.func,onStop:v.func,onMouseDown:v.func,className:E,style:E,transform:E},re.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}};var se=function(n){function o(e){R(this,o);var t=z(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return t.onDragStart=function(e,n){if(!1===t.props.onStart(e,ee(t,n)))return!1;t.setState({dragging:!0,dragged:!0})},t.onDrag=function(e,n){if(!t.state.dragging)return!1;var o=ee(t,n),i={x:o.x,y:o.y};if(t.props.bounds){var r=i.x,s=i.y;i.x+=t.state.slackX,i.y+=t.state.slackY;var a=function(e,t,n){if(!e.props.bounds)return[t,n];var o=e.props.bounds;o="string"==typeof o?o:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(o);var i=te(e);if("string"==typeof o){var r,s=i.ownerDocument,a=s.defaultView;if(!((r="parent"===o?i.parentNode:s.querySelector(o))instanceof a.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');var l=a.getComputedStyle(i),c=a.getComputedStyle(r);o={left:-i.offsetLeft+T(c.paddingLeft)+T(l.marginLeft),top:-i.offsetTop+T(c.paddingTop)+T(l.marginTop),right:q(r)-W(i)-i.offsetLeft+T(c.paddingRight)-T(l.marginRight),bottom:U(r)-H(i)-i.offsetTop+T(c.paddingBottom)-T(l.marginBottom)}}return C(o.right)&&(t=Math.min(t,o.right)),C(o.bottom)&&(n=Math.min(n,o.bottom)),C(o.left)&&(t=Math.max(t,o.left)),C(o.top)&&(n=Math.max(n,o.top)),[t,n]}(t,i.x,i.y),l=D(a,2),c=l[0],u=l[1];i.x=c,i.y=u,i.slackX=t.state.slackX+(r-i.x),i.slackY=t.state.slackY+(s-i.y),o.x=i.x,o.y=i.y,o.deltaX=i.x-t.state.x,o.deltaY=i.y-t.state.y}if(!1===t.props.onDrag(e,o))return!1;t.setState(i)},t.onDragStop=function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,ee(t,n)))return!1;var o={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var i=t.props.position,r=i.x,s=i.y;o.x=r,o.y=s}t.setState(o)},t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},t}return M(o,n),O(o,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&e.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,n={},o=null,i=!Boolean(this.props.position)||this.state.dragging,r=this.props.position||this.props.defaultPosition,s={x:Y(this)&&i?this.state.x:r.x,y:Q(this)&&i?this.state.y:r.y};this.state.isElementSVG?o=$(s,this.props.positionOffset,""):n=function(e,t){var n=$(e,t,"px");return N({},P("transform",A),n)}(s,this.props.positionOffset);var a=this.props,l=a.defaultClassName,c=a.defaultClassNameDragging,u=a.defaultClassNameDragged,d=t.Children.only(this.props.children),h=_(d.props.className||"",l,(N(e={},c,this.state.dragging),N(e,u,this.state.dragged),e));return t.createElement(re,I({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(d,{className:h,style:I({},d.props.style,n),transform:o}))}}]),o}(t.Component);return se.displayName="Draggable",se.propTypes=I({},re.propTypes,{axis:v.oneOf(["both","x","y","none"]),bounds:v.oneOfType([v.shape({left:v.number,right:v.number,top:v.number,bottom:v.number}),v.string,v.oneOf([!1])]),defaultClassName:v.string,defaultClassNameDragging:v.string,defaultClassNameDragged:v.string,defaultPosition:v.shape({x:v.number,y:v.number}),positionOffset:v.shape({x:v.oneOfType([v.number,v.string]),y:v.oneOfType([v.number,v.string])}),position:v.shape({x:v.number,y:v.number}),className:E,style:E,transform:E}),se.defaultProps=I({},re.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}),se.default=se,se.DraggableCore=re,se}(n(3),n(0))},function(e,t,n){var o=n(15);"string"==typeof o&&(o=[[e.i,o,""]]),n(2)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,':root{--ck-inspector-color-tree-node-hover:#eaf2fb;--ck-inspector-color-tree-node-name:#882680;--ck-inspector-color-tree-node-attribute-name:#8a8a8a;--ck-inspector-color-tree-node-tag:#aaa;--ck-inspector-color-tree-node-attribute:#9a4819;--ck-inspector-color-tree-node-attribute-value:#2a43ac;--ck-inspector-color-tree-text-border:#b7b7b7;--ck-inspector-color-tree-node-border-hover:#b0c6e0;--ck-inspector-color-tree-content-delimiter:#ddd;--ck-inspector-color-tree-node-active-bg:#f5faff;--ck-inspector-color-tree-node-name-active-bg:#2b98f0;--ck-inspector-color-tree-node-inactive:#8a8a8a;--ck-inspector-color-tree-selection:red;--ck-inspector-color-comment:green}.ck-inspector .ck-inspector-tree{background:var(--ck-inspector-color-white);padding:1em;width:100%;height:100%;overflow:auto;user-select:none}.ck-inspector-tree .ck-inspector-tree-node__attribute{font:inherit;margin-left:.4em;color:var(--ck-inspector-color-tree-node-tag)}.ck-inspector-tree .ck-inspector-tree-node__attribute .ck-inspector-tree-node__attribute__name{color:var(--ck-inspector-color-tree-node-attribute)}.ck-inspector-tree .ck-inspector-tree-node__attribute .ck-inspector-tree-node__attribute__value{color:var(--ck-inspector-color-tree-node-attribute-value)}.ck-inspector-tree .ck-inspector-tree-node__attribute .ck-inspector-tree-node__attribute__value:before{content:\'="\'}.ck-inspector-tree .ck-inspector-tree-node__attribute .ck-inspector-tree-node__attribute__value:after{content:\'"\'}.ck-inspector-tree .ck-inspector-tree-node .ck-inspector-tree-node__name{color:var(--ck-inspector-color-tree-node-name);display:block;padding:0 .1em;border-left:1px solid transparent}.ck-inspector-tree .ck-inspector-tree-node .ck-inspector-tree-node__name:hover{background:var(--ck-inspector-color-tree-node-hover)}.ck-inspector-tree .ck-inspector-tree-node .ck-inspector-tree-node__content{padding:1px .5em 1px 1.5em;border-left:1px solid var(--ck-inspector-color-tree-content-delimiter);white-space:pre-wrap}.ck-inspector-tree .ck-inspector-tree-node:not(.ck-inspector-tree-node_tagless) .ck-inspector-tree-node__name:before{content:"<";color:var(--ck-inspector-color-tree-node-tag)}.ck-inspector-tree .ck-inspector-tree-node:not(.ck-inspector-tree-node_tagless) .ck-inspector-tree-node__name:after{content:">";color:var(--ck-inspector-color-tree-node-tag)}.ck-inspector-tree .ck-inspector-tree-node:not(.ck-inspector-tree-node_tagless).ck-inspector-tree-node_empty .ck-inspector-tree-node__name:after{content:" />"}.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_tagless .ck-inspector-tree-node__content{display:none}.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_active>.ck-inspector-tree-node__name:first-child,.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_active>.ck-inspector-tree-node__name:first-child:after,.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_active>.ck-inspector-tree-node__name:first-child:before,.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_active>.ck-inspector-tree-node__name:first-child :not(.ck-inspector-tree__selection){background:var(--ck-inspector-color-tree-node-name-active-bg);color:var(--ck-inspector-color-white)}.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_active .ck-inspector-tree-node__content,.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_active>.ck-inspector-tree-node__name:last-child{background:var(--ck-inspector-color-tree-node-active-bg)}.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_active>.ck-inspector-tree-node__content{border-left-color:var(--ck-inspector-color-tree-node-name-active-bg)}.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_active>.ck-inspector-tree-node__name:last-child{border-left:1px solid var(--ck-inspector-color-tree-node-name-active-bg)}.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_disabled{opacity:.8}.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_disabled .ck-inspector-tree-node__name,.ck-inspector-tree .ck-inspector-tree-node.ck-inspector-tree-node_disabled .ck-inspector-tree-node__name *{color:var(--ck-inspector-color-tree-node-inactive)}.ck-inspector-tree .ck-inspector-tree-text{display:block;margin-bottom:1px}.ck-inspector-tree .ck-inspector-tree-text .ck-inspector-tree-node__content{border:1px dotted var(--ck-inspector-color-tree-text-border);border-radius:2px;padding:0 1px;margin-right:1px;display:inline-block}.ck-inspector-tree .ck-inspector-tree-text .ck-inspector-tree-text__attributes:not(:empty){margin-right:.5em}.ck-inspector-tree .ck-inspector-tree-text .ck-inspector-tree-text__attributes .ck-inspector-tree-node__attribute{background:var(--ck-inspector-color-tree-node-attribute-name);border-radius:2px;padding:0 .5em}.ck-inspector-tree .ck-inspector-tree-text .ck-inspector-tree-text__attributes .ck-inspector-tree-node__attribute+.ck-inspector-tree-node__attribute{margin-left:.2em}.ck-inspector-tree .ck-inspector-tree-text .ck-inspector-tree-text__attributes .ck-inspector-tree-node__attribute>*{color:var(--ck-inspector-color-white)}.ck-inspector-tree .ck-inspector-tree-text .ck-inspector-tree-text__attributes .ck-inspector-tree-node__attribute:first-child{margin-left:0}.ck-inspector-tree .ck-inspector-tree-text.ck-inspector-tree-node_active .ck-inspector-tree-node__content{border-style:solid;border-color:var(--ck-inspector-color-tree-node-name-active-bg)}.ck-inspector-tree .ck-inspector-tree-text.ck-inspector-tree-node_active .ck-inspector-tree-node__attribute{background:var(--ck-inspector-color-white)}.ck-inspector-tree .ck-inspector-tree-text.ck-inspector-tree-node_active .ck-inspector-tree-node__attribute>*{color:var(--ck-inspector-color-tree-node-name-active-bg)}.ck-inspector-tree .ck-inspector-tree-text.ck-inspector-tree-node_active>.ck-inspector-tree-node__content{background:var(--ck-inspector-color-tree-node-name-active-bg);color:var(--ck-inspector-color-white)}.ck-inspector-tree .ck-inspector-tree-text:not(.ck-inspector-tree-node_active) .ck-inspector-tree-node__content:hover{background:var(--ck-inspector-color-tree-node-hover);border-style:solid;border-color:var(--ck-inspector-color-tree-node-border-hover)}.ck-inspector-tree.ck-inspector-tree_text-direction_ltr .ck-inspector-tree-node__content{direction:ltr}.ck-inspector-tree.ck-inspector-tree_text-direction_rtl .ck-inspector-tree-node__content{direction:rtl}.ck-inspector-tree .ck-inspector-tree-comment{color:var(--ck-inspector-color-comment);font-style:italic}.ck-inspector-tree .ck-inspector-tree-comment a{color:inherit;text-decoration:underline}.ck-inspector-tree_compact-text .ck-inspector-tree-text,.ck-inspector-tree_compact-text .ck-inspector-tree-text .ck-inspector-tree-node__content{display:inline}.ck-inspector .ck-inspector__tree__navigation{padding:.5em 1em;border-bottom:1px solid var(--ck-inspector-color-border)}.ck-inspector .ck-inspector__tree__navigation label{margin-right:.5em}.ck-inspector-tree .ck-inspector-tree__selection{font-weight:700;color:var(--ck-inspector-color-white);background:var(--ck-inspector-color-tree-selection);padding:0 .2em}',""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,r=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(i=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:o+r.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t,n){var o=n(18);"string"==typeof o&&(o=[[e.i,o,""]]),n(2)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,":root{--ck-inspector-navbox-empty-background:#fafafa}.ck-inspector .ck-inspector-navbox{display:flex;flex-direction:column;height:100%;align-items:stretch}.ck-inspector .ck-inspector-navbox .ck-inspector-navbox__navigation{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch;min-height:30px;max-height:30px;border-bottom:1px solid var(--ck-inspector-color-border);width:100%;user-select:none;align-items:center}.ck-inspector .ck-inspector-navbox .ck-inspector-navbox__content{display:flex;flex-direction:row;height:100%;overflow:hidden}",""])},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,":root{--ck-inspector-explorer-width:300px}.ck-inspector .ck-inspector-pane{display:flex;width:100%}.ck-inspector .ck-inspector-pane.ck-inspector-pane_empty{align-items:center;justify-content:center;padding:1em;background:var(--ck-inspector-navbox-empty-background)}.ck-inspector .ck-inspector-pane.ck-inspector-pane_empty p{align-self:center;width:100%;text-align:center}.ck-inspector .ck-inspector-pane>.ck-inspector-navbox:last-child{min-width:var(--ck-inspector-explorer-width);width:var(--ck-inspector-explorer-width)}.ck-inspector .ck-inspector-pane.ck-inspector-pane_vsplit>.ck-inspector-navbox:first-child{border-right:1px solid var(--ck-inspector-color-border);flex:1 1 auto;overflow:hidden}.ck-inspector .ck-inspector-pane.ck-inspector-pane_vsplit>.ck-inspector-navbox:first-child .ck-inspector-navbox__navigation{align-items:center}.ck-inspector .ck-inspector-pane.ck-inspector-pane_vsplit>.ck-inspector-navbox:first-child .ck-inspector-tree__config label{margin-left:1em;margin-right:1em}",""])},function(e,t,n){var o=n(21);"string"==typeof o&&(o=[[e.i,o,""]]),n(2)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,":root{--ck-inspector-color-tab-background-hover:rgba(0,0,0,0.07);--ck-inspector-color-tab-active-border:#0dacef}.ck-inspector .ck-inspector-horizontal-nav{display:flex;flex-direction:row;user-select:none;align-self:stretch}.ck-inspector .ck-inspector-horizontal-nav .ck-inspector-horizontal-nav__item{-webkit-appearance:none;background:none;border:0;border-bottom:2px solid transparent;padding:.5em 1em;align-self:stretch}.ck-inspector .ck-inspector-horizontal-nav .ck-inspector-horizontal-nav__item:hover{background:var(--ck-inspector-color-tab-background-hover)}.ck-inspector .ck-inspector-horizontal-nav .ck-inspector-horizontal-nav__item.ck-inspector-horizontal-nav__item_active{border-bottom-color:var(--ck-inspector-color-tab-active-border)}",""])},function(e,t,n){var o=n(23);"string"==typeof o&&(o=[[e.i,o,""]]),n(2)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".ck-inspector-side-pane{position:relative}",""])},function(e,t,n){var o=n(25);"string"==typeof o&&(o=[[e.i,o,""]]),n(2)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".ck-inspector .ck-inspector-button{width:16px;height:16px;border:0;text-indent:100px;overflow:hidden;opacity:.8;margin-left:.7em;flex:0 0 auto}.ck-inspector .ck-inspector-button:first-of-type{margin-left:auto}.ck-inspector .ck-inspector-button:hover{opacity:1}.ck-inspector .ck-inspector-button.ck-inspector-button_log{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNSA0LjE2NWw1LjcgNC4xMi01LjcgMy4xNTNtNy45NDkuMDYyaDUuNjU1IiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlPSIjNkU2RTZFIiBzdHJva2Utd2lkdGg9IjEuNSIvPjwvc3ZnPg==)}.ck-inspector .ck-inspector-button.ck-inspector-button_exec{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Y2lyY2xlIHN0cm9rZT0iIzZFNkU2RSIgc3Ryb2tlLXdpZHRoPSIxLjUiIGN4PSI4IiBjeT0iOCIgcj0iNy4yNSIvPjxwYXRoIGZpbGw9IiM2RTZFNkUiIGQ9Ik02LjA5NCA1LjIzNUwxMS4wNzQgOGwtNC45OCAzLjAxOHoiLz48L2c+PC9zdmc+)}",""])},function(e,t,n){var o=n(27);"string"==typeof o&&(o=[[e.i,o,""]]),n(2)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,':root{--ck-inspector-color-property-list-property-name:#d0363f;--ck-inspector-color-property-list-property-value-true:green;--ck-inspector-color-property-list-property-value-false:red;--ck-inspector-color-property-list-property-value-unknown:#888;--ck-inspector-color-property-list-background:#f5f5f5;--ck-inspector-color-property-list-title-collapser:#727272}.ck-inspector .ck-inspector-property-list{display:grid;grid-template-columns:auto 1fr;background:var(--ck-inspector-color-white)}.ck-inspector .ck-inspector-property-list>:nth-of-type(odd){background:var(--ck-inspector-color-property-list-background)}.ck-inspector .ck-inspector-property-list>:nth-of-type(2n){background:var(--ck-inspector-color-white)}.ck-inspector .ck-inspector-property-list dt{padding:0 .7em 0 1.2em;min-width:15em}.ck-inspector .ck-inspector-property-list dt.ck-inspector-property-list__title_collapsible button{display:inline-block;overflow:hidden;vertical-align:middle;margin-left:-9px;margin-right:.3em;width:0;height:0;border-left:6px solid var(--ck-inspector-color-property-list-title-collapser);border-bottom:3.5px solid transparent;border-right:0 solid transparent;border-top:3.5px solid transparent;transition:transform .2s ease-in-out;transform:rotate(0deg)}.ck-inspector .ck-inspector-property-list dt.ck-inspector-property-list__title_expanded button{transform:rotate(90deg)}.ck-inspector .ck-inspector-property-list dt.ck-inspector-property-list__title_collapsed+dd+.ck-inspector-property-list{display:none}.ck-inspector .ck-inspector-property-list dt label{color:var(--ck-inspector-color-property-list-property-name)}.ck-inspector .ck-inspector-property-list dd{padding-right:.7em}.ck-inspector .ck-inspector-property-list dd input{width:100%}.ck-inspector .ck-inspector-property-list dd input[value=false]{color:var(--ck-inspector-color-property-list-property-value-false)}.ck-inspector .ck-inspector-property-list dd input[value=true]{color:var(--ck-inspector-color-property-list-property-value-true)}.ck-inspector .ck-inspector-property-list dd input[value="function() {}"],.ck-inspector .ck-inspector-property-list dd input[value=undefined]{color:var(--ck-inspector-color-property-list-property-value-unknown)}.ck-inspector .ck-inspector-property-list dd input[value="function() {}"]{font-style:italic}.ck-inspector .ck-inspector-property-list .ck-inspector-property-list{grid-column:1/-1;margin-left:1em;background:transparent}.ck-inspector .ck-inspector-property-list .ck-inspector-property-list>:nth-of-type(2n),.ck-inspector .ck-inspector-property-list .ck-inspector-property-list>:nth-of-type(odd){background:transparent}',""])},function(e,t,n){var o=n(29);"string"==typeof o&&(o=[[e.i,o,""]]),n(2)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".ck-inspector .ck-inspector__object-inspector{width:100%;background:var(--ck-inspector-color-white);overflow:auto}.ck-inspector .ck-inspector__object-inspector h2,.ck-inspector .ck-inspector__object-inspector h3{display:flex;flex-direction:row;flex-wrap:nowrap}.ck-inspector .ck-inspector__object-inspector h2{padding:1em;overflow:hidden;text-overflow:ellipsis}.ck-inspector .ck-inspector__object-inspector h2 span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;margin-right:1em}.ck-inspector .ck-inspector__object-inspector h2 a{color:var(--ck-inspector-color-tree-node-name)}.ck-inspector .ck-inspector__object-inspector h2 em:after,.ck-inspector .ck-inspector__object-inspector h2 em:before{content:'\"'}.ck-inspector .ck-inspector__object-inspector h3{font-size:12px;padding:.4em .7em}.ck-inspector .ck-inspector__object-inspector h3 a{color:inherit}.ck-inspector .ck-inspector__object-inspector h3 .ck-inspector-button{display:none}.ck-inspector .ck-inspector__object-inspector h3:hover .ck-inspector-button{display:block}.ck-inspector .ck-inspector__object-inspector hr{border-top:1px solid var(--ck-inspector-color-border)}",""])},function(e,t,n){var o=n(31);"string"==typeof o&&(o=[[e.i,o,""]]),n(2)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,":root{--ck-inspector-color-white:#fff;--ck-inspector-color-black:#000;--ck-inspector-color-background:#f3f3f3;--ck-inspector-color-link:#005cc6;--ck-inspector-code-font-size:11px;--ck-inspector-code-font-family:monaco,Consolas,Lucida Console,monospace;--ck-inspector-color-border:#d0d0d0}.ck-inspector,.ck-inspector *{box-sizing:border-box;width:auto;height:auto;position:static;margin:0;padding:0;border:0;background:transparent;text-decoration:none;transition:none;word-wrap:break-word;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;font-size:12px;line-height:17px;-webkit-font-smoothing:auto}.ck-inspector{overflow:hidden;border-collapse:collapse;color:var(--ck-inspector-color-black);text-align:left;white-space:normal;cursor:auto;float:none;background:var(--ck-inspector-color-background);border-top:1px solid var(--ck-inspector-color-border);z-index:9999}.ck-inspector.ck-inspector_collapsed>.ck-inspector-navbox>.ck-inspector-navbox__navigation .ck-inspector-horizontal-nav{display:none}.ck-inspector .ck-inspector-navbox__navigation__logo,.ck-inspector .ck-inspector-navbox__navigation__toggle{background-size:contain;background-repeat:no-repeat;background-position:50%;display:block;overflow:hidden;text-indent:100px;align-self:center;white-space:nowrap;margin-right:1em}.ck-inspector .ck-inspector-navbox__navigation__logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='68' height='64' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M43.71 11.025a11.508 11.508 0 00-1.213 5.159c0 6.42 5.244 11.625 11.713 11.625.083 0 .167 0 .25-.002v16.282a5.464 5.464 0 01-2.756 4.739L30.986 60.7a5.548 5.548 0 01-5.512 0L4.756 48.828A5.464 5.464 0 012 44.089V20.344c0-1.955 1.05-3.76 2.756-4.738L25.474 3.733a5.548 5.548 0 015.512 0l12.724 7.292z' fill='%23FFF'/%3E%3Cpath d='M45.684 8.79a12.604 12.604 0 00-1.329 5.65c0 7.032 5.744 12.733 12.829 12.733.091 0 .183-.001.274-.003v17.834a5.987 5.987 0 01-3.019 5.19L31.747 63.196a6.076 6.076 0 01-6.037 0L3.02 50.193A5.984 5.984 0 010 45.003V18.997c0-2.14 1.15-4.119 3.019-5.19L25.71.804a6.076 6.076 0 016.037 0L45.684 8.79zm-29.44 11.89c-.834 0-1.51.671-1.51 1.498v.715c0 .828.676 1.498 1.51 1.498h25.489c.833 0 1.51-.67 1.51-1.498v-.715c0-.827-.677-1.498-1.51-1.498h-25.49zm0 9.227c-.834 0-1.51.671-1.51 1.498v.715c0 .828.676 1.498 1.51 1.498h18.479c.833 0 1.509-.67 1.509-1.498v-.715c0-.827-.676-1.498-1.51-1.498H16.244zm0 9.227c-.834 0-1.51.671-1.51 1.498v.715c0 .828.676 1.498 1.51 1.498h25.489c.833 0 1.51-.67 1.51-1.498v-.715c0-.827-.677-1.498-1.51-1.498h-25.49zm41.191-14.459c-5.835 0-10.565-4.695-10.565-10.486 0-5.792 4.73-10.487 10.565-10.487C63.27 3.703 68 8.398 68 14.19c0 5.791-4.73 10.486-10.565 10.486zm3.422-8.68c0-.467-.084-.875-.251-1.225a2.547 2.547 0 00-.686-.88 2.888 2.888 0 00-1.026-.531 4.418 4.418 0 00-1.259-.175c-.134 0-.283.006-.447.018a2.72 2.72 0 00-.446.07l.075-1.4h3.587v-1.8h-5.462l-.214 5.06c.319-.116.682-.21 1.089-.28.406-.071.77-.107 1.088-.107.218 0 .437.021.655.063.218.041.413.114.585.218s.313.244.422.419c.109.175.163.391.163.65 0 .424-.132.745-.396.961a1.434 1.434 0 01-.938.325c-.352 0-.656-.1-.912-.3-.256-.2-.43-.453-.523-.762l-1.925.588c.1.35.258.664.472.943.214.279.47.514.767.706.298.191.63.339.995.443.365.104.749.156 1.151.156.437 0 .86-.064 1.272-.193.41-.13.778-.323 1.1-.581a2.8 2.8 0 00.775-.981c.193-.396.29-.864.29-1.405z' fill='%231EBC61' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\");width:1.8em;height:1.8em;margin-left:1em}.ck-inspector .ck-inspector-navbox__navigation__toggle{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTIgNS41bDUuMjkzIDUuMjkzYTEgMSAwIDAwMS40MTQgMEwxNCA1LjUiIHN0cm9rZT0iIzc0NzQ3NCIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48L3N2Zz4=);width:1.6em;height:1.6em;opacity:.7}.ck-inspector .ck-inspector-navbox__navigation__toggle:hover{opacity:1}.ck-inspector .ck-inspector-navbox__navigation__toggle.ck-inspector-navbox__navigation__toggle_up{transform:rotate(180deg)}.ck-inspector .ck-inspector-editor-selector{margin-left:auto;margin-right:1em}.ck-inspector .ck-inspector-code,.ck-inspector .ck-inspector-code *{font-size:var(--ck-inspector-code-font-size);font-family:var(--ck-inspector-code-font-family);cursor:default}.ck-inspector a{color:var(--ck-inspector-color-link);text-decoration:none}.ck-inspector a:hover{text-decoration:underline;cursor:pointer}.ck-inspector button{outline:0}",""])},function(e,t,n){var o=n(33);"string"==typeof o&&(o=[[e.i,o,""]]),n(2)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,"html body.ck-inspector-body-expanded{margin-bottom:var(--ck-inspector-height)}.ck-inspector-wrapper *{box-sizing:border-box}",""])},function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),r=n(3),s=n.n(r),a=n(6),l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},c=function(){return(c=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},u=n(13),d={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},h=function(e){function t(t){var n=e.call(this,t)||this;return n.isResizing=!1,n.state={original:{x:0,y:0},bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){var e=this.getOffsetFromParent(),t=e.left,n=e.top,o=this.getDraggablePosition(),i=o.x,r=o.y;this.draggable.setState({x:i-t,y:r-n}),this.forceUpdate()},t.prototype.getDraggablePosition=function(){var e=this.draggable.state;return{x:e.x,y:e.y}},t.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},t.prototype.getParentSize=function(){return this.resizable.getParentSize()},t.prototype.getMaxSizesFromProps=function(){return{maxWidth:void 0===this.props.maxWidth?Number.MAX_SAFE_INTEGER:this.props.maxWidth,maxHeight:void 0===this.props.maxHeight?Number.MAX_SAFE_INTEGER:this.props.maxHeight}},t.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},t.prototype.getOffsetHeight=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/t;case"body":return document.body.offsetHeight/t;default:return e.offsetHeight}},t.prototype.getOffsetWidth=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/t;case"body":return document.body.offsetWidth/t;default:return e.offsetWidth}},t.prototype.onDragStart=function(e,t){if(this.props.onDragStart&&this.props.onDragStart(e,t),this.props.bounds){var n,o=this.getParent(),i=this.props.scale;if("parent"===this.props.bounds)n=o;else{if("body"===this.props.bounds){var r=o.getBoundingClientRect(),s=r.left,a=r.top,l=document.body.getBoundingClientRect(),c=-(s-o.offsetLeft*i-l.left)/i,u=-(a-o.offsetTop*i-l.top)/i,d=(document.body.offsetWidth-this.resizable.size.width*i)/i+c,h=(document.body.offsetHeight-this.resizable.size.height*i)/i+u;return this.setState({bounds:{top:u,right:d,bottom:h,left:c}})}if("window"===this.props.bounds){if(!this.resizable)return;var p=o.getBoundingClientRect(),f=p.left,m=p.top,g=-(f-o.offsetLeft*i)/i,b=-(m-o.offsetTop*i)/i;return d=(window.innerWidth-this.resizable.size.width*i)/i+g,h=(window.innerHeight-this.resizable.size.height*i)/i+b,this.setState({bounds:{top:b,right:d,bottom:h,left:g}})}n=document.querySelector(this.props.bounds)}if(n instanceof HTMLElement&&o instanceof HTMLElement){var w=n.getBoundingClientRect(),k=w.left,v=w.top,_=o.getBoundingClientRect(),y=(k-_.left)/i,x=v-_.top;if(this.resizable){var C=this.getOffsetFromParent();this.setState({bounds:{top:x-C.top,right:y+(n.offsetWidth-this.resizable.size.width)-C.left/i,bottom:x+(n.offsetHeight-this.resizable.size.height)-C.top,left:y-C.left/i}})}}}},t.prototype.onDrag=function(e,t){if(this.props.onDrag){var n=this.getOffsetFromParent();this.props.onDrag(e,c({},t,{x:t.x-n.left,y:t.y-n.top}))}},t.prototype.onDragStop=function(e,t){if(this.props.onDragStop){var n=this.getOffsetFromParent(),o=n.left,i=n.top;return this.props.onDragStop(e,c({},t,{x:t.x+o,y:t.y+i}))}},t.prototype.onResizeStart=function(e,t,n){e.stopPropagation(),this.isResizing=!0;var o=this.props.scale;if(this.setState({original:this.getDraggablePosition()}),this.props.bounds){var i=this.getParent(),r=void 0;r="parent"===this.props.bounds?i:"body"===this.props.bounds?document.body:"window"===this.props.bounds?window:document.querySelector(this.props.bounds);var s=this.getSelfElement();if(s instanceof Element&&(r instanceof HTMLElement||r===window)&&i instanceof HTMLElement){var a=this.getMaxSizesFromProps(),l=a.maxWidth,c=a.maxHeight,u=this.getParentSize();if(l&&"string"==typeof l)if(l.endsWith("%")){var d=Number(l.replace("%",""))/100;l=u.width*d}else l.endsWith("px")&&(l=Number(l.replace("px","")));c&&"string"==typeof c&&(c.endsWith("%")?(d=Number(c.replace("%",""))/100,c=u.width*d):c.endsWith("px")&&(c=Number(c.replace("px",""))));var h=s.getBoundingClientRect(),p=h.left,f=h.top,m="window"===this.props.bounds?{left:0,top:0}:r.getBoundingClientRect(),g=m.left,b=m.top,w=this.getOffsetWidth(r),k=this.getOffsetHeight(r),v=t.toLowerCase().endsWith("left"),_=t.toLowerCase().endsWith("right"),y=t.startsWith("top"),x=t.startsWith("bottom");if(v&&this.resizable){var C=(p-g)/o+this.resizable.size.width;this.setState({maxWidth:C>Number(l)?l:C})}(_||this.props.lockAspectRatio&&!v)&&(C=w+(g-p)/o,this.setState({maxWidth:C>Number(l)?l:C})),y&&this.resizable&&(C=(f-b)/o+this.resizable.size.height,this.setState({maxHeight:C>Number(c)?c:C})),(x||this.props.lockAspectRatio&&!y)&&(C=k+(b-f)/o,this.setState({maxHeight:C>Number(c)?c:C}))}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,t,n)},t.prototype.onResize=function(e,t,n,o){var i,r,s=this.getOffsetFromParent();/left/i.test(t)&&(i=this.state.original.x-o.width,this.props.position||this.draggable.setState({x:i}),i+=s.left),/top/i.test(t)&&(r=this.state.original.y-o.height,this.props.position||this.draggable.setState({y:r}),r+=s.top),this.props.onResize&&(void 0===i&&(i=this.getDraggablePosition().x+s.left),void 0===r&&(r=this.getDraggablePosition().y+s.top),this.props.onResize(e,t,n,o,{x:i,y:r}))},t.prototype.onResizeStop=function(e,t,n,o){this.isResizing=!1;var i=this.getMaxSizesFromProps(),r=i.maxWidth,s=i.maxHeight;if(this.setState({maxWidth:r,maxHeight:s}),this.props.onResizeStop){var a=this.getDraggablePosition();this.props.onResizeStop(e,t,n,o,a)}},t.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},t.prototype.updatePosition=function(e){this.draggable.setState(e)},t.prototype.getOffsetFromParent=function(){var e=this.props.scale,t=this.getParent(),n=this.getSelfElement();if(!t||null===n)return{top:0,left:0};var o=t.getBoundingClientRect(),i=o.left,r=o.top,s=n.getBoundingClientRect(),a=this.getDraggablePosition();return{left:s.left-i-a.x*e,top:s.top-r-a.y*e}},t.prototype.render=function(){var e=this,t=this.props,n=t.disableDragging,i=t.style,r=t.dragHandleClassName,s=t.position,l=t.onMouseDown,h=t.dragAxis,p=t.dragGrid,f=t.bounds,m=t.enableUserSelectHack,g=t.cancel,b=t.children,w=(t.onResizeStart,t.onResize,t.onResizeStop,t.onDragStart,t.onDrag,t.onDragStop,t.resizeHandleStyles),k=t.resizeHandleClasses,v=t.enableResizing,_=t.resizeGrid,y=t.resizeHandleWrapperClass,x=t.resizeHandleWrapperStyle,C=t.scale,T=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]])}return n}(t,["disableDragging","style","dragHandleClassName","position","onMouseDown","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale"]),E=this.props.default?c({},this.props.default):void 0;delete T.default;var S,P=c({},d,n||r?{cursor:"auto"}:{cursor:"move"},i),A=this.getOffsetFromParent(),R=A.left,O=A.top;return s&&(S={x:s.x-R,y:s.y-O}),Object(o.createElement)(u,{ref:function(t){t&&(e.draggable=t)},handle:r?"."+r:void 0,defaultPosition:E,onMouseDown:l,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:h,disabled:n,grid:p,bounds:f?this.state.bounds:void 0,position:S,enableUserSelectHack:m,cancel:g,scale:C},Object(o.createElement)(a.Resizable,c({},T,{ref:function(t){t&&(e.resizable=t)},defaultSize:E,size:this.props.size,enable:v,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:P,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.isResizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.isResizing?this.state.maxHeight:this.props.maxHeight,grid:_,handleWrapperClass:y,handleWrapperStyle:x,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:w,handleClasses:k,scale:this.props.scale}),b))},t.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},t}(o.Component);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class p{static set(e,t){window.localStorage.setItem("ck5-inspector-"+e,t)}static get(e){return window.localStorage.getItem("ck5-inspector-"+e)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function f(e,t=!0){if(void 0===e)return"undefined";if("function"==typeof e)return"function() {}";const n=JSON.stringify(e);return t?n:n.replace(/(^"|"$)/g,"")}function m(e){return e.map(([e,t])=>("symbol"==typeof e&&(e=e.toString()),[e,f(t)]))}function g(e,t){return e.length>t?e.substr(0,t)+` [${e.length-t} characters left]`:e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */n(14);class w extends o.Component{render(){let e;return e=this.props.items?this.props.items.map((e,t)=>E(e,t,{onClick:this.props.onClick,showCompactText:this.props.showCompactText,activeNode:this.props.activeNode})):"Nothing to show.",i.a.createElement("div",{className:["ck-inspector-tree",this.props.textDirection?"ck-inspector-tree_text-direction_"+this.props.textDirection:"",this.props.showCompactText?"ck-inspector-tree_compact-text":""].join(" ")},e)}}class k extends o.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){this.props.onClick(e,this.props.item.node)}getChildren(){return this.props.item.children.map((e,t)=>E(e,t,this.treeProps))}get isActive(){return this.props.item.node===this.props.activeNode}get treeProps(){return{onClick:this.props.onClick,showCompactText:this.props.showCompactText,activeNode:this.props.activeNode}}}class v extends k{render(){const e=this.props.item,t=e.presentation,n=t&&t.isEmpty,o=t&&t.cssClass,r=["ck-inspector-code","ck-inspector-tree-node",this.isActive?"ck-inspector-tree-node_active":"",n?"ck-inspector-tree-node_empty":"",o];return i.a.createElement("div",{className:r.join(" "),onClick:this.handleClick},i.a.createElement("span",{className:"ck-inspector-tree-node__name"},e.name,this.getAttributes()),i.a.createElement("div",{className:"ck-inspector-tree-node__content"},this.getChildren()),n?"":i.a.createElement("span",{className:"ck-inspector-tree-node__name"},"/",e.name))}getAttributes(){const e=[],t=this.props.item;for(const[n,o]of t.attributes)e.push(i.a.createElement(y,{key:n,name:n,value:o}));return e}}class _ extends k{render(){const e=["ck-inspector-tree-text",this.isActive?"ck-inspector-tree-node_active":""].join(" ");return i.a.createElement("span",{className:e,onClick:this.handleClick},i.a.createElement("span",{className:"ck-inspector-tree-node__content"},this.props.showCompactText?"":this.getAttributes(),this.props.showCompactText?"":'"',this.getChildren(),this.props.showCompactText?"":'"'))}getAttributes(){const e=[],t=this.props.item,n=t.presentation,o=n&&n.dontRenderAttributeValue;for(const[n,r]of t.attributes)e.push(i.a.createElement(y,{key:n,name:n,value:r,dontRenderValue:o}));return i.a.createElement("span",{className:"ck-inspector-tree-text__attributes"},e)}}class y extends o.Component{render(){let e;const t=g(this.props.value,500);return this.props.dontRenderValue||(e=i.a.createElement("span",{className:"ck-inspector-tree-node__attribute__value"},t)),i.a.createElement("span",{className:"ck-inspector-tree-node__attribute"},i.a.createElement("span",{className:"ck-inspector-tree-node__attribute__name",title:t},this.props.name),e)}}class x extends o.Component{render(){return i.a.createElement("span",{className:"ck-inspector-tree__selection"},this.props.isEnd?"]":"[")}}class C extends o.Component{render(){return i.a.createElement("span",null,this.props.text)}}class T extends o.Component{render(){return i.a.createElement("span",{className:"ck-inspector-tree-comment",dangerouslySetInnerHTML:{__html:this.props.item.text}})}}function E(e,t,n){return"string"==typeof e?i.a.createElement(C,{key:t,text:e}):"element"===e.type?i.a.createElement(v,b({key:t,item:e},n)):"text"===e.type?i.a.createElement(_,b({key:t,item:e},n)):"comment"===e.type?i.a.createElement(T,{key:t,item:e}):i.a.createElement(x,{key:t,isEnd:e.isEnd})}n(17);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class S extends o.Component{render(){const e=Array.isArray(this.props.children)?this.props.children:[this.props.children];return i.a.createElement("div",{className:"ck-inspector-navbox"},e.length>1?i.a.createElement("div",{className:"ck-inspector-navbox__navigation"},e[0]):"",i.a.createElement("div",{className:"ck-inspector-navbox__content"},e[e.length-1]))}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class P extends o.Component{render(){return[i.a.createElement("label",{htmlFor:this.props.id,key:"label"},this.props.label,":"),i.a.createElement("select",{id:this.props.id,value:this.props.value,onChange:this.props.onChange,key:"select"},this.props.options.map(e=>i.a.createElement("option",{value:e,key:e},e)))]}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class A extends o.Component{render(){return[i.a.createElement("label",{htmlFor:this.props.id,key:"label"},this.props.label,":"),i.a.createElement("input",{type:"checkbox",id:this.props.id,key:"input",checked:this.props.isChecked,onChange:this.props.onChange})]}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function R(e){return class extends e{constructor(...e){super(...e),this._onEditorEventCallback=()=>{this.forceUpdate()}}componentDidMount(){this.startListeningToEditor()}componentDidUpdate(e){e&&e.editor&&e.editor!==this.props.editor&&this.stopListeningToEditor(e),this.props.editor&&(e&&e.editor&&e.editor===this.props.editor||this.startListeningToEditor())}componentWillUnmount(){this.stopListeningToEditor(this.props)}startListeningToEditor(){const{target:e,event:t}=this.editorEventObserverConfig(this.props);e.on(t,this._onEditorEventCallback),this.forceUpdate()}stopListeningToEditor(e){const{target:t,event:n}=this.editorEventObserverConfig(e);t.off(n,this._onEditorEventCallback)}}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function O(e){return e&&e.is("element")}function N(e){return e&&e.is("rootElement")}function I(e){return e.getPath?e.getPath():e.path}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const M="model-compact-text";class z extends o.Component{constructor(e){super(e),this.state={showCompactText:"true"===p.get(M)},this.handleCompactTextChange=this.handleCompactTextChange.bind(this)}editorEventObserverConfig(e){return{target:e.editor.model.document,event:"change"}}handleCompactTextChange(e){this.setState({showCompactText:e.target.checked},()=>{p.set(M,this.state.showCompactText)})}render(){const e=this.getEditorModelTree();return i.a.createElement(S,null,[i.a.createElement("div",{className:"ck-inspector-tree__config",key:"root-cfg"},i.a.createElement(P,{id:"view-root-select",label:"Root",value:this.props.currentRootName,options:this.props.editorRoots.map(e=>e.rootName),onChange:e=>this.props.onRootChange(e.target.value)})),i.a.createElement("div",{className:"ck-inspector-tree__config",key:"text-cfg"},i.a.createElement(A,{label:"Compact text",id:"model-compact-text",isChecked:this.state.showCompactText,onChange:this.handleCompactTextChange}))],i.a.createElement(w,{items:e,textDirection:this.props.editor.locale.contentLanguageDirection,onClick:this.props.onClick,showCompactText:this.state.showCompactText,activeNode:this.props.currentEditorNode}))}getEditorModelTree(){if(!this.props.currentRootName)return null;const e=this.props.editor,t=e.model.document.getRoot(this.props.currentRootName),n=e.model.document.selection.getFirstRange();return[D(t,n.start,n.end)]}}function D(e,t,n){return O(e)?function(e,t,n){const o={};if(Object.assign(o,{type:"element",name:e.name,children:[],node:e}),e.childCount){let i=!1,r=!1;for(const s of e.getChildren()){const e=D(s,t,n);i||t.textNode||t.nodeAfter!==s||(o.children.push({type:"selection",isEnd:!1}),i=!0),r||n.textNode||n.nodeAfter!==s||(o.children.push({type:"selection",isEnd:!0}),r=!0),o.children.push(e),i||t.textNode||t.nodeBefore!==s||(o.children.push({type:"selection",isEnd:!1}),i=!0),r||n.textNode||n.nodeBefore!==s||(o.children.push({type:"selection",isEnd:!0}),r=!0)}}else t.textNode||t.parent!==e||t.nodeBefore||t.nodeAfter||o.children.push({type:"selection",isEnd:!1}),n.textNode||n.parent!==e||n.nodeBefore||n.nodeAfter||o.children.push({type:"selection",isEnd:!0});return o.attributes=V(e),o}(e,t,n):function(e,t,n){const o={};let i;if(Object.assign(o,{type:"text",children:[e.data],node:e,presentation:{dontRenderAttributeValue:!0}}),t.textNode===e&&(i=t.offset-e.startOffset,o.children=[e.data.slice(0,i),{type:"selection"},e.data.slice(i,e.data.length)]),n.textNode===e){let r=n.offset-e.startOffset;t.textNode===n.textNode&&(r-=i);const s=o.children.pop();o.children.push(s.slice(0,r),{type:"selection",isEnd:!0},s.slice(r,s.length))}return o.children=o.children.filter(e=>e),o.attributes=V(e),o}(e,t,n)}function V(e){const t=[...e.getAttributes()].map(([e,t])=>[e,f(t,!1)]);return new Map(t)}var B=R(z);n(4);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class F extends o.Component{render(){return i.a.createElement("div",{className:["ck-inspector-pane",this.props.splitVertically?"ck-inspector-pane_vsplit":"",this.props.isEmpty?"ck-inspector-pane_empty":""].join(" ")},this.props.children)}}n(20);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class L extends o.Component{constructor(e){super(e),this.handleTabClick=this.handleTabClick.bind(this)}handleTabClick(e){this.setState({activeTab:e},()=>{this.props.onClick(e)})}render(){return i.a.createElement("div",{className:"ck-inspector-horizontal-nav"},this.props.definitions.map(e=>i.a.createElement(j,{key:e,label:e,isActive:this.props.activeTab===e,onClick:()=>this.handleTabClick(e)})))}}class j extends o.Component{render(){return i.a.createElement("button",{className:["ck-inspector-horizontal-nav__item",this.props.isActive?" ck-inspector-horizontal-nav__item_active":""].join(" "),key:this.props.label,onClick:this.props.onClick,type:"button"},this.props.label)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class H extends o.Component{constructor(e){super(e),this.handleTabClick=this.handleTabClick.bind(this)}handleTabClick(e){this.props.onTabChange(e)}render(){const e=Array.isArray(this.props.children)?this.props.children:[this.props.children];return i.a.createElement(S,null,[this.props.contentBefore,i.a.createElement(L,{key:"navigation",definitions:e.map(e=>e.props.label),activeTab:this.props.activeTab,onClick:this.handleTabClick}),this.props.contentAfter],e.filter(e=>e.props.label===this.props.activeTab))}}n(22);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const W="side-pane-width",U={position:"relative"};class q extends o.Component{constructor(e){super(e),this.state={width:p.get(W)||"500px"},this.handleSidePaneResize=this.handleSidePaneResize.bind(this)}get maxSidePaneWidth(){return Math.min(window.innerWidth-400,.8*window.innerWidth)}handleSidePaneResize(e,t,n){this.setState({width:n.style.width},()=>{p.set(W,n.style.width)})}render(){return i.a.createElement("div",{className:"ck-inspector-side-pane"},i.a.createElement(h,{enableResizing:{left:!0},disableDragging:!0,minWidth:200,maxWidth:this.maxSidePaneWidth,style:U,position:{x:"100%",y:"100%"},size:{width:this.state.width,height:"100%"},onResizeStop:this.handleSidePaneResize},this.props.children))}}n(24);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class $ extends o.Component{render(){return i.a.createElement("button",{className:`ck-inspector-button ck-inspector-button_${this.props.type}`,type:"button",onClick:this.props.onClick,title:this.props.text},this.props.text)}}n(26);class G extends o.Component{render(){const e=Math.random().toString(36).substring(7);return i.a.createElement("dl",{className:"ck-inspector-property-list ck-inspector-code"},this.props.items.map(([t,n,o])=>{const r=o&&o.length;n=g(String(n),2e3);const s=[i.a.createElement(K,{key:`${this.props.name}-name`,name:t,listUid:e,canCollapse:r}),i.a.createElement("dd",{key:`${t}-value`},i.a.createElement("input",{id:`${e}-${t}-input`,type:"text",value:n,readOnly:!0}))];return r&&s.push(i.a.createElement(G,{key:`${t}-subProperties`,items:o})),s}))}}class K extends o.Component{constructor(e){super(e),this.state={isCollapsed:!0},this.handleCollapsedChange=this.handleCollapsedChange.bind(this)}handleCollapsedChange(){this.setState({isCollapsed:!this.state.isCollapsed})}render(){const e=["ck-inspector-property-list__title"];return this.props.canCollapse&&(e.push("ck-inspector-property-list__title_collapsible"),e.push("ck-inspector-property-list__title_"+(this.state.isCollapsed?"collapsed":"expanded"))),i.a.createElement("dt",{className:e.join(" ").trim()},!!this.props.canCollapse&&i.a.createElement("button",{type:"button",onClick:this.handleCollapsedChange},"Toggle"),i.a.createElement("label",{htmlFor:`${this.props.listUid}-${this.props.name}-input`},this.props.name),":")}}function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */n(28);class Y extends o.Component{render(){const e=[];for(const t of this.props.lists)t.items.length&&e.push(i.a.createElement("hr",{key:`${t.name}-separator`}),i.a.createElement("h3",{key:`${t.name}-header`},i.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},t.name),t.buttons&&t.buttons.map((e,t)=>i.a.createElement($,J({key:"button"+t},e)))),i.a.createElement(G,{key:`${t.name}-list`,items:t.items}));return i.a.createElement("div",{className:"ck-inspector__object-inspector"},i.a.createElement("h2",{className:"ck-inspector-code"},this.props.header),e)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class Q{static group(...e){console.group(...e)}static groupEnd(...e){console.groupEnd(...e)}static log(...e){console.log(...e)}static warn(...e){console.warn(...e)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class X extends o.Component{editorEventObserverConfig(e){return{target:e.editor.model.document,event:"change"}}render(){const e=this.getInspectedEditorNodeInfo();return e?i.a.createElement(Y,{header:[i.a.createElement("span",{key:"link"},i.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},i.a.createElement("b",null,e.type),":"),"Text"===e.type?i.a.createElement("em",null,e.name):e.name),i.a.createElement($,{key:"log",type:"log",text:"Log in console",onClick:()=>Q.log(e.editorNode)})],lists:[{name:"Attributes",url:e.url,items:e.attributes},{name:"Properties",url:e.url,items:e.properties}]}):i.a.createElement(F,{isEmpty:"true"},i.a.createElement("p",null,"Select a node in the tree to inspect"))}getInspectedEditorNodeInfo(){const e=this.props.inspectedNode,t=this.props.currentRootName;if(!e)return null;if(!N(e)&&!e.parent)return;if(e.root.rootName!==t)return;const n={editorNode:e,properties:[],attributes:[]};O(e)?(N(e)?(n.type="RootElement",n.name=e.rootName,n.url="https://ckeditor.com/docs/ckeditor5/latest/api/module_engine_model_rootelement-RootElement.html"):(n.type="Element",n.name=e.name,n.url="https://ckeditor.com/docs/ckeditor5/latest/api/module_engine_model_element-Element.html"),n.properties.push(["childCount",e.childCount],["startOffset",e.startOffset],["endOffset",e.endOffset],["maxOffset",e.maxOffset])):(n.name=e.data,n.type="Text",n.url="https://ckeditor.com/docs/ckeditor5/latest/api/module_engine_model_text-Text.html",n.properties.push(["startOffset",e.startOffset],["endOffset",e.endOffset],["offsetSize",e.offsetSize])),n.properties.push(["path",I(e)]),n.attributes.push(...e.getAttributes()),n.properties=m(n.properties),n.attributes=m(n.attributes);for(const e of n.attributes){const t=e[0],n=Object.entries(this.props.editor.model.schema.getAttributeProperties(t));e.push(m(n))}return n}}var Z=R(X);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const ee="https://ckeditor.com/docs/ckeditor5/latest/api/module_engine_model_selection-Selection.html";class te extends o.Component{editorEventObserverConfig(e){return{target:e.editor.model.document,event:"change"}}render(){const e=this.getEditorSelectionInfo();return i.a.createElement(Y,{header:[i.a.createElement("span",{key:"link"},i.a.createElement("a",{href:ee,target:"_blank",rel:"noopener noreferrer"},i.a.createElement("b",null,"Selection"))),i.a.createElement($,{key:"log",type:"log",text:"Log in console",onClick:()=>Q.log(this.props.editor.model.document.selection)})],lists:[{name:"Attributes",url:`${ee}#function-getAttributes`,items:e.attributes},{name:"Properties",url:`${ee}`,items:e.properties},{name:"Anchor",url:`${ee}#member-anchor`,buttons:[{type:"log",text:"Log in console",onClick:()=>Q.log(this.props.editor.model.document.selection.anchor)}],items:e.anchor},{name:"Focus",url:`${ee}#member-focus`,buttons:[{type:"log",text:"Log in console",onClick:()=>Q.log(this.props.editor.model.document.selection.focus)}],items:e.focus}]})}getEditorSelectionInfo(){const e=this.props.editor.model.document.selection,t=e.anchor,n=e.focus,o={properties:[["isCollapsed",e.isCollapsed],["isBackward",e.isBackward],["isGravityOverridden",e.isGravityOverridden],["rangeCount",e.rangeCount]],attributes:[...e.getAttributes()],anchor:ne(t),focus:ne(n)};for(const e in o)o[e]=m(o[e]);return o}}function ne(e){return[["path",I(e)],["stickiness",e.stickiness],["index",e.index],["isAtEnd",e.isAtEnd],["isAtStart",e.isAtStart],["offset",e.offset],["textNode",e.textNode&&e.textNode.data]]}var oe=R(te);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const ie="active-model-tab-name";class re extends o.Component{constructor(e){super(e),this.state={editor:null,editorRoots:null,currentRootName:null,currentEditorNode:null,activeTab:p.get(ie)||"Inspect"},this.handleRootChange=this.handleRootChange.bind(this),this.handlePaneChange=this.handlePaneChange.bind(this),this.handleTreeClick=this.handleTreeClick.bind(this)}handleTreeClick(e,t){e.persist(),e.stopPropagation(),this.setState({currentEditorNode:t},()=>{2==e.detail&&this.setState({activeTab:"Inspect"},()=>{p.set(ie,"Inspect")})})}handleRootChange(e){this.setState({currentRootName:e})}handlePaneChange(e){this.setState({activeTab:e},()=>{p.set(ie,e)})}render(){return this.props.editor?i.a.createElement(F,{splitVertically:"true"},i.a.createElement(B,{editor:this.props.editor,editorRoots:this.state.editorRoots,currentEditorNode:this.state.currentEditorNode,currentRootName:this.state.currentRootName,onClick:this.handleTreeClick,onRootChange:this.handleRootChange}),i.a.createElement(q,null,i.a.createElement(H,{onTabChange:this.handlePaneChange,activeTab:this.state.activeTab},i.a.createElement(Z,{label:"Inspect",editor:this.state.editor,currentRootName:this.state.currentRootName,inspectedNode:this.state.currentEditorNode}),i.a.createElement(oe,{label:"Selection",editor:this.state.editor})))):i.a.createElement(F,{isEmpty:"true"},i.a.createElement("p",null,"Nothing to show. Attach another editor instance to start inspecting."))}static getDerivedStateFromProps(e,t){if(e.editor!==t.editor){const t=function(e){if(!e)return null;const t=[...e.model.document.roots];return t.filter(({rootName:e})=>"$graveyard"!==e).concat(t.filter(({rootName:e})=>"$graveyard"===e))}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */(e.editor);return{editor:e.editor,editorRoots:t,currentRootName:t?t[0].rootName:null,currentEditorNode:null}}return null}}function se(e){return e&&e.name}function ae(e){return e&&se(e)&&e.is("attributeElement")}function le(e){return e&&se(e)&&e.is("emptyElement")}function ce(e){return e&&se(e)&&e.is("uiElement")}function ue(e){return e&&e.is("rootElement")}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const de="view-element-types";class he extends o.Component{constructor(e){super(e),this.state={showTypes:"true"===p.get(de)},this.handleShowTypesChange=this.handleShowTypesChange.bind(this)}editorEventObserverConfig(e){return{target:e.editor.editing.view,event:"render"}}handleShowTypesChange(e){this.setState({showTypes:e.target.checked},()=>{p.set(de,this.state.showTypes)})}render(){const e=this.getEditorViewTree();return i.a.createElement(S,null,[i.a.createElement("div",{className:"ck-inspector-tree__config",key:"root-cfg"},i.a.createElement(P,{id:"view-root-select",label:"Root",value:this.props.currentRootName,options:this.props.editorRoots.map(e=>e.rootName),onChange:e=>this.props.onRootChange(e.target.value)})),i.a.createElement("div",{className:"ck-inspector-tree__config",key:"types-cfg"},i.a.createElement(A,{label:"Show element types",id:"view-show-types",isChecked:this.state.showTypes,onChange:this.handleShowTypesChange}))],i.a.createElement(w,{items:e,textDirection:this.props.editor.locale.contentLanguageDirection,onClick:this.props.onClick,showCompactText:"true",activeNode:this.props.currentEditorNode}))}getEditorViewTree(){if(!this.props.currentRootName)return;const e=this.props.editor.editing.view.document,t=e.getRoot(this.props.currentRootName),n=e.selection.getFirstRange();return[pe(t,n.start,n.end,this.state.showTypes)]}}function pe(e,t,n,o){return se(e)?function(e,t,n,o){const i={};if(Object.assign(i,{type:"element",children:[],node:e}),o?ae(e)?i.name="attribute:"+e.name:ue(e)?i.name="root:"+e.name:le(e)?i.name="empty:"+e.name:ce(e)?i.name="ui:"+e.name:i.name="container:"+e.name:i.name=e.name,le(e)&&(i.presentation={isEmpty:!0}),ce(e)&&i.children.push({type:"comment",text:["&lt;!--","The View UI element content has been skipped. ",'<a href="https://ckeditor.com/docs/ckeditor5/latest/api/module_engine_view_uielement-UIElement.html" target="_blank">',"Find out why","</a>."," --&gt;"].join("")}),e.childCount){let r=!1,s=!1;for(const a of e.getChildren()){const e=pe(a,t,n,o);r||t.nodeAfter!==a||(i.children.push({type:"selection",isEnd:!1}),r=!0),s||n.nodeAfter!==a||(i.children.push({type:"selection",isEnd:!0}),s=!0),i.children.push(e),r||t.nodeBefore!==a||(i.children.push({type:"selection",isEnd:!1}),r=!0),s||n.nodeBefore!==a||(i.children.push({type:"selection",isEnd:!0}),s=!0)}}else t.parent!==e||t.nodeBefore||t.nodeAfter||i.children.push({type:"selection",isEnd:!1}),n.parent!==e||n.nodeBefore||n.nodeAfter||i.children.push({type:"selection",isEnd:!0});return i.attributes=function(e){const t=[...e.getAttributes()].map(([e,t])=>[e,f(t,!1)]);return new Map(t)}(e),i}(e,t,n,o):function(e,t,n){const o={};let i;if(Object.assign(o,{type:"text",children:[e.data],node:e}),t.parent===e&&(i=t.offset,o.children=[e.data.slice(0,i),{type:"selection"},e.data.slice(i,e.data.length)]),n.parent===e){let e=n.offset;t.parent===n.parent&&(e-=i);const r=o.children.pop();o.children.push(r.slice(0,e),{type:"selection",isEnd:!0},r.slice(e,r.length))}return o.children=o.children.filter(e=>e),o}(e,t,n)}var fe=R(he);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const me="https://ckeditor.com/docs/ckeditor5/latest/api/module_engine_view";class ge extends o.Component{editorEventObserverConfig(e){return{target:e.editor.editing.view,event:"render"}}render(){const e=this.getInspectedEditorNodeInfo();return e?i.a.createElement(Y,{header:[i.a.createElement("span",{key:"link"},i.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},i.a.createElement("b",null,e.type),":"),"Text"===e.type?i.a.createElement("em",null,e.name):e.name),i.a.createElement($,{key:"log",type:"log",text:"Log in console",onClick:()=>Q.log(e.editorNode)})],lists:[{name:"Attributes",url:e.url,items:e.attributes},{name:"Properties",url:e.url,items:e.properties},{name:"Custom Properties",url:`${me}_element-Element.html#function-getCustomProperty`,items:e.customProperties}]}):i.a.createElement(F,{isEmpty:"true"},i.a.createElement("p",null,"Select a node in the tree to inspect"))}getInspectedEditorNodeInfo(){const e=this.props.inspectedNode,t=this.props.currentRootName;if(!e)return null;if(!ue(e)&&!e.parent)return;if(e.root.rootName!==t)return;const n={editorNode:e,properties:[],attributes:[],customProperties:[]};return se(e)?(ue(e)?(n.type="RootEditableElement",n.name=e.rootName,n.url=`${me}_rooteditableelement-RootEditableElement.html`):(n.name=e.name,ae(e)?(n.type="AttributeElement",n.url=`${me}_attributeelement-AttributeElement.html`):le(e)?(n.type="EmptyElement",n.url=`${me}_emptyelement-EmptyElement.html`):ce(e)?(n.type="UIElement",n.url=`${me}_uielement-UIElement.html`):function(e){return e&&se(e)&&e.is("editableElement")}(e)?(n.type="EditableElement",n.url=`${me}_editableelement-EditableElement.html`):(n.type="ContainerElement",n.url=`${me}_containerelement-ContainerElement.html`)),n.attributes.push(...e.getAttributes()),n.properties.push(["index",e.index],["isEmpty",e.isEmpty],["childCount",e.childCount]),n.customProperties.push(...e.getCustomProperties())):(n.name=e.data,n.type="Text",n.url=`${me}_text-Text.html`,n.properties.push(["index",e.index])),n.properties=m(n.properties),n.customProperties=m(n.customProperties),n.attributes=m(n.attributes),n}}var be=R(ge);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const we="https://ckeditor.com/docs/ckeditor5/latest/api/module_engine_view_selection-Selection.html";class ke extends o.Component{editorEventObserverConfig(e){return{target:e.editor.editing.view,event:"render"}}render(){const e=this.getEditorSelectionInfo();return i.a.createElement(Y,{header:[i.a.createElement("span",{key:"link"},i.a.createElement("a",{href:we,target:"_blank",rel:"noopener noreferrer"},i.a.createElement("b",null,"Selection"))),i.a.createElement($,{key:"log",type:"log",text:"Log in console",onClick:()=>Q.log(this.props.editor.editing.view.document.selection)})],lists:[{name:"Properties",url:`${we}`,items:e.properties},{name:"Anchor",url:`${we}#member-anchor`,buttons:[{type:"log",text:"Log in console",onClick:()=>Q.log(this.props.editor.editing.view.document.selection.anchor)}],items:e.anchor},{name:"Focus",url:`${we}#member-focus`,buttons:[{type:"log",text:"Log in console",onClick:()=>Q.log(this.props.editor.editing.view.document.selection.focus)}],items:e.focus}]})}getEditorSelectionInfo(){const e=this.props.editor.editing.view.document.selection,t={properties:[["isCollapsed",e.isCollapsed],["isBackward",e.isBackward],["isFake",e.isFake],["rangeCount",e.rangeCount]],anchor:ve(e.anchor),focus:ve(e.focus)};for(const e in t)t[e]=m(t[e]);return t}}function ve(e){return[["offset",e.offset],["isAtEnd",e.isAtEnd],["isAtStart",e.isAtStart],["parent",(t=e.parent,se(t)?ae(t)?"attribute:"+t.name:ue(t)?"root:"+t.name:"container:"+t.name:t.data)]];var t}var _e=R(ke);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const ye="active-view-tab-name";class xe extends o.Component{constructor(e){super(e),this.state={editor:null,currentEditorNode:null,editorRoots:null,currentRootName:null,activeTab:p.get(ye)||"Inspect"},this.handleTreeClick=this.handleTreeClick.bind(this),this.handlePaneChange=this.handlePaneChange.bind(this),this.handleRootChange=this.handleRootChange.bind(this)}handleTreeClick(e,t){e.persist(),e.stopPropagation(),this.setState({currentEditorNode:t},()=>{2==e.detail&&this.setState({activeTab:"Inspect"},()=>{p.set(ye,"Inspect")})})}handleRootChange(e){this.setState({currentRootName:e})}handlePaneChange(e){this.setState({activeTab:e},()=>{p.set(ye,e)})}render(){return this.props.editor?i.a.createElement(F,{splitVertically:"true"},i.a.createElement(fe,{currentEditorNode:this.state.currentEditorNode,currentRootName:this.state.currentRootName,editor:this.props.editor,editorRoots:this.state.editorRoots,onClick:this.handleTreeClick,onRootChange:this.handleRootChange}),i.a.createElement(q,null,i.a.createElement(H,{onTabChange:this.handlePaneChange,activeTab:this.state.activeTab},i.a.createElement(be,{label:"Inspect",editor:this.state.editor,currentRootName:this.state.currentRootName,inspectedNode:this.state.currentEditorNode}),i.a.createElement(_e,{label:"Selection",editor:this.state.editor})))):i.a.createElement(F,{isEmpty:"true"},i.a.createElement("p",null,"Nothing to show. Attach another editor instance to start inspecting."))}static getDerivedStateFromProps(e,t){const n=function(e){return e?[...e.editing.view.document.roots]:null}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */(e.editor);return e.editor!==t.editor?{editor:e.editor,editorRoots:n,currentRootName:n?n[0].rootName:null,currentEditorNode:null}:null}}class Ce extends o.Component{editorEventObserverConfig(e){return{target:e.editor.model.document,event:"change"}}render(){return i.a.createElement(S,null,i.a.createElement(w,{items:this.getCommandStates(),onClick:this.props.onClick,activeNode:this.props.currentCommandName}))}getCommandStates(){const e=this.props.editor,t=[];for(const[n,o]of e.commands){const e=[];void 0!==o.value&&e.push(["value",f(o.value,!1)]),t.push({name:n,type:"element",children:[],node:n,attributes:e,presentation:{isEmpty:!0,cssClass:["ck-inspector-tree-node_tagless",o.isEnabled?"":"ck-inspector-tree-node_disabled"].join(" ")}})}return t.sort((e,t)=>e.name>t.name?1:-1)}}var Te=R(Ce);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class Ee extends o.Component{editorEventObserverConfig(e){return{target:e.editor.model.document,event:"change"}}render(){const e=this.getEditorCommandInfo();return e?i.a.createElement(Y,{header:[i.a.createElement("span",{key:"link"},i.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},i.a.createElement("b",null,e.type)),":",e.name),i.a.createElement($,{key:"exec",type:"exec",text:"Execute command",onClick:()=>this.props.editor.execute(e.name)}),i.a.createElement($,{key:"log",type:"log",text:"Log in console",onClick:()=>Q.log(e.command)})],lists:[{name:"Properties",url:e.url,items:e.properties}]}):i.a.createElement(F,{isEmpty:"true"},i.a.createElement("p",null,"Select a command to inspect"))}getEditorCommandInfo(){const e=this.props.editor,t=this.props.inspectedCommandName;if(!t)return null;const n=e.commands.get(t);return{name:t,type:"Command",url:"https://ckeditor.com/docs/ckeditor5/latest/api/module_core_command-Command.html",properties:m([["isEnabled",n.isEnabled],["value",n.value]]),command:n}}}var Se=R(Ee);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class Pe extends o.Component{constructor(e){super(e),this.state={editor:null,currentCommandName:null},this.handleTreeClick=this.handleTreeClick.bind(this)}handleTreeClick(e,t){e.persist(),e.stopPropagation(),this.setState({currentCommandName:t})}render(){return this.props.editor?i.a.createElement(F,{splitVertically:"true"},i.a.createElement(Te,{editor:this.props.editor,currentCommandName:this.state.currentCommandName,onClick:this.handleTreeClick}),i.a.createElement(q,null,i.a.createElement(H,{activeTab:"Inspect"},i.a.createElement(Se,{label:"Inspect",editor:this.props.editor,inspectedCommandName:this.state.currentCommandName})))):i.a.createElement(F,{isEmpty:"true"},i.a.createElement("p",null,"Nothing to show. Attach another editor instance to start inspecting."))}static getDerivedStateFromProps(e,t){return e.editor!==t.editor?{editor:e.editor,currentCommandName:null}:null}}n(30);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const Ae="active-tab-name",Re="is-collapsed",Oe={position:"fixed",bottom:"0",left:"0",right:"0",top:"auto"};class Ne extends o.Component{constructor(e){super(e);const t=p.get("height")||"400px",n=!0===this.props.isCollapsed||"true"===p.get(Re);this.state={isCollapsed:n,height:t,editors:null,currentEditorName:null,activeTab:p.get(Ae)||"Model"},De(t),this.handlePaneChange=this.handlePaneChange.bind(this),this.handleEditorChange=this.handleEditorChange.bind(this),this.handleToggleCollapseClick=this.handleToggleCollapseClick.bind(this),this.handleInspectorResize=this.handleInspectorResize.bind(this)}handlePaneChange(e){this.setState({activeTab:e},()=>{p.set(Ae,e)})}handleEditorChange(e){this.setState({currentEditorName:e})}handleToggleCollapseClick(){this.setState({isCollapsed:!this.state.isCollapsed},()=>{p.set(Re,this.state.isCollapsed)})}handleInspectorResize(e,t,n){this.setState({height:n.style.height},()=>{const e=n.style.height;p.set("height",e),De(e)})}render(){this.state.isCollapsed?(document.body.classList.remove("ck-inspector-body-expanded"),document.body.classList.add("ck-inspector-body-collapsed")):(document.body.classList.remove("ck-inspector-body-collapsed"),document.body.classList.add("ck-inspector-body-expanded"));const e=this.state.editors.get(this.state.currentEditorName);return i.a.createElement(h,{bounds:"window",enableResizing:{top:!this.state.isCollapsed},disableDragging:!0,minHeight:"100",maxHeight:"100%",style:Oe,className:["ck-inspector",this.state.isCollapsed?"ck-inspector_collapsed":""].join(" "),position:{x:0,y:"100%"},size:{width:"100%",height:this.state.isCollapsed?30:this.state.height},onResizeStop:this.handleInspectorResize},i.a.createElement(H,{onTabChange:this.handlePaneChange,contentBefore:i.a.createElement(Ie,{key:"docs"}),activeTab:this.state.activeTab,contentAfter:[i.a.createElement(ze,{key:"selector",currentEditorName:this.state.currentEditorName,editors:this.state.editors,onChange:e=>this.handleEditorChange(e.target.value)}),i.a.createElement(Me,{key:"inspector-toggle",onClick:this.handleToggleCollapseClick,isUp:this.state.isCollapsed})]},i.a.createElement(re,{label:"Model",editor:e}),i.a.createElement(xe,{label:"View",editor:e}),i.a.createElement(Pe,{label:"Commands",editor:e})))}componentWillUnmount(){document.body.classList.remove("ck-inspector-body-expanded"),document.body.classList.remove("ck-inspector-body-collapsed")}static getDerivedStateFromProps(e,t){return e.editors.has(t.currentEditorName)?null:{editors:e.editors,currentEditorName:e.editors.size?[...e.editors][0][0]:""}}}class Ie extends o.Component{render(){return i.a.createElement("a",{className:"ck-inspector-navbox__navigation__logo",title:"Go to the documentation",href:"https://ckeditor.com/docs/ckeditor5/latest/",target:"_blank",rel:"noopener noreferrer"},"CKEditor documentation")}}class Me extends o.Component{render(){return i.a.createElement("button",{type:"button",onClick:this.props.onClick,title:"Toggle inspector",className:["ck-inspector-navbox__navigation__toggle",this.props.isUp?" ck-inspector-navbox__navigation__toggle_up":""].join(" ")},"Toggle inspector")}}class ze extends o.Component{render(){return i.a.createElement("div",{className:"ck-inspector-editor-selector",key:"editor-selector"},this.props.currentEditorName?i.a.createElement(P,{id:"inspector-editor-selector",label:"Editor instance",value:this.props.currentEditorName,options:[...this.props.editors].map(([e])=>e),onChange:this.props.onChange}):"")}}function De(e){document.body.style.setProperty("--ck-inspector-height",e)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */let Ve=0;n(32),n.d(t,"default",(function(){return Be})),
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
window.CKEDITOR_INSPECTOR_VERSION="1.5.0";class Be{constructor(){Q.warn("[CKEditorInspector] Whoops! Looks like you tried to create an instance of the CKEditorInspector class. To attach the inspector, use the static CKEditorInspector.attach( editor ) method instead. For the latest API, please refer to https://github.com/ckeditor/ckeditor5-inspector/blob/master/README.md. ")}static attach(...e){const{editors:t,options:n}=function(e){const t={editors:{},options:{}};if("string"==typeof e[0])Q.warn(`[CKEditorInspector] The CKEditorInspector.attach( '${e[0]}', editor ) syntax has been deprecated `+"and will be removed in the near future. To pass a name of an editor instance, use "+`CKEditorInspector.attach( { '${e[0]}': editor } ) instead. `+"Learn more in https://github.com/ckeditor/ckeditor5-inspector/blob/master/README.md."),t.editors[e[0]]=e[1];else{if((n=e[0]).model&&n.editing)t.editors[`editor-${++Ve}`]=e[0];else for(const n in e[0])t.editors[n]=e[0][n];t.options=e[1]||t.options}var n;return t}(e);for(const e in t){const o=t[e];Q.group("%cAttached the inspector to a CKEditor 5 instance. To learn more, visit https://ckeditor.com/docs/ckeditor5.","font-weight: bold;"),Q.log(`Editor instance "${e}"`,o),Q.groupEnd(),Be._editors.set(e,o),o.on("destroy",()=>{Be.detach(e)}),Be._mount(n),Be._updateEditorsState()}return Object.keys(t)}static attachToAll(e){const t=document.querySelectorAll(".ck.ck-content.ck-editor__editable"),n=[];for(const o of t){const t=o.ckeditorInstance;t&&!Be._isAttachedTo(t)&&n.push(...Be.attach(t,e))}return n}static detach(e){Be._editors.delete(e),Be._updateEditorsState()}static destroy(){Be._wrapper&&(s.a.unmountComponentAtNode(Be._wrapper),Be._editors.clear(),Be._wrapper.remove(),Be._wrapper=null)}static _updateEditorsState(){Be._isMounted&&Be._inspectorRef.current.setState({editors:Be._editors})}static _mount(e){if(Be._wrapper)return;const t=Be._wrapper=document.createElement("div");t.className="ck-inspector-wrapper",document.body.appendChild(t),s.a.render(i.a.createElement(Ne,{ref:Be._inspectorRef,editors:Be._editors,isCollapsed:e.isCollapsed}),t)}static get _isMounted(){return!!Be._inspectorRef.current}static _isAttachedTo(e){return[...Be._editors.values()].includes(e)}}Be._editors=new Map,Be._inspectorRef=i.a.createRef(),Be._wrapper=null}]).default},function(e,t,n){var o=n(1),i=n(45);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"},function(e,t,n){var o=n(1),i=n(47);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}"},function(e,t,n){var o=n(1),i=n(49);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck .ck-button.ck-color-table__remove-color{display:flex;align-items:center;width:100%}label.ck.ck-color-grid__label{font-weight:unset}.ck .ck-button.ck-color-table__remove-color{padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck .ck-button.ck-color-table__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-base-border)}[dir=ltr] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard)}"},function(e,t,n){var o=n(1),i=n(51);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".text-tiny{font-size:.7em}.text-small{font-size:.85em}.text-big{font-size:1.4em}.text-huge{font-size:1.8em}"},function(e,t){e.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(e,t,n){var o=n(1),i=n(54);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-radius:0}.ck-rounded-corners [dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow,[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-left-color:var(--ck-color-split-button-hover-border)}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-right-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}"},function(e,t,n){var o=n(1),i=n(56);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=":root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#63f963;--ck-highlight-marker-pink:#fc7999;--ck-highlight-marker-blue:#72cdfd;--ck-highlight-pen-red:#e91313;--ck-highlight-pen-green:#180}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{color:var(--ck-highlight-pen-red);background-color:transparent}.ck-content .pen-green{color:var(--ck-highlight-pen-green);background-color:transparent}"},function(e,t,n){var o=n(1),i=n(58);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck-editor__editable .ck-horizontal-line{overflow:hidden}.ck-content hr{border:solid #5e5e5e;border-width:1px 0 0;margin:0}.ck-editor__editable .ck-horizontal-line{padding:5px 0}"},function(e,t,n){var o=n(1),i=n(60);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-read-only .ck-widget{--ck-widget-outline-thickness:0}"},function(e,t,n){var o=n(1),i=n(62);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-labeled-input .ck-labeled-input__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-input .ck-labeled-input__status_error{color:var(--ck-color-base-error)}"},function(e,t,n){var o=n(1),i=n(64);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(e,t,n){var o=n(1),i=n(66);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-input{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-input{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(e,t,n){var o=n(1),i=n(68);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}'},function(e,t,n){var o=n(1),i=n(70);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(e,t,n){var o=n(1),i=n(72);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(e,t,n){var o=n(1),i=n(74);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image>img{display:block;margin:0 auto;max-width:100%;min-width:50px}"},function(e,t,n){var o=n(1),i=n(76);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(e,t,n){var o=n(1),i=n(78);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(e,t,n){var o=n(1),i=n(80);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(e,t,n){var o=n(1),i=n(82);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}"},function(e,t,n){var o=n(1),i=n(84);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-input{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"},function(e,t,n){var o=n(1),i=n(86);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(e,t,n){var o=n(1),i=n(88);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports='.ck-content .page-break{position:relative;clear:both;padding:5px 0;display:flex;align-items:center;justify-content:center}.ck-content .page-break:after{content:"";position:absolute;border-bottom:2px dashed #c4c4c4;width:100%}.ck-content .page-break__label{position:relative;z-index:1;padding:.3em .6em;display:block;text-transform:uppercase;border:1px solid #c4c4c4;border-radius:2px;font-family:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;font-size:.75em;font-weight:700;color:#333;background:#fff;box-shadow:2px 2px 1px rgba(0,0,0,.15);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media print{.ck-content .page-break{padding:0}.ck-content .page-break:after{display:none}}'},function(e,t,n){var o=n(1),i=n(90);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=":root{--ck-color-table-focused-cell-background:#f5fafe}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(e,t,n){var o=n(1),i=n(92);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"},function(e,t,n){var o=n(1),i=n(94);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border-color:#d9d9d9}.ck-content .table table th{font-weight:700;background:#fafafa}"},function(e,t,n){var o=n(1),i=n(96);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;position:absolute;pointer-events:none;left:0;top:0;outline:1px solid var(--ck-color-resizer)}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{position:absolute;pointer-events:all;width:var(--ck-resizer-size);height:var(--ck-resizer-size);background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{top:var(--ck-resizer-offset);left:var(--ck-resizer-offset);cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{top:var(--ck-resizer-offset);right:var(--ck-resizer-offset);cursor:nesw-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset);cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset);cursor:nesw-resize}"},function(e,t,n){var o=n(1),i=n(98);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0},s=(o(e.i,i,r),i.locals?i.locals:{});e.exports=s},function(e,t){e.exports=".ck-content .image.image_resized{max-width:100%;display:block;box-sizing:border-box}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}"},function(e,t,n){"use strict";n.r(t);var o=n(3),i=o.a.Symbol,r=Object.prototype,s=r.hasOwnProperty,a=r.toString,l=i?i.toStringTag:void 0;var c=function(e){var t=s.call(e,l),n=e[l];try{e[l]=void 0;var o=!0}catch(e){}var i=a.call(e);return o&&(t?e[l]=n:delete e[l]),i},u=Object.prototype.toString;var d=function(e){return u.call(e)},h=i?i.toStringTag:void 0;var p=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":h&&h in Object(e)?c(e):d(e)};var f=function(e,t){return function(n){return e(t(n))}},m=f(Object.getPrototypeOf,Object);var g=function(e){return null!=e&&"object"==typeof e},b=Function.prototype,w=Object.prototype,k=b.toString,v=w.hasOwnProperty,_=k.call(Object);var y=function(e){if(!g(e)||"[object Object]"!=p(e))return!1;var t=m(e);if(null===t)return!0;var n=v.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&k.call(n)==_};var x=function(){this.__data__=[],this.size=0};var C=function(e,t){return e===t||e!=e&&t!=t};var T=function(e,t){for(var n=e.length;n--;)if(C(e[n][0],t))return n;return-1},E=Array.prototype.splice;var S=function(e){var t=this.__data__,n=T(t,e);return!(n<0)&&(n==t.length-1?t.pop():E.call(t,n,1),--this.size,!0)};var P=function(e){var t=this.__data__,n=T(t,e);return n<0?void 0:t[n][1]};var A=function(e){return T(this.__data__,e)>-1};var R=function(e,t){var n=this.__data__,o=T(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this};function O(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}O.prototype.clear=x,O.prototype.delete=S,O.prototype.get=P,O.prototype.has=A,O.prototype.set=R;var N=O;var I=function(){this.__data__=new N,this.size=0};var M=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var z=function(e){return this.__data__.get(e)};var D=function(e){return this.__data__.has(e)};var V=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var B,F=function(e){if(!V(e))return!1;var t=p(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},L=o.a["__core-js_shared__"],j=(B=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"";var H=function(e){return!!j&&j in e},W=Function.prototype.toString;var U=function(e){if(null!=e){try{return W.call(e)}catch(e){}try{return e+""}catch(e){}}return""},q=/^\[object .+?Constructor\]$/,G=Function.prototype,K=Object.prototype,J=G.toString,Y=K.hasOwnProperty,Q=RegExp("^"+J.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var X=function(e){return!(!V(e)||H(e))&&(F(e)?Q:q).test(U(e))};var Z=function(e,t){return null==e?void 0:e[t]};var ee=function(e,t){var n=Z(e,t);return X(n)?n:void 0},te=ee(o.a,"Map"),ne=ee(Object,"create");var oe=function(){this.__data__=ne?ne(null):{},this.size=0};var ie=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},re=Object.prototype.hasOwnProperty;var se=function(e){var t=this.__data__;if(ne){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return re.call(t,e)?t[e]:void 0},ae=Object.prototype.hasOwnProperty;var le=function(e){var t=this.__data__;return ne?void 0!==t[e]:ae.call(t,e)};var ce=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ne&&void 0===t?"__lodash_hash_undefined__":t,this};function ue(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}ue.prototype.clear=oe,ue.prototype.delete=ie,ue.prototype.get=se,ue.prototype.has=le,ue.prototype.set=ce;var de=ue;var he=function(){this.size=0,this.__data__={hash:new de,map:new(te||N),string:new de}};var pe=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var fe=function(e,t){var n=e.__data__;return pe(t)?n["string"==typeof t?"string":"hash"]:n.map};var me=function(e){var t=fe(this,e).delete(e);return this.size-=t?1:0,t};var ge=function(e){return fe(this,e).get(e)};var be=function(e){return fe(this,e).has(e)};var we=function(e,t){var n=fe(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this};function ke(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}ke.prototype.clear=he,ke.prototype.delete=me,ke.prototype.get=ge,ke.prototype.has=be,ke.prototype.set=we;var ve=ke;var _e=function(e,t){var n=this.__data__;if(n instanceof N){var o=n.__data__;if(!te||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new ve(o)}return n.set(e,t),this.size=n.size,this};function ye(e){var t=this.__data__=new N(e);this.size=t.size}ye.prototype.clear=I,ye.prototype.delete=M,ye.prototype.get=z,ye.prototype.has=D,ye.prototype.set=_e;var xe=ye;var Ce=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e},Te=function(){try{var e=ee(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var Ee=function(e,t,n){"__proto__"==t&&Te?Te(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Se=Object.prototype.hasOwnProperty;var Pe=function(e,t,n){var o=e[t];Se.call(e,t)&&C(o,n)&&(void 0!==n||t in e)||Ee(e,t,n)};var Ae=function(e,t,n,o){var i=!n;n||(n={});for(var r=-1,s=t.length;++r<s;){var a=t[r],l=o?o(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),i?Ee(n,a,l):Pe(n,a,l)}return n};var Re=function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o};var Oe=function(e){return g(e)&&"[object Arguments]"==p(e)},Ne=Object.prototype,Ie=Ne.hasOwnProperty,Me=Ne.propertyIsEnumerable,ze=Oe(function(){return arguments}())?Oe:function(e){return g(e)&&Ie.call(e,"callee")&&!Me.call(e,"callee")},De=Array.isArray,Ve=n(5),Be=/^(?:0|[1-9]\d*)$/;var Fe=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Be.test(e))&&e>-1&&e%1==0&&e<t};var Le=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},je={};je["[object Float32Array]"]=je["[object Float64Array]"]=je["[object Int8Array]"]=je["[object Int16Array]"]=je["[object Int32Array]"]=je["[object Uint8Array]"]=je["[object Uint8ClampedArray]"]=je["[object Uint16Array]"]=je["[object Uint32Array]"]=!0,je["[object Arguments]"]=je["[object Array]"]=je["[object ArrayBuffer]"]=je["[object Boolean]"]=je["[object DataView]"]=je["[object Date]"]=je["[object Error]"]=je["[object Function]"]=je["[object Map]"]=je["[object Number]"]=je["[object Object]"]=je["[object RegExp]"]=je["[object Set]"]=je["[object String]"]=je["[object WeakMap]"]=!1;var He=function(e){return g(e)&&Le(e.length)&&!!je[p(e)]};var We=function(e){return function(t){return e(t)}},Ue=n(4),qe=Ue.a&&Ue.a.isTypedArray,$e=qe?We(qe):He,Ge=Object.prototype.hasOwnProperty;var Ke=function(e,t){var n=De(e),o=!n&&ze(e),i=!n&&!o&&Object(Ve.a)(e),r=!n&&!o&&!i&&$e(e),s=n||o||i||r,a=s?Re(e.length,String):[],l=a.length;for(var c in e)!t&&!Ge.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Fe(c,l))||a.push(c);return a},Je=Object.prototype;var Ye=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Je)},Qe=f(Object.keys,Object),Xe=Object.prototype.hasOwnProperty;var Ze=function(e){if(!Ye(e))return Qe(e);var t=[];for(var n in Object(e))Xe.call(e,n)&&"constructor"!=n&&t.push(n);return t};var et=function(e){return null!=e&&Le(e.length)&&!F(e)};var tt=function(e){return et(e)?Ke(e):Ze(e)};var nt=function(e,t){return e&&Ae(t,tt(t),e)};var ot=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},it=Object.prototype.hasOwnProperty;var rt=function(e){if(!V(e))return ot(e);var t=Ye(e),n=[];for(var o in e)("constructor"!=o||!t&&it.call(e,o))&&n.push(o);return n};var st=function(e){return et(e)?Ke(e,!0):rt(e)};var at=function(e,t){return e&&Ae(t,st(t),e)},lt=n(12);var ct=function(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t};var ut=function(e,t){for(var n=-1,o=null==e?0:e.length,i=0,r=[];++n<o;){var s=e[n];t(s,n,e)&&(r[i++]=s)}return r};var dt=function(){return[]},ht=Object.prototype.propertyIsEnumerable,pt=Object.getOwnPropertySymbols,ft=pt?function(e){return null==e?[]:(e=Object(e),ut(pt(e),(function(t){return ht.call(e,t)})))}:dt;var mt=function(e,t){return Ae(e,ft(e),t)};var gt=function(e,t){for(var n=-1,o=t.length,i=e.length;++n<o;)e[i+n]=t[n];return e},bt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)gt(t,ft(e)),e=m(e);return t}:dt;var wt=function(e,t){return Ae(e,bt(e),t)};var kt=function(e,t,n){var o=t(e);return De(e)?o:gt(o,n(e))};var vt=function(e){return kt(e,tt,ft)};var _t=function(e){return kt(e,st,bt)},yt=ee(o.a,"DataView"),xt=ee(o.a,"Promise"),Ct=ee(o.a,"Set"),Tt=ee(o.a,"WeakMap"),Et=U(yt),St=U(te),Pt=U(xt),At=U(Ct),Rt=U(Tt),Ot=p;(yt&&"[object DataView]"!=Ot(new yt(new ArrayBuffer(1)))||te&&"[object Map]"!=Ot(new te)||xt&&"[object Promise]"!=Ot(xt.resolve())||Ct&&"[object Set]"!=Ot(new Ct)||Tt&&"[object WeakMap]"!=Ot(new Tt))&&(Ot=function(e){var t=p(e),n="[object Object]"==t?e.constructor:void 0,o=n?U(n):"";if(o)switch(o){case Et:return"[object DataView]";case St:return"[object Map]";case Pt:return"[object Promise]";case At:return"[object Set]";case Rt:return"[object WeakMap]"}return t});var Nt=Ot,It=Object.prototype.hasOwnProperty;var Mt=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&It.call(e,"index")&&(n.index=e.index,n.input=e.input),n},zt=o.a.Uint8Array;var Dt=function(e){var t=new e.constructor(e.byteLength);return new zt(t).set(new zt(e)),t};var Vt=function(e,t){var n=t?Dt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Bt=/\w*$/;var Ft=function(e){var t=new e.constructor(e.source,Bt.exec(e));return t.lastIndex=e.lastIndex,t},Lt=i?i.prototype:void 0,jt=Lt?Lt.valueOf:void 0;var Ht=function(e){return jt?Object(jt.call(e)):{}};var Wt=function(e,t){var n=t?Dt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Ut=function(e,t,n){var o=e.constructor;switch(t){case"[object ArrayBuffer]":return Dt(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return Vt(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Wt(e,n);case"[object Map]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return Ft(e);case"[object Set]":return new o;case"[object Symbol]":return Ht(e)}},qt=Object.create,$t=function(){function e(){}return function(t){if(!V(t))return{};if(qt)return qt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Gt=function(e){return"function"!=typeof e.constructor||Ye(e)?{}:$t(m(e))};var Kt=function(e){return g(e)&&"[object Map]"==Nt(e)},Jt=Ue.a&&Ue.a.isMap,Yt=Jt?We(Jt):Kt;var Qt=function(e){return g(e)&&"[object Set]"==Nt(e)},Xt=Ue.a&&Ue.a.isSet,Zt=Xt?We(Xt):Qt,en={};en["[object Arguments]"]=en["[object Array]"]=en["[object ArrayBuffer]"]=en["[object DataView]"]=en["[object Boolean]"]=en["[object Date]"]=en["[object Float32Array]"]=en["[object Float64Array]"]=en["[object Int8Array]"]=en["[object Int16Array]"]=en["[object Int32Array]"]=en["[object Map]"]=en["[object Number]"]=en["[object Object]"]=en["[object RegExp]"]=en["[object Set]"]=en["[object String]"]=en["[object Symbol]"]=en["[object Uint8Array]"]=en["[object Uint8ClampedArray]"]=en["[object Uint16Array]"]=en["[object Uint32Array]"]=!0,en["[object Error]"]=en["[object Function]"]=en["[object WeakMap]"]=!1;var tn=function e(t,n,o,i,r,s){var a,l=1&n,c=2&n,u=4&n;if(o&&(a=r?o(t,i,r,s):o(t)),void 0!==a)return a;if(!V(t))return t;var d=De(t);if(d){if(a=Mt(t),!l)return ct(t,a)}else{var h=Nt(t),p="[object Function]"==h||"[object GeneratorFunction]"==h;if(Object(Ve.a)(t))return Object(lt.a)(t,l);if("[object Object]"==h||"[object Arguments]"==h||p&&!r){if(a=c||p?{}:Gt(t),!l)return c?wt(t,at(a,t)):mt(t,nt(a,t))}else{if(!en[h])return r?t:{};a=Ut(t,h,l)}}s||(s=new xe);var f=s.get(t);if(f)return f;s.set(t,a),Zt(t)?t.forEach((function(i){a.add(e(i,n,o,i,t,s))})):Yt(t)&&t.forEach((function(i,r){a.set(r,e(i,n,o,r,t,s))}));var m=u?c?_t:vt:c?keysIn:tt,g=d?void 0:m(t);return Ce(g||t,(function(i,r){g&&(i=t[r=i]),Pe(a,r,e(i,n,o,r,t,s))})),a};var nn=function(e,t){return tn(e,5,t="function"==typeof t?t:void 0)};var on=function(e){return g(e)&&1===e.nodeType&&!y(e)};
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rn{constructor(e,t){this._config={},t&&this.define(t),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}_setToTarget(e,t,n,o=!1){if(y(t))return void this._setObjectToTarget(e,t,o);const i=t.split(".");t=i.pop();for(const t of i)y(e[t])||(e[t]={}),e=e[t];if(y(n))return y(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,n,o);o&&void 0!==e[t]||(e[t]=n)}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const t of n){if(!y(e[t])){e=null;break}e=e[t]}return e?function(e){return nn(e,sn)}(e[t]):void 0}_setObjectToTarget(e,t,n){Object.keys(t).forEach(o=>{this._setToTarget(e,o,t[o],n)})}}function sn(e){return on(e)?e:void 0}var an=n(0);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var ln=function(){return function e(){e.called=!0}};
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cn{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=ln(),this.off=ln()}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function un(){let e="e";for(let t=0;t<8;t++)e+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var dn={get(e){return"number"!=typeof e?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};n(6);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const hn=Symbol("listeningTo"),pn=Symbol("emitterId");var fn={on(e,t,n={}){this.listenTo(this,e,t,n)},once(e,t,n){let o=!1;this.listenTo(this,e,(function(e,...n){o||(o=!0,e.off(),t.call(this,e,...n))}),n)},off(e,t){this.stopListening(this,e,t)},listenTo(e,t,n,o={}){let i,r;this[hn]||(this[hn]={});const s=this[hn];gn(e)||mn(e);const a=gn(e);(i=s[a])||(i=s[a]={emitter:e,callbacks:{}}),(r=i.callbacks[t])||(r=i.callbacks[t]=[]),r.push(n),function(e,t){const n=bn(e);if(n[t])return;let o=t,i=null;const r=[];for(;""!==o&&!n[o];)n[o]={callbacks:[],childEvents:[]},r.push(n[o]),i&&n[o].childEvents.push(i),i=o,o=o.substr(0,o.lastIndexOf(":"));if(""!==o){for(const e of r)e.callbacks=n[o].callbacks.slice();n[o].childEvents.push(i)}}(e,t);const l=wn(e,t),c=dn.get(o.priority),u={callback:n,priority:c};for(const e of l){let t=!1;for(let n=0;n<e.length;n++)if(e[n].priority<c){e.splice(n,0,u),t=!0;break}t||e.push(u)}},stopListening(e,t,n){const o=this[hn];let i=e&&gn(e);const r=o&&i&&o[i],s=r&&t&&r.callbacks[t];if(!(!o||e&&!r||t&&!s))if(n)vn(e,t,n);else if(s){for(;n=s.pop();)vn(e,t,n);delete r.callbacks[t]}else if(r){for(t in r.callbacks)this.stopListening(e,t);delete o[i]}else{for(i in o)this.stopListening(o[i].emitter);delete this[hn]}},fire(e,...t){try{const n=e instanceof cn?e:new cn(this,e),o=n.name;let i=function e(t,n){let o;if(!t._events||!(o=t._events[n])||!o.callbacks.length)return n.indexOf(":")>-1?e(t,n.substr(0,n.lastIndexOf(":"))):null;return o.callbacks}(this,o);if(n.path.push(this),i){const e=[n,...t];i=Array.from(i);for(let t=0;t<i.length&&(i[t].callback.apply(this,e),n.off.called&&(delete n.off.called,vn(this,o,i[t].callback)),!n.stop.called);t++);}if(this._delegations){const e=this._delegations.get(o),i=this._delegations.get("*");e&&kn(e,n,t),i&&kn(i,n,t)}return n.return}catch(e){an.b.rethrowUnexpectedError(e,this)}},delegate(...e){return{to:(t,n)=>{this._delegations||(this._delegations=new Map),e.forEach(e=>{const o=this._delegations.get(e);o?o.set(t,n):this._delegations.set(e,new Map([[t,n]]))})}}},stopDelegating(e,t){if(this._delegations)if(e)if(t){const n=this._delegations.get(e);n&&n.delete(t)}else this._delegations.delete(e);else this._delegations.clear()}};function mn(e,t){e[pn]||(e[pn]=t||un())}function gn(e){return e[pn]}function bn(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function wn(e,t){const n=bn(e)[t];if(!n)return[];let o=[n.callbacks];for(let t=0;t<n.childEvents.length;t++){const i=wn(e,n.childEvents[t]);o=o.concat(i)}return o}function kn(e,t,n){for(let[o,i]of e){i?"function"==typeof i&&(i=i(t.name)):i=t.name;const e=new cn(t.source,i);e.path=[...t.path],o.fire(e,...n)}}function vn(e,t,n){const o=wn(e,t);for(const e of o)for(let t=0;t<e.length;t++)e[t].callback==n&&(e.splice(t,1),t--)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function _n(e,...t){t.forEach(t=>{Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach(n=>{if(n in e.prototype)return;const o=Object.getOwnPropertyDescriptor(t,n);o.enumerable=!1,Object.defineProperty(e.prototype,n,o)})})}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function yn(e,t){const n=Math.min(e.length,t.length);for(let o=0;o<n;o++)if(e[o]!=t[o])return o;return e.length==t.length?"same":e.length<t.length?"prefix":"extension"}var xn=function(e){return tn(e,4)};
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Cn{constructor(){this.parent=null}get index(){let e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new an.b("view-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}get document(){return this.parent instanceof Cn?this.parent.document:null}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),o=e.getAncestors(t);let i=0;for(;n[i]==o[i]&&n[i];)i++;return 0===i?null:n[i-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),o=yn(t,n);switch(o){case"prefix":return!0;case"extension":return!1;default:return t[o]<n[o]}}isAfter(e){return this!=e&&(this.root===e.root&&!this.isBefore(e))}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire("change:"+e,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=xn(this);return delete e.parent,e}is(e){return"node"==e||"view:node"==e}}_n(Cn,fn);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Tn extends Cn{constructor(e){super(),this._textData=e}is(e){return"text"==e||"view:text"==e||super.is(e)}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof Tn&&(this===e||this.data===e.data)}_clone(){return new Tn(this.data)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class En{constructor(e,t,n){if(this.textNode=e,t<0||t>e.data.length)throw new an.b("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(n<0||t+n>e.data.length)throw new an.b("view-textproxy-wrong-length: Given length value is incorrect.",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(e){return"textProxy"==e||"view:textProxy"==e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;null!==n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Sn(e){const t=new Map;for(const n in e)t.set(n,e[n]);return t}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Pn(e){return!(!e||!e[Symbol.iterator])}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class An{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)("string"==typeof t||t instanceof RegExp)&&(t={name:t}),t.classes&&("string"==typeof t.classes||t.classes instanceof RegExp)&&(t.classes=[t.classes]),this._patterns.push(t)}match(...e){for(const t of e)for(const e of this._patterns){const n=Rn(t,e);if(n)return{element:t,pattern:e,match:n}}return null}matchAll(...e){const t=[];for(const n of e)for(const e of this._patterns){const o=Rn(n,e);o&&t.push({element:n,pattern:e,match:o})}return t.length>0?t:null}getElementName(){if(1!==this._patterns.length)return null;const e=this._patterns[0],t=e.name;return"function"==typeof e||!t||t instanceof RegExp?null:t}}function Rn(e,t){if("function"==typeof t)return t(e);const n={};return t.name&&(n.name=function(e,t){if(e instanceof RegExp)return e.test(t);return e===t}(t.name,e.name),!n.name)?null:t.attributes&&(n.attributes=function(e,t){const n=[];for(const o in e){const i=e[o];if(!t.hasAttribute(o))return null;{const e=t.getAttribute(o);if(!0===i)n.push(o);else if(i instanceof RegExp){if(!i.test(e))return null;n.push(o)}else{if(e!==i)return null;n.push(o)}}}return n}(t.attributes,e),!n.attributes)?null:!(t.classes&&(n.classes=function(e,t){const n=[];for(const o of e)if(o instanceof RegExp){const e=t.getClassNames();for(const t of e)o.test(t)&&n.push(t);if(0===n.length)return null}else{if(!t.hasClass(o))return null;n.push(o)}return n}(t.classes,e),!n.classes))&&(!(t.styles&&(n.styles=function(e,t){const n=[];for(const o in e){const i=e[o];if(!t.hasStyle(o))return null;{const e=t.getStyle(o);if(i instanceof RegExp){if(!i.test(e))return null;n.push(o)}else{if(e!==i)return null;n.push(o)}}}return n}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(t.styles,e),!n.styles))&&n)}class On extends Cn{constructor(e,t,n){if(super(),this.name=e,this._attrs=function(e){e=y(e)?Sn(e):new Map(e);for(const[t,n]of e)null===n?e.delete(t):"string"!=typeof n&&e.set(t,String(n));return e}(t),this._children=[],n&&this._insertChild(0,n),this._classes=new Set,this._attrs.has("class")){const e=this._attrs.get("class");In(this._classes,e),this._attrs.delete("class")}this._styles=new Map,this._attrs.has("style")&&(Nn(this._styles,this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(e,t=null){const n=e.replace(/^view:/,"");return t?"element"==n&&t==this.name:"element"==n||n==this.name||super.is(e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.size>0&&(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.size>0&&(yield["style",this.getAttribute("style")])}getAttribute(e){if("class"==e)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"!=e)return this._attrs.get(e);if(this._styles.size>0){let e="";for(const[t,n]of this._styles)e+=`${t}:${n};`;return e}}hasAttribute(e){return"class"==e?this._classes.size>0:"style"==e?this._styles.size>0:this._attrs.has(e)}isSimilar(e){if(!(e instanceof On))return!1;if(this===e)return!0;if(this.name!=e.name)return!1;if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,n]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==n)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const[t,n]of this._styles)if(!e._styles.has(t)||e._styles.get(t)!==n)return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.get(e)}getStyleNames(){return this._styles.keys()}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new An(...e);let n=this.parent;for(;n;){if(t.match(n))return n;n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=Array.from(this._styles).map(e=>`${e[0]}:${e[1]}`).sort().join(";"),n=Array.from(this._attrs).map(e=>`${e[0]}="${e[1]}"`).sort().join(" ");return this.name+(""==e?"":` class="${e}"`)+(""==t?"":` style="${t}"`)+(""==n?"":` ${n}`)}_clone(e=!1){const t=[];if(e)for(const n of this.getChildren())t.push(n._clone(e));const n=new this.constructor(this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles=new Map(this._styles),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const o=function(e){if("string"==typeof e)return[new Tn(e)];Pn(e)||(e=[e]);return Array.from(e).map(e=>"string"==typeof e?new Tn(e):e instanceof En?new Tn(e.data):e)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(t);for(const t of o)null!==t.parent&&t._remove(),t.parent=this,this._children.splice(e,0,t),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){t=String(t),this._fireChange("attributes",this),"class"==e?In(this._classes,t):"style"==e?Nn(this._styles,t):this._attrs.set(e,t)}_removeAttribute(e){return this._fireChange("attributes",this),"class"==e?this._classes.size>0&&(this._classes.clear(),!0):"style"==e?this._styles.size>0&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach(e=>this._classes.add(e))}_removeClass(e){this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach(e=>this._classes.delete(e))}_setStyle(e,t){if(this._fireChange("attributes",this),y(e)){const t=Object.keys(e);for(const n of t)this._styles.set(n,e[n])}else this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach(e=>this._styles.delete(e))}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function Nn(e,t){let n=null,o=0,i=0,r=null;if(e.clear(),""!==t){";"!=t.charAt(t.length-1)&&(t+=";");for(let s=0;s<t.length;s++){const a=t.charAt(s);if(null===n)switch(a){case":":r||(r=t.substr(o,s-o),i=s+1);break;case'"':case"'":n=a;break;case";":{const n=t.substr(i,s-i);r&&e.set(r.trim(),n.trim()),r=null,o=s+1;break}}else a===n&&(n=null)}}}function In(e,t){const n=t.split(/\s+/);e.clear(),n.forEach(t=>e.add(t))}class Mn extends On{constructor(e,t,n){super(e,t,n),this.getFillerOffset=zn}is(e,t=null){const n=e&&e.replace(/^view:/,"");return t?"containerElement"==n&&t==this.name||super.is(e,t):"containerElement"==n||super.is(e)}}function zn(){const e=[...this.getChildren()],t=e[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const t of e)if(!t.is("uiElement"))return null;return this.childCount}var Dn=function(e){return e};var Vn=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Bn=Math.max;var Fn=function(e,t,n){return t=Bn(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,r=Bn(o.length-t,0),s=Array(r);++i<r;)s[i]=o[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=o[i];return a[t]=n(s),Vn(e,this,a)}};var Ln=function(e){return function(){return e}},jn=Te?function(e,t){return Te(e,"toString",{configurable:!0,enumerable:!1,value:Ln(t),writable:!0})}:Dn,Hn=Date.now;var Wn=function(e){var t=0,n=0;return function(){var o=Hn(),i=16-(o-n);if(n=o,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(jn);var Un=function(e,t){return Wn(Fn(e,t,Dn),e+"")};var qn=function(e,t,n){if(!V(n))return!1;var o=typeof t;return!!("number"==o?et(n)&&Fe(t,n.length):"string"==o&&t in n)&&C(n[t],e)};var $n=function(e){return Un((function(t,n){var o=-1,i=n.length,r=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(r=e.length>3&&"function"==typeof r?(i--,r):void 0,s&&qn(n[0],n[1],s)&&(r=i<3?void 0:r,i=1),t=Object(t);++o<i;){var a=n[o];a&&e(t,a,o,r)}return t}))}((function(e,t){Ae(t,st(t),e)}));
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const Gn=Symbol("observableProperties"),Kn=Symbol("boundObservables"),Jn=Symbol("boundProperties"),Yn={set(e,t){if(V(e))return void Object.keys(e).forEach(t=>{this.set(t,e[t])},this);Xn(this);const n=this[Gn];if(e in this&&!n.has(e))throw new an.b("observable-set-cannot-override: Cannot override an existing property.",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>n.get(e),set(t){const o=n.get(e);let i=this.fire("set:"+e,e,t,o);void 0===i&&(i=t),o===i&&n.has(e)||(n.set(e,i),this.fire("change:"+e,e,i,o))}}),this[e]=t},bind(...e){if(!e.length||!to(e))throw new an.b("observable-bind-wrong-properties: All properties must be strings.",this);if(new Set(e).size!==e.length)throw new an.b("observable-bind-duplicate-properties: Properties must be unique.",this);Xn(this);const t=this[Jn];e.forEach(e=>{if(t.has(e))throw new an.b("observable-bind-rebind: Cannot bind the same property more than once.",this)});const n=new Map;return e.forEach(e=>{const o={property:e,to:[]};t.set(e,o),n.set(e,o)}),{to:Zn,toMany:eo,_observable:this,_bindProperties:e,_to:[],_bindings:n}},unbind(...e){if(!(Gn in this))return;const t=this[Jn],n=this[Kn];if(e.length){if(!to(e))throw new an.b("observable-unbind-wrong-properties: Properties must be strings.",this);e.forEach(e=>{const o=t.get(e);if(!o)return;let i,r,s,a;o.to.forEach(e=>{i=e[0],r=e[1],s=n.get(i),a=s[r],a.delete(o),a.size||delete s[r],Object.keys(s).length||(n.delete(i),this.stopListening(i,"change"))}),t.delete(e)})}else n.forEach((e,t)=>{this.stopListening(t,"change")}),n.clear(),t.clear()},decorate(e){const t=this[e];if(!t)throw new an.b("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",this,{object:this,methodName:e});this.on(e,(e,n)=>{e.return=t.apply(this,n)}),this[e]=function(...t){return this.fire(e,t)}}};$n(Yn,fn);var Qn=Yn;function Xn(e){Gn in e||(Object.defineProperty(e,Gn,{value:new Map}),Object.defineProperty(e,Kn,{value:new Map}),Object.defineProperty(e,Jn,{value:new Map}))}function Zn(...e){const t=function(...e){if(!e.length)throw new an.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);const t={to:[]};let n;"function"==typeof e[e.length-1]&&(t.callback=e.pop());return e.forEach(e=>{if("string"==typeof e)n.properties.push(e);else{if("object"!=typeof e)throw new an.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);n={observable:e,properties:[]},t.to.push(n)}}),t}(...e),n=Array.from(this._bindings.keys()),o=n.length;if(!t.callback&&t.to.length>1)throw new an.b("observable-bind-to-no-callback: Binding multiple observables only possible with callback.",this);if(o>1&&t.callback)throw new an.b("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.",this);var i;
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */t.to.forEach(e=>{if(e.properties.length&&e.properties.length!==o)throw new an.b("observable-bind-to-properties-length: The number of properties must match.",this);e.properties.length||(e.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(n[0]).callback=t.callback),i=this._observable,this._to.forEach(e=>{const t=i[Kn];let n;t.get(e.observable)||i.listenTo(e.observable,"change",(o,r)=>{n=t.get(e.observable)[r],n&&n.forEach(e=>{no(i,e.property)})})}),function(e){let t;e._bindings.forEach((n,o)=>{e._to.forEach(i=>{t=i.properties[n.callback?0:e._bindProperties.indexOf(o)],n.to.push([i.observable,t]),function(e,t,n,o){const i=e[Kn],r=i.get(n),s=r||{};s[o]||(s[o]=new Set);s[o].add(t),r||i.set(n,s)}(e._observable,n,i.observable,t)})})}(this),this._bindProperties.forEach(e=>{no(this._observable,e)})}function eo(e,t,n){if(this._bindings.size>1)throw new an.b("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().",this);this.to(...function(e,t){const n=e.map(e=>[e,t]);return Array.prototype.concat.apply([],n)}(e,t),n)}function to(e){return e.every(e=>"string"==typeof e)}function no(e,t){const n=e[Jn].get(t);let o;n.callback?o=n.callback.apply(e,n.to.map(e=>e[0][e[1]])):(o=n.to[0],o=o[0][o[1]]),e.hasOwnProperty(t)?e[t]=o:e.set(t,o)}const oo=Symbol("document");class io extends Mn{constructor(e,t,n){super(e,t,n),this.set("isReadOnly",!1),this.set("isFocused",!1)}is(e,t=null){const n=e&&e.replace(/^view:/,"");return t?"editableElement"==n&&t==this.name||super.is(e,t):"editableElement"==n||super.is(e)}destroy(){this.stopListening()}get document(){return this.getCustomProperty(oo)}set _document(e){if(this.getCustomProperty(oo))throw new an.b("view-editableelement-document-already-set: View document is already set.",this);this._setCustomProperty(oo,e),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",t=>t&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}}_n(io,Qn);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const ro=Symbol("rootName");class so extends io{constructor(e){super(e),this.rootName="main"}is(e,t=null){const n=e.replace(/^view:/,"");return t?"rootElement"==n&&t==this.name||super.is(e,t):"rootElement"==n||super.is(e)}get rootName(){return this.getCustomProperty(ro)}set rootName(e){this._setCustomProperty(ro,e)}set _name(e){this.name=e}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ao{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new an.b("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);if(e.direction&&"forward"!=e.direction&&"backward"!=e.direction)throw new an.b("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this.position=lo._createAt(e.startPosition):this.position=lo._createAt(e.boundaries["backward"==e.direction?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(e){let t,n,o;do{o=this.position,({done:t,value:n}=this.next())}while(!t&&e(n));t||(this.position=o)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,n=e.parent;if(null===n.parent&&e.offset===n.childCount)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};let o;if(n instanceof Tn){if(e.isAtEnd)return this.position=lo._createAfter(n),this._next();o=n.data[e.offset]}else o=n.getChild(e.offset);if(o instanceof On)return this.shallow?e.offset++:e=new lo(o,0),this.position=e,this._formatReturnValue("elementStart",o,t,e,1);if(o instanceof Tn){if(this.singleCharacters)return e=new lo(o,0),this.position=e,this._next();{let n,i=o.data.length;return o==this._boundaryEndParent?(i=this.boundaries.end.offset,n=new En(o,0,i),e=lo._createAfter(n)):(n=new En(o,0,o.data.length),e.offset++),this.position=e,this._formatReturnValue("text",n,t,e,i)}}if("string"==typeof o){let o;if(this.singleCharacters)o=1;else{o=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset}const i=new En(n,e.offset,o);return e.offset+=o,this.position=e,this._formatReturnValue("text",i,t,e,o)}return e=lo._createAfter(n),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position,n=e.parent;if(null===n.parent&&0===e.offset)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};let o;if(n instanceof Tn){if(e.isAtStart)return this.position=lo._createBefore(n),this._previous();o=n.data[e.offset-1]}else o=n.getChild(e.offset-1);if(o instanceof On)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue("elementStart",o,t,e,1)):(e=new lo(o,o.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",o,t,e));if(o instanceof Tn){if(this.singleCharacters)return e=new lo(o,o.data.length),this.position=e,this._previous();{let n,i=o.data.length;if(o==this._boundaryStartParent){const t=this.boundaries.start.offset;n=new En(o,t,o.data.length-t),i=n.data.length,e=lo._createBefore(n)}else n=new En(o,0,o.data.length),e.offset--;return this.position=e,this._formatReturnValue("text",n,t,e,i)}}if("string"==typeof o){let o;if(this.singleCharacters)o=1;else{const t=n===this._boundaryStartParent?this.boundaries.start.offset:0;o=e.offset-t}e.offset-=o;const i=new En(n,e.offset,o);return this.position=e,this._formatReturnValue("text",i,t,e,o)}return e=lo._createBefore(n),this.position=e,this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,o,i){return t instanceof En&&(t.offsetInText+t.data.length==t.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=lo._createAfter(t.textNode):(o=lo._createAfter(t.textNode),this.position=o)),0===t.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=lo._createBefore(t.textNode):(o=lo._createBefore(t.textNode),this.position=o))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:o,length:i}}}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lo{constructor(e,t){this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const e=this.parent.is("text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof io);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=lo._createAt(this),n=t.offset+e;return t.offset=n<0?0:n,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new ao(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let o=0;for(;t[o]==n[o]&&t[o];)o++;return 0===o?null:t[o-1]}is(e){return"position"==e||"view:position"==e}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return"before"==this.compareWith(e)}isAfter(e){return"after"==this.compareWith(e)}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);const o=yn(t,n);switch(o){case"prefix":return"before";case"extension":return"after";default:return t[o]<n[o]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new ao(e)}clone(){return new lo(this.parent,this.offset)}static _createAt(e,t){if(e instanceof lo)return new this(e.parent,e.offset);{const n=e;if("end"==t)t=n.is("text")?n.data.length:n.childCount;else{if("before"==t)return this._createBefore(n);if("after"==t)return this._createAfter(n);if(0!==t&&!t)throw new an.b("view-createPositionAt-offset-required: View#createPositionAt() requires the offset when the first parameter is a view item.",n)}return new lo(n,t)}}static _createAfter(e){if(e.is("textProxy"))return new lo(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new an.b("view-position-after-root: You can not make position after root.",e,{root:e});return new lo(e.parent,e.index+1)}static _createBefore(e){if(e.is("textProxy"))return new lo(e.textNode,e.offsetInText);if(!e.parent)throw new an.b("view-position-before-root: You can not make position before root.",e,{root:e});return new lo(e.parent,e.index)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class co{constructor(e,t=null){this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new ao({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(uo,{direction:"backward"}),t=this.end.getLastMatchingPosition(uo);return e.parent.is("text")&&e.isAtStart&&(e=lo._createBefore(e.parent)),t.parent.is("text")&&t.isAtEnd&&(t=lo._createAfter(t.parent)),new co(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(uo);if(e.isAfter(this.end)||e.isEqual(this.end))return new co(e,e);let t=this.end.getLastMatchingPosition(uo,{direction:"backward"});const n=e.nodeAfter,o=t.nodeBefore;return n&&n.is("text")&&(e=new lo(n,0)),o&&o.is("text")&&(t=new lo(o,o.data.length)),new co(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),o=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&o}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new co(this.start,e.start)),this.containsPosition(e.end)&&t.push(new co(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new co(t,n)}return null}getWalker(e={}){return e.boundaries=this,new ao(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}clone(){return new co(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new ao(e);for(const e of t)yield e.item}*getPositions(e={}){e.boundaries=this;const t=new ao(e);yield t.position;for(const e of t)yield e.nextPosition}is(e){return"range"==e||"view:range"==e}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,o){return new this(new lo(e,t),new lo(n,o))}static _createFromPositionAndShift(e,t){const n=e,o=e.getShiftedBy(t);return t>0?new this(n,o):new this(o,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(lo._createBefore(e),t)}}function uo(e){return!(!e.item.is("attributeElement")&&!e.item.is("uiElement"))}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ho(e){let t=0;for(const n of e)t++;return t}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class po{constructor(e=null,t,n){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(e,t,n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel)return!1;if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const o of e._ranges)if(t.isEqual(o)){n=!0;break}if(!n)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=ho(this.getRanges());if(t!=ho(e.getRanges()))return!1;if(0==t)return!0;for(let t of this.getRanges()){t=t.getTrimmed();let n=!1;for(let o of e.getRanges())if(o=o.getTrimmed(),t.start.isEqual(o.start)&&t.end.isEqual(o.end)){n=!0;break}if(!n)return!1}return!0}getSelectedElement(){if(1!==this.rangeCount)return null;const e=this.getFirstRange();let t=e.start.nodeAfter,n=e.end.nodeBefore;return e.start.parent.is("text")&&e.start.isAtEnd&&e.start.parent.nextSibling&&(t=e.start.parent.nextSibling),e.end.parent.is("text")&&e.end.isAtStart&&e.end.parent.previousSibling&&(n=e.end.parent.previousSibling),t instanceof On&&t==n?t:null}setTo(e,t,n){if(null===e)this._setRanges([]),this._setFakeOptions(t);else if(e instanceof po||e instanceof fo)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof co)this._setRanges([e],t&&t.backward),this._setFakeOptions(t);else if(e instanceof lo)this._setRanges([new co(e)]),this._setFakeOptions(t);else if(e instanceof Cn){const o=!!n&&!!n.backward;let i;if(void 0===t)throw new an.b("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",this);i="in"==t?co._createIn(e):"on"==t?co._createOn(e):new co(lo._createAt(e,t)),this._setRanges([i],o),this._setFakeOptions(n)}else{if(!Pn(e))throw new an.b("view-selection-setTo-not-selectable: Cannot set selection to given place.",this);this._setRanges(e,t&&t.backward),this._setFakeOptions(t)}this.fire("change")}setFocus(e,t){if(null===this.anchor)throw new an.b("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",this);const n=lo._createAt(e,t);if("same"==n.compareWith(this.focus))return;const o=this.anchor;this._ranges.pop(),"before"==n.compareWith(o)?this._addRange(new co(n,o),!0):this._addRange(new co(o,n)),this.fire("change")}is(e){return"selection"==e||"view:selection"==e}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const t of e)this._addRange(t);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof co))throw new an.b("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new an.b("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",this,{addedRange:e,intersectingRange:t});this._ranges.push(new co(e.start,e.end))}}_n(po,fn);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class fo{constructor(e=null,t,n){this._selection=new po,this._selection.delegate("change").to(this),this._selection.setTo(e,t,n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}is(e){return"selection"==e||"documentSelection"==e||"view:selection"==e||"view:documentSelection"==e}_setTo(e,t,n){this._selection.setTo(e,t,n)}_setFocus(e,t){this._selection.setFocus(e,t)}}_n(fo,fn);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class mo{constructor(e={}){this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[]}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){let n;const o=this._idProperty;if(o in e){if(n=e[o],"string"!=typeof n)throw new an.b("collection-add-invalid-id",this);if(this.get(n))throw new an.b("collection-add-item-already-exists",this)}else e[o]=n=un();if(void 0===t)t=this._items.length;else if(t>this._items.length||t<0)throw new an.b("collection-add-item-invalid-index",this);return this._items.splice(t,0,e),this._itemMap.set(n,e),this.fire("add",e,t),this}get(e){let t;if("string"==typeof e)t=this._itemMap.get(e);else{if("number"!=typeof e)throw new an.b("collection-get-invalid-arg: Index or id must be given.",this);t=this._items[e]}return t||null}has(e){if("string"==typeof e)return this._itemMap.has(e);{const t=e[this._idProperty];return this._itemMap.has(t)}}getIndex(e){let t;return t="string"==typeof e?this._itemMap.get(e):e,this._items.indexOf(t)}remove(e){let t,n,o,i=!1;const r=this._idProperty;if("string"==typeof e?(n=e,o=this._itemMap.get(n),i=!o,o&&(t=this._items.indexOf(o))):"number"==typeof e?(t=e,o=this._items[t],i=!o,o&&(n=o[r])):(o=e,n=o[r],t=this._items.indexOf(o),i=-1==t||!this._itemMap.get(n)),i)throw new an.b("collection-remove-404: Item not found.",this);this._items.splice(t,1),this._itemMap.delete(n);const s=this._bindToInternalToExternalMap.get(o);return this._bindToInternalToExternalMap.delete(o),this._bindToExternalToInternalMap.delete(s),this.fire("remove",o,t),o}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}bindTo(e){if(this._bindToCollection)throw new an.b("collection-bind-to-rebind: The collection cannot be bound more than once.",this);return this._bindToCollection=e,{as:e=>{this._setUpBindToBinding(t=>new e(t))},using:e=>{"function"==typeof e?this._setUpBindToBinding(t=>e(t)):this._setUpBindToBinding(t=>t[e])}}}_setUpBindToBinding(e){const t=this._bindToCollection,n=(n,o,i)=>{const r=t._bindToCollection==this,s=t._bindToInternalToExternalMap.get(o);if(r&&s)this._bindToExternalToInternalMap.set(o,s),this._bindToInternalToExternalMap.set(s,o);else{const n=e(o);if(!n)return void this._skippedIndexesFromExternal.push(i);let r=i;for(const e of this._skippedIndexesFromExternal)i>e&&r--;for(const e of t._skippedIndexesFromExternal)r>=e&&r++;this._bindToExternalToInternalMap.set(o,n),this._bindToInternalToExternalMap.set(n,o),this.add(n,r);for(let e=0;e<t._skippedIndexesFromExternal.length;e++)r<=t._skippedIndexesFromExternal[e]&&t._skippedIndexesFromExternal[e]++}};for(const e of t)n(0,e,t.getIndex(e));this.listenTo(t,"add",n),this.listenTo(t,"remove",(e,t,n)=>{const o=this._bindToExternalToInternalMap.get(t);o&&this.remove(o),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((e,t)=>(n<t&&e.push(t-1),n>t&&e.push(t),e),[])})}[Symbol.iterator](){return this._items[Symbol.iterator]()}}_n(mo,fn);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class go{constructor(){this.selection=new fo,this.roots=new mo({idProperty:"rootName"}),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do{for(const n of this._postFixers)if(t=n(e),t)break}while(t)}}_n(go,Qn);class bo extends On{constructor(e,t,n){super(e,t,n),this.getFillerOffset=wo,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new an.b("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.",this);return new Set(this._clonesGroup)}is(e,t=null){const n=e&&e.replace(/^view:/,"");return t?"attributeElement"==n&&t==this.name||super.is(e,t):"attributeElement"==n||super.is(e)}isSimilar(e){return null!==this.id||null!==e.id?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function wo(){if(ko(this))return null;let e=this.parent;for(;e&&e.is("attributeElement");){if(ko(e)>1)return null;e=e.parent}return!e||ko(e)>1?null:this.childCount}function ko(e){return Array.from(e.getChildren()).filter(e=>!e.is("uiElement")).length}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */bo.DEFAULT_PRIORITY=10;class vo extends On{constructor(e,t,n){super(e,t,n),this.getFillerOffset=_o}is(e,t=null){const n=e.replace(/^view:/,"");return t?"emptyElement"==n&&t==this.name||super.is(e,t):"emptyElement"==n||super.is(e)}_insertChild(e,t){if(t&&(t instanceof Cn||Array.from(t).length>0))throw new an.b("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.",[this,t])}}function _o(){return null}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const yo=navigator.userAgent.toLowerCase();var xo={isMac:function(e){return e.indexOf("macintosh")>-1}(yo),isEdge:function(e){return!!e.match(/edge\/(\d+.?\d*)/)}(yo),isGecko:function(e){return!!e.match(/gecko\/\d+/)}(yo),isSafari:function(e){return e.indexOf(" applewebkit/")>-1&&-1===e.indexOf("chrome")}(yo),isAndroid:function(e){return e.indexOf("android")>-1}(yo),features:{isRegExpUnicodePropertySupported:function(){let e=!1;try{e=0==="".search(new RegExp("[\\p{L}]","u"))}catch(e){}return e}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */()}};const Co={"":"ctrl","":"shift","":"alt"},To={ctrl:"",shift:"",alt:""},Eo=function(){const e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let t=65;t<=90;t++){const n=String.fromCharCode(t);e[n.toLowerCase()]=t}for(let t=48;t<=57;t++)e[t-48]=t;for(let t=112;t<=123;t++)e["f"+(t-111)]=t;return e}();function So(e){let t;if("string"==typeof e){if(t=Eo[e.toLowerCase()],!t)throw new an.b("keyboard-unknown-key: Unknown key name.",null,{key:e})}else t=e.keyCode+(e.altKey?Eo.alt:0)+(e.ctrlKey?Eo.ctrl:0)+(e.shiftKey?Eo.shift:0);return t}function Po(e){return"string"==typeof e&&(e=Ro(e)),e.map(e=>"string"==typeof e?So(e):e).reduce((e,t)=>t+e,0)}function Ao(e){return xo.isMac?Ro(e).map(e=>To[e.toLowerCase()]||e).reduce((e,t)=>e.slice(-1)in Co?e+t:e+"+"+t):e}function Ro(e){return e.split(/\s*\+\s*/)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Oo extends On{constructor(e,t,n){super(e,t,n),this.getFillerOffset=Io}is(e,t=null){const n=e.replace(/^view:/,"");return t?"uiElement"==n&&t==this.name||super.is(e,t):"uiElement"==n||super.is(e)}_insertChild(e,t){if(t&&(t instanceof Cn||Array.from(t).length>0))throw new an.b("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.",this)}render(e){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const e of this.getAttributeKeys())t.setAttribute(e,this.getAttribute(e));return t}}function No(e){e.document.on("keydown",(t,n)=>function(e,t,n){if(t.keyCode==Eo.arrowright){const e=t.domTarget.ownerDocument.defaultView.getSelection(),o=1==e.rangeCount&&e.getRangeAt(0).collapsed;if(o||t.shiftKey){const t=e.focusNode,i=e.focusOffset,r=n.domPositionToView(t,i);if(null===r)return;let s=!1;const a=r.getLastMatchingPosition(e=>(e.item.is("uiElement")&&(s=!0),!(!e.item.is("uiElement")&&!e.item.is("attributeElement"))));if(s){const t=n.viewPositionToDom(a);o?e.collapse(t.parent,t.offset):e.extend(t.parent,t.offset)}}}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(0,n,e.domConverter))}function Io(){return null}class Mo{constructor(e){this._children=[],e&&this._insertChild(0,e)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(e){return"documentFragment"==e||"view:documentFragment"==e}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const o=function(e){if("string"==typeof e)return[new Tn(e)];Pn(e)||(e=[e]);return Array.from(e).map(e=>"string"==typeof e?new Tn(e):e instanceof En?new Tn(e.data):e)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(t);for(const t of o)null!==t.parent&&t._remove(),t.parent=this,this._children.splice(e,0,t),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}}_n(Mo,fn);class zo{constructor(e){this.document=e,this._cloneGroups=new Map}setSelection(e,t,n){this.document.selection._setTo(e,t,n)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createText(e){return new Tn(e)}createAttributeElement(e,t,n={}){const o=new bo(e,t);return n.priority&&(o._priority=n.priority),n.id&&(o._id=n.id),o}createContainerElement(e,t){return new Mn(e,t)}createEditableElement(e,t){const n=new io(e,t);return n._document=this.document,n}createEmptyElement(e,t){return new vo(e,t)}createUIElement(e,t,n){const o=new Oo(e,t);return n&&(o.render=n),o}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){y(e)&&void 0===n&&(n=t),n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof lo?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new an.b("view-writer-break-non-container-element: Trying to break an element which is not a container element.",this.document);if(!t.parent)throw new an.b("view-writer-break-root: Trying to break root element.",this.document);if(e.isAtStart)return lo._createBefore(t);if(!e.isAtEnd){const n=t._clone(!1);this.insert(lo._createAfter(t),n);const o=new co(e,lo._createAt(t,"end")),i=new lo(n,0);this.move(o,i)}return lo._createAfter(t)}mergeAttributes(e){const t=e.offset,n=e.parent;if(n.is("text"))return e;if(n.is("attributeElement")&&0===n.childCount){const e=n.parent,t=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new lo(e,t))}const o=n.getChild(t-1),i=n.getChild(t);if(!o||!i)return e;if(o.is("text")&&i.is("text"))return Lo(o,i);if(o.is("attributeElement")&&i.is("attributeElement")&&o.isSimilar(i)){const e=o.childCount;return o._appendChild(i.getChildren()),i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new lo(o,e))}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(!(t&&n&&t.is("containerElement")&&n.is("containerElement")))throw new an.b("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.",this.document);const o=t.getChild(t.childCount-1),i=o instanceof Tn?lo._createAt(o,"end"):lo._createAt(t,"end");return this.move(co._createIn(n),lo._createAt(t,"end")),this.remove(co._createOn(n)),i}insert(e,t){(function e(t,n){for(const o of t){if(!jo.some(e=>o instanceof e))throw new an.b("view-writer-insert-invalid-node",n);o.is("text")||e(o.getChildren(),n)}})(t=Pn(t)?[...t]:[t],this.document);const n=Do(e);if(!n)throw new an.b("view-writer-invalid-position-container",this.document);const o=this._breakAttributes(e,!0),i=n._insertChild(o.offset,t);for(const e of t)this._addToClonedElementsGroup(e);const r=o.getShiftedBy(i),s=this.mergeAttributes(o);if(0===i)return new co(s,s);{s.isEqual(o)||r.offset--;const e=this.mergeAttributes(r);return new co(s,e)}}remove(e){const t=e instanceof co?e:co._createOn(e);if(Wo(t,this.document),t.isCollapsed)return new Mo;const{start:n,end:o}=this._breakAttributesRange(t,!0),i=n.parent,r=o.offset-n.offset,s=i._removeChildren(n.offset,r);for(const e of s)this._removeFromClonedElementsGroup(e);const a=this.mergeAttributes(n);return t.start=a,t.end=a.clone(),new Mo(s)}clear(e,t){Wo(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const o of n){const n=o.item;let i;if(n.is("element")&&t.isSimilar(n))i=co._createOn(n);else if(!o.nextPosition.isAfter(e.start)&&n.is("textProxy")){const e=n.getAncestors().find(e=>e.is("element")&&t.isSimilar(e));e&&(i=co._createIn(e))}i&&(i.end.isAfter(e.end)&&(i.end=e.end),i.start.isBefore(e.start)&&(i.start=e.start),this.remove(i))}}move(e,t){let n;if(t.isAfter(e.end)){const o=(t=this._breakAttributes(t,!0)).parent,i=o.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=o.childCount-i}else n=this.remove(e);return this.insert(t,n)}wrap(e,t){if(!(t instanceof bo))throw new an.b("view-writer-wrap-invalid-attribute",this.document);if(Wo(e,this.document),e.isCollapsed){let o=e.start;o.parent.is("element")&&(n=o.parent,!Array.from(n.getChildren()).some(e=>!e.is("uiElement")))&&(o=o.getLastMatchingPosition(e=>e.item.is("uiElement"))),o=this._wrapPosition(o,t);const i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(e.start)&&this.setSelection(o),new co(o)}return this._wrapRange(e,t);var n}unwrap(e,t){if(!(t instanceof bo))throw new an.b("view-writer-unwrap-invalid-attribute",this.document);if(Wo(e,this.document),e.isCollapsed)return e;const{start:n,end:o}=this._breakAttributesRange(e,!0),i=n.parent,r=this._unwrapChildren(i,n.offset,o.offset,t),s=this.mergeAttributes(r.start);s.isEqual(r.start)||r.end.offset--;const a=this.mergeAttributes(r.end);return new co(s,a)}rename(e,t){const n=new Mn(e,t.getAttributes());return this.insert(lo._createAfter(t),n),this.move(co._createIn(t),lo._createAt(n,0)),this.remove(co._createOn(t)),n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return lo._createAt(e,t)}createPositionAfter(e){return lo._createAfter(e)}createPositionBefore(e){return lo._createBefore(e)}createRange(e,t){return new co(e,t)}createRangeOn(e){return co._createOn(e)}createRangeIn(e){return co._createIn(e)}createSelection(e,t,n){return new po(e,t,n)}_wrapChildren(e,t,n,o){let i=t;const r=[];for(;i<n;){const t=e.getChild(i),n=t.is("text"),s=t.is("attributeElement"),a=t.is("emptyElement"),l=t.is("uiElement");if(s&&this._wrapAttributeElement(o,t))r.push(new lo(e,i));else if(n||a||l||s&&Vo(o,t)){const n=o._clone();t._remove(),n._appendChild(t),e._insertChild(i,n),this._addToClonedElementsGroup(n),r.push(new lo(e,i))}else s&&this._wrapChildren(t,0,t.childCount,o);i++}let s=0;for(const e of r){if(e.offset-=s,e.offset==t)continue;this.mergeAttributes(e).isEqual(e)||(s++,n--)}return co._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,o){let i=t;const r=[];for(;i<n;){const t=e.getChild(i);if(t.is("attributeElement"))if(t.isSimilar(o)){const o=t.getChildren(),s=t.childCount;t._remove(),e._insertChild(i,o),this._removeFromClonedElementsGroup(t),r.push(new lo(e,i),new lo(e,i+s)),i+=s,n+=s-1}else this._unwrapAttributeElement(o,t)?(r.push(new lo(e,i),new lo(e,i+1)),i++):(this._unwrapChildren(t,0,t.childCount,o),i++);else i++}let s=0;for(const e of r){if(e.offset-=s,e.offset==t||e.offset==n)continue;this.mergeAttributes(e).isEqual(e)||(s++,n--)}return co._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:o}=this._breakAttributesRange(e,!0),i=n.parent,r=this._wrapChildren(i,n.offset,o.offset,t),s=this.mergeAttributes(r.start);s.isEqual(r.start)||r.end.offset--;const a=this.mergeAttributes(r.end);return new co(s,a)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return Bo(e.clone());e.parent.is("text")&&(e=Fo(e));const n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,e.parent._insertChild(e.offset,n);const o=new co(e,e.getShiftedBy(1));this.wrap(o,t);const i=new lo(n.parent,n.index);n._remove();const r=i.nodeBefore,s=i.nodeAfter;return r instanceof Tn&&s instanceof Tn?Lo(r,s):Bo(i)}_wrapAttributeElement(e,t){if(!Uo(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if("class"!==n&&"style"!==n&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const n of e.getStyleNames())if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())"class"!==n&&"style"!==n&&(t.hasAttribute(n)||this.setAttribute(n,e.getAttribute(n),t));for(const n of e.getStyleNames())t.hasStyle(n)||this.setStyle(n,e.getStyle(n),t);for(const n of e.getClassNames())t.hasClass(n)||this.addClass(n,t);return!0}_unwrapAttributeElement(e,t){if(!Uo(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if("class"!==n&&"style"!==n&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const n of e.getStyleNames())if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())"class"!==n&&"style"!==n&&this.removeAttribute(n,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const n=e.start,o=e.end;if(Wo(e,this.document),e.isCollapsed){const n=this._breakAttributes(e.start,t);return new co(n,n)}const i=this._breakAttributes(o,t),r=i.parent.childCount,s=this._breakAttributes(n,t);return i.offset+=i.parent.childCount-r,new co(s,i)}_breakAttributes(e,t=!1){const n=e.offset,o=e.parent;if(e.parent.is("emptyElement"))throw new an.b("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new an.b("view-writer-cannot-break-ui-element",this.document);if(!t&&o.is("text")&&Ho(o.parent))return e.clone();if(Ho(o))return e.clone();if(o.is("text"))return this._breakAttributes(Fo(e),t);if(n==o.childCount){const e=new lo(o.parent,o.index+1);return this._breakAttributes(e,t)}if(0===n){const e=new lo(o.parent,o.index);return this._breakAttributes(e,t)}{const e=o.index+1,i=o._clone();o.parent._insertChild(e,i),this._addToClonedElementsGroup(i);const r=o.childCount-n,s=o._removeChildren(n,r);i._appendChild(s);const a=new lo(o.parent,e);return this._breakAttributes(a,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const t of e.getChildren())this._addToClonedElementsGroup(t);const t=e.id;if(!t)return;let n=this._cloneGroups.get(t);n||(n=new Set,this._cloneGroups.set(t,n)),n.add(e),e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const t of e.getChildren())this._removeFromClonedElementsGroup(t);const t=e.id;if(!t)return;const n=this._cloneGroups.get(t);n&&n.delete(e)}}function Do(e){let t=e.parent;for(;!Ho(t);){if(!t)return;t=t.parent}return t}function Vo(e,t){return e.priority<t.priority||!(e.priority>t.priority)&&e.getIdentity()<t.getIdentity()}function Bo(e){const t=e.nodeBefore;if(t&&t.is("text"))return new lo(t,t.data.length);const n=e.nodeAfter;return n&&n.is("text")?new lo(n,0):e}function Fo(e){if(e.offset==e.parent.data.length)return new lo(e.parent.parent,e.parent.index+1);if(0===e.offset)return new lo(e.parent.parent,e.parent.index);const t=e.parent.data.slice(e.offset);return e.parent._data=e.parent.data.slice(0,e.offset),e.parent.parent._insertChild(e.parent.index+1,new Tn(t)),new lo(e.parent.parent,e.parent.index+1)}function Lo(e,t){const n=e.data.length;return e._data+=t.data,t._remove(),new lo(e,n)}const jo=[Tn,bo,Mn,vo,Oo];function Ho(e){return e&&(e.is("containerElement")||e.is("documentFragment"))}function Wo(e,t){const n=Do(e.start),o=Do(e.end);if(!n||!o||n!==o)throw new an.b("view-writer-invalid-range-container",t)}function Uo(e,t){return null===e.id&&null===t.id}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function qo(e){return"[object Text]"==Object.prototype.toString.call(e)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const $o=e=>e.createTextNode(""),Go=e=>{const t=e.createElement("br");return t.dataset.ckeFiller=!0,t},Ko=(()=>{let e="";for(let t=0;t<7;t++)e+="";return e})();function Jo(e){return qo(e)&&e.data.substr(0,7)===Ko}function Yo(e){return 7==e.data.length&&Jo(e)}function Qo(e){return Jo(e)?e.data.slice(7):e.data}function Xo(e,t){if(t.keyCode==Eo.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(1==e.rangeCount&&e.getRangeAt(0).collapsed){const t=e.getRangeAt(0).startContainer,n=e.getRangeAt(0).startOffset;Jo(t)&&n<=7&&e.collapse(t,0)}}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Zo(e,t,n,o=!1){n=n||function(e,t){return e===t},Array.isArray(e)||(e=Array.from(e)),Array.isArray(t)||(t=Array.from(t));const i=function(e,t,n){const o=ei(e,t,n);if(-1===o)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const i=ti(e,o),r=ti(t,o),s=ei(i,r,n),a=e.length-s,l=t.length-s;return{firstIndex:o,lastIndexOld:a,lastIndexNew:l}}(e,t,n);return o?function(e,t){const{firstIndex:n,lastIndexOld:o,lastIndexNew:i}=e;if(-1===n)return Array(t).fill("equal");let r=[];n>0&&(r=r.concat(Array(n).fill("equal")));i-n>0&&(r=r.concat(Array(i-n).fill("insert")));o-n>0&&(r=r.concat(Array(o-n).fill("delete")));i<t&&(r=r.concat(Array(t-i).fill("equal")));return r}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(i,t.length):function(e,t){const n=[],{firstIndex:o,lastIndexOld:i,lastIndexNew:r}=t;r-o>0&&n.push({index:o,type:"insert",values:e.slice(o,r)});i-o>0&&n.push({index:o+(r-o),type:"delete",howMany:i-o});return n}(t,i)}function ei(e,t,n){for(let o=0;o<Math.max(e.length,t.length);o++)if(void 0===e[o]||void 0===t[o]||!n(e[o],t[o]))return o;return-1}function ti(e,t){return e.slice(t).reverse()}function ni(e,t,n){n=n||function(e,t){return e===t};const o=e.length,i=t.length;if(o>200||i>200||o+i>300)return ni.fastDiff(e,t,n,!0);let r,s;if(i<o){const n=e;e=t,t=n,r="delete",s="insert"}else r="insert",s="delete";const a=e.length,l=t.length,c=l-a,u={},d={};function h(o){const i=(void 0!==d[o-1]?d[o-1]:-1)+1,c=void 0!==d[o+1]?d[o+1]:-1,h=i>c?-1:1;u[o+h]&&(u[o]=u[o+h].slice(0)),u[o]||(u[o]=[]),u[o].push(i>c?r:s);let p=Math.max(i,c),f=p-o;for(;f<a&&p<l&&n(e[f],t[p]);)f++,p++,u[o].push("equal");return p}let p,f=0;do{for(p=-f;p<c;p++)d[p]=h(p);for(p=c+f;p>c;p--)d[p]=h(p);d[c]=h(c),f++}while(d[c]!==l);return u[c].slice(1)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function oi(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ii(e){const t=e.parentNode;t&&t.removeChild(e)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ri(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */ni.fastDiff=Zo;class si{constructor(e,t){this.domDocuments=new Set,this.domConverter=e,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=t,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(e,t){if("text"===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if("attributes"===e)this.markedAttributes.add(t);else{if("children"!==e)throw new an.b("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.",this);this.markedChildren.add(t)}}}render(){let e;for(const e of this.markedChildren)this._updateChildrenMappings(e);this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent));for(const e of this.markedAttributes)this._updateAttrs(e);for(const t of this.markedChildren)this._updateChildren(t,{inlineFillerPosition:e});for(const t of this.markedTexts)!this.markedChildren.has(t.parent)&&this.domConverter.mapViewToDom(t.parent)&&this._updateText(t,{inlineFillerPosition:e});if(e){const t=this.domConverter.viewPositionToDom(e),n=t.parent.ownerDocument;Jo(t.parent)?this._inlineFiller=t.parent:this._inlineFiller=ai(n,t.parent,t.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=this.domConverter.mapViewToDom(e).childNodes,o=Array.from(this.domConverter.viewChildrenToDom(e,t.ownerDocument,{withChildren:!1})),i=this._diffNodeLists(n,o),r=this._findReplaceActions(i,n,o);if(-1!==r.indexOf("replace")){const t={equal:0,insert:0,delete:0};for(const i of r)if("replace"===i){const i=t.equal+t.insert,r=t.equal+t.delete,s=e.getChild(i);s&&!s.is("uiElement")&&this._updateElementMappings(s,n[r]),ii(o[i]),t.equal++}else t[i]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("text")?lo._createBefore(this.selection.getFirstPosition().parent):e}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&qo(t.parent)&&Jo(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Jo(e))throw new an.b("view-renderer-filler-was-lost: The inline filler node was lost.",this);Yo(e)?e.parentNode.removeChild(e):e.data=e.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root))return!1;if(!t.is("element"))return!1;if(!function(e){if("false"==e.getAttribute("contenteditable"))return!1;const t=e.findAncestor(e=>e.hasAttribute("contenteditable"));return!t||"true"==t.getAttribute("contenteditable")}(t))return!1;if(n===t.getFillerOffset())return!1;const o=e.nodeBefore,i=e.nodeAfter;return!(o instanceof Tn||i instanceof Tn)}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e),o=this.domConverter.viewToDom(e,n.ownerDocument),i=n.data;let r=o.data;const s=t.inlineFillerPosition;if(s&&s.parent==e.parent&&s.offset==e.index&&(r=Ko+r),i!=r){const e=Zo(i,r);for(const t of e)"insert"===t.type?n.insertData(t.index,t.values.join("")):n.deleteData(t.index,t.howMany)}}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.attributes).map(e=>e.name),o=e.getAttributeKeys();for(const n of o)t.setAttribute(n,e.getAttribute(n));for(const o of n)e.hasAttribute(o)||t.removeAttribute(o)}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n)return;const o=t.inlineFillerPosition,i=this.domConverter.mapViewToDom(e).childNodes,r=Array.from(this.domConverter.viewChildrenToDom(e,n.ownerDocument,{bind:!0,inlineFillerPosition:o}));o&&o.parent===e&&ai(n.ownerDocument,r,o.offset);const s=this._diffNodeLists(i,r);let a=0;const l=new Set;for(const e of s)"insert"===e?(oi(n,a,r[a]),a++):"delete"===e?(l.add(i[a]),ii(i[a])):(this._markDescendantTextToSync(this.domConverter.domToView(r[a])),a++);for(const e of l)e.parentNode||this.domConverter.unbindDomElement(e)}_diffNodeLists(e,t){return ni(e=function(e,t){const n=Array.from(e);if(0==n.length||!t)return n;n[n.length-1]==t&&n.pop();return n}(e,this._fakeSelectionContainer),t,ci.bind(null,this.domConverter))}_findReplaceActions(e,t,n){if(-1===e.indexOf("insert")||-1===e.indexOf("delete"))return e;let o=[],i=[],r=[];const s={equal:0,insert:0,delete:0};for(const a of e)"insert"===a?r.push(n[s.equal+s.insert]):"delete"===a?i.push(t[s.equal+s.delete]):(o=o.concat(ni(i,r,li).map(e=>"equal"===e?"replace":e)),o.push("equal"),i=[],r=[]),s[a]++;return o.concat(ni(i,r,li).map(e=>"equal"===e?"replace":e))}_markDescendantTextToSync(e){if(e)if(e.is("text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):(this._removeFakeSelection(),this._updateDomSelection(e)))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(e){const t=e.createElement("div");return Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),t.textContent="",t}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(t));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(e))return;n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"";const o=t.getSelection(),i=t.createRange();o.removeAllRanges(),i.selectNodeContents(n),o.addRange(i)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),o=this.domConverter.viewPositionToDom(this.selection.focus);e.focus(),t.collapse(n.parent,n.offset),t.extend(o.parent,o.offset),xo.isGecko&&function(e,t){const n=e.parent;if(n.nodeType!=Node.ELEMENT_NODE||e.offset!=n.childNodes.length-1)return;const o=n.childNodes[e.offset];o&&"BR"==o.tagName&&t.addRange(t.getRangeAt(0))}(o,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||(n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel)}_removeDomSelection(){for(const e of this.domDocuments){if(e.getSelection().rangeCount){const t=e.activeElement,n=this.domConverter.mapDomToView(t);t&&n&&e.getSelection().removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function ai(e,t,n){const o=t instanceof Array?t:t.childNodes,i=o[n];if(qo(i))return i.data=Ko+i.data,i;{const i=e.createTextNode(Ko);return Array.isArray(t)?o.splice(n,0,i):oi(t,n,i),i}}function li(e,t){return ri(e)&&ri(t)&&!qo(e)&&!qo(t)&&e.tagName.toLowerCase()===t.tagName.toLowerCase()}function ci(e,t,n){return t===n||(qo(t)&&qo(n)?t.data===n.data:!(!e.isBlockFiller(t)||!e.isBlockFiller(n)))}_n(si,Qn);var ui={window:window,document:document};
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function di(e){let t=0;for(;e.previousSibling;)e=e.previousSibling,t++;return t}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function hi(e){const t=[];for(;e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const pi=Go(document);class fi{constructor(e={}){this.blockFillerMode=e.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption"],this._blockFiller="br"==this.blockFillerMode?Go:$o,this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new po(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const t of Array.from(e.childNodes))this.unbindDomElement(t)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}viewToDom(e,t,n={}){if(e.is("text")){const n=this._processDataFromViewText(e);return t.createTextNode(n)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);let o;if(e.is("documentFragment"))o=t.createDocumentFragment(),n.bind&&this.bindDocumentFragments(o,e);else{if(e.is("uiElement"))return o=e.render(t),n.bind&&this.bindElements(o,e),o;o=e.hasAttribute("xmlns")?t.createElementNS(e.getAttribute("xmlns"),e.name):t.createElement(e.name),n.bind&&this.bindElements(o,e);for(const t of e.getAttributeKeys())o.setAttribute(t,e.getAttribute(t))}if(n.withChildren||void 0===n.withChildren)for(const i of this.viewChildrenToDom(e,t,n))o.appendChild(i);return o}}*viewChildrenToDom(e,t,n={}){const o=e.getFillerOffset&&e.getFillerOffset();let i=0;for(const r of e.getChildren())o===i&&(yield this._blockFiller(t)),yield this.viewToDom(r,t,n),i++;o===i&&(yield this._blockFiller(t))}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),o=document.createRange();return o.setStart(t.parent,t.offset),o.setEnd(n.parent,n.offset),o}viewPositionToDom(e){const t=e.parent;if(t.is("text")){const n=this.findCorrespondingDomText(t);if(!n)return null;let o=e.offset;return Jo(n)&&(o+=7),{parent:n,offset:o}}{let n,o,i;if(0===e.offset){if(n=this.mapViewToDom(t),!n)return null;i=n.childNodes[0]}else{const t=e.nodeBefore;if(o=t.is("text")?this.findCorrespondingDomText(t):this.mapViewToDom(e.nodeBefore),!o)return null;n=o.parentNode,i=o.nextSibling}if(qo(i)&&Jo(i))return{parent:i,offset:7};return{parent:n,offset:o?di(o)+1:0}}}domToView(e,t={}){if(this.isBlockFiller(e,this.blockFillerMode))return null;const n=this.getParentUIElement(e,this._domToViewMapping);if(n)return n;if(qo(e)){if(Yo(e))return null;{const t=this._processDataFromDomText(e);return""===t?null:new Tn(t)}}if(this.isComment(e))return null;{if(this.mapDomToView(e))return this.mapDomToView(e);let n;if(this.isDocumentFragment(e))n=new Mo,t.bind&&this.bindDocumentFragments(e,n);else{const o=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();n=new On(o),t.bind&&this.bindElements(e,n);const i=e.attributes;for(let e=i.length-1;e>=0;e--)n._setAttribute(i[e].name,i[e].value)}if(t.withChildren||void 0===t.withChildren)for(const o of this.domChildrenToView(e,t))n._appendChild(o);return n}}*domChildrenToView(e,t={}){for(let n=0;n<e.childNodes.length;n++){const o=e.childNodes[n],i=this.domToView(o,t);null!==i&&(yield i)}}domSelectionToView(e){if(1===e.rangeCount){let t=e.getRangeAt(0).startContainer;qo(t)&&(t=t.parentNode);const n=this.fakeSelectionToView(t);if(n)return n}const t=this.isDomSelectionBackward(e),n=[];for(let t=0;t<e.rangeCount;t++){const o=e.getRangeAt(t),i=this.domRangeToView(o);i&&n.push(i)}return new po(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new co(t,n):null}domPositionToView(e,t){if(this.isBlockFiller(e,this.blockFillerMode))return this.domPositionToView(e.parentNode,di(e));const n=this.mapDomToView(e);if(n&&n.is("uiElement"))return lo._createBefore(n);if(qo(e)){if(Yo(e))return this.domPositionToView(e.parentNode,di(e));const n=this.findCorrespondingViewText(e);let o=t;return n?(Jo(e)&&(o-=7,o=o<0?0:o),new lo(n,o)):null}if(0===t){const t=this.mapDomToView(e);if(t)return new lo(t,0)}else{const n=e.childNodes[t-1],o=qo(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(o&&o.parent)return new lo(o.parent,o.index+1)}return null}mapDomToView(e){return this.getParentUIElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Yo(e))return null;const t=this.getParentUIElement(e);if(t)return t;const n=e.previousSibling;if(n){if(!this.isElement(n))return null;const e=this.mapDomToView(n);if(e){return e.nextSibling instanceof Tn?e.nextSibling:null}}else{const t=this.mapDomToView(e.parentNode);if(t){const e=t.getChild(0);return e instanceof Tn?e:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:e,scrollY:n}=ui.window,o=[];gi(t,e=>{const{scrollLeft:t,scrollTop:n}=e;o.push([t,n])}),t.focus(),gi(t,e=>{const[t,n]=o.shift();e.scrollLeft=t,e.scrollTop=n}),ui.window.scrollTo(e,n)}}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(e){return e&&e.nodeType==Node.COMMENT_NODE}isBlockFiller(e){return"br"==this.blockFillerMode?e.isEqualNode(pi):!("BR"!==e.tagName||!bi(e,this.blockElements)||1!==e.parentNode.childNodes.length)||function(e,t){return qo(e)&&""==e.data&&bi(e,t)&&1===e.parentNode.childNodes.length}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=document.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset);const n=t.collapsed;return t.detach(),n}getParentUIElement(e){const t=hi(e);for(t.pop();t.length;){const e=t.pop(),n=this._domToViewMapping.get(e);if(n&&n.is("uiElement"))return n}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}_isDomSelectionPositionCorrect(e,t){if(qo(e)&&Jo(e)&&t<7)return!1;if(this.isElement(e)&&Jo(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!n||!n.is("uiElement")}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(e=>this.preElements.includes(e.name)))return t;if(" "==t.charAt(0)){const n=this._getTouchingViewTextNode(e,!1);!(n&&this._nodeEndsWithSpace(n))&&n||(t=""+t.substr(1))}if(" "==t.charAt(t.length-1)){const n=this._getTouchingViewTextNode(e,!0);" "!=t.charAt(t.length-2)&&n&&" "!=n.data.charAt(0)||(t=t.substr(0,t.length-1)+"")}return t.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(e=>this.preElements.includes(e.name)))return!1;const t=this._processDataFromViewText(e);return" "==t.charAt(t.length-1)}_processDataFromDomText(e){let t=e.data;if(mi(e,this.preElements))return Qo(e);t=t.replace(/[ \n\t\r]{1,}/g," ");const n=this._getTouchingInlineDomNode(e,!1),o=this._getTouchingInlineDomNode(e,!0),i=this._checkShouldLeftTrimDomText(n),r=this._checkShouldRightTrimDomText(e,o);return i&&(t=t.replace(/^ /,"")),r&&(t=t.replace(/ $/,"")),t=Qo(new Text(t)),t=t.replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(t)||!o||o.data&&" "==o.data.charAt(0))&&(t=t.replace(/\u00A0$/," ")),i&&(t=t.replace(/^\u00A0/," ")),t}_checkShouldLeftTrimDomText(e){return!e||(!!on(e)||/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1)))}_checkShouldRightTrimDomText(e,t){return!t&&!Jo(e)}_getTouchingViewTextNode(e,t){const n=new ao({startPosition:t?lo._createAfter(e):lo._createBefore(e),direction:t?"forward":"backward"});for(const e of n){if(e.item.is("containerElement"))return null;if(e.item.is("br"))return null;if(e.item.is("textProxy"))return e.item}return null}_getTouchingInlineDomNode(e,t){if(!e.parentNode)return null;const n=t?"nextNode":"previousNode",o=e.ownerDocument,i=hi(e)[0],r=o.createTreeWalker(i,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:e=>qo(e)?NodeFilter.FILTER_ACCEPT:"BR"==e.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});r.currentNode=e;const s=r[n]();if(null!==s){const t=function(e,t){const n=hi(e),o=hi(t);let i=0;for(;n[i]==o[i]&&n[i];)i++;return 0===i?null:n[i-1]}(e,s);if(t&&!mi(e,this.blockElements,t)&&!mi(s,this.blockElements,t))return s}return null}}function mi(e,t,n){let o=hi(e);return n&&(o=o.slice(o.indexOf(n)+1)),o.some(e=>e.tagName&&t.includes(e.tagName.toLowerCase()))}function gi(e,t){for(;e&&e!=ui.document;)t(e),e=e.parentNode}function bi(e,t){const n=e.parentNode;return n&&n.tagName&&t.includes(n.tagName.toLowerCase())}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function wi(e){const t=Object.prototype.toString.apply(e);return"[object Window]"==t||"[object global]"==t}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var ki=$n({},fn,{listenTo(e,...t){if(ri(e)||wi(e)){const n=this._getProxyEmitter(e)||new vi(e);n.attach(...t),e=n}fn.listenTo.call(this,e,...t)},stopListening(e,t,n){if(ri(e)||wi(e)){const t=this._getProxyEmitter(e);if(!t)return;e=t}fn.stopListening.call(this,e,t,n),e instanceof vi&&e.detach(t)},_getProxyEmitter(e){return t=this,n=_i(e),t[hn]&&t[hn][n]?t[hn][n].emitter:null;var t,n}});class vi{constructor(e){mn(this,_i(e)),this._domNode=e}}function _i(e){return e["data-ck-expando"]||(e["data-ck-expando"]=un())}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */$n(vi.prototype,fn,{attach(e,t,n={}){if(this._domListeners&&this._domListeners[e])return;const o=this._createDomListener(e,!!n.useCapture);this._domNode.addEventListener(e,o,!!n.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[e]=o},detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()},_createDomListener(e,t){const n=t=>{this.fire(e,t)};return n.removeListener=()=>{this._domNode.removeEventListener(e,n,t),delete this._domListeners[e]},n}});class yi{constructor(e){this.view=e,this.document=e.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}}_n(yi,ki);var xi=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Ci=function(e){return this.__data__.has(e)};function Ti(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ve;++t<n;)this.add(e[t])}Ti.prototype.add=Ti.prototype.push=xi,Ti.prototype.has=Ci;var Ei=Ti;var Si=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1};var Pi=function(e,t){return e.has(t)};var Ai=function(e,t,n,o,i,r){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=r.get(e);if(c&&r.get(t))return c==t;var u=-1,d=!0,h=2&n?new Ei:void 0;for(r.set(e,t),r.set(t,e);++u<a;){var p=e[u],f=t[u];if(o)var m=s?o(f,p,u,t,e,r):o(p,f,u,e,t,r);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!Si(t,(function(e,t){if(!Pi(h,t)&&(p===e||i(p,e,n,o,r)))return h.push(t)}))){d=!1;break}}else if(p!==f&&!i(p,f,n,o,r)){d=!1;break}}return r.delete(e),r.delete(t),d};var Ri=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,o){n[++t]=[o,e]})),n};var Oi=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Ni=i?i.prototype:void 0,Ii=Ni?Ni.valueOf:void 0;var Mi=function(e,t,n,o,i,r,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!r(new zt(e),new zt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return C(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=Ri;case"[object Set]":var l=1&o;if(a||(a=Oi),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;o|=2,s.set(e,t);var u=Ai(a(e),a(t),o,i,r,s);return s.delete(e),u;case"[object Symbol]":if(Ii)return Ii.call(e)==Ii.call(t)}return!1},zi=Object.prototype.hasOwnProperty;var Di=function(e,t,n,o,i,r){var s=1&n,a=vt(e),l=a.length;if(l!=vt(t).length&&!s)return!1;for(var c=l;c--;){var u=a[c];if(!(s?u in t:zi.call(t,u)))return!1}var d=r.get(e);if(d&&r.get(t))return d==t;var h=!0;r.set(e,t),r.set(t,e);for(var p=s;++c<l;){var f=e[u=a[c]],m=t[u];if(o)var g=s?o(m,f,u,t,e,r):o(f,m,u,e,t,r);if(!(void 0===g?f===m||i(f,m,n,o,r):g)){h=!1;break}p||(p="constructor"==u)}if(h&&!p){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(h=!1)}return r.delete(e),r.delete(t),h},Vi=Object.prototype.hasOwnProperty;var Bi=function(e,t,n,o,i,r){var s=De(e),a=De(t),l=s?"[object Array]":Nt(e),c=a?"[object Array]":Nt(t),u="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),d="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),h=l==c;if(h&&Object(Ve.a)(e)){if(!Object(Ve.a)(t))return!1;s=!0,u=!1}if(h&&!u)return r||(r=new xe),s||$e(e)?Ai(e,t,n,o,i,r):Mi(e,t,l,n,o,i,r);if(!(1&n)){var p=u&&Vi.call(e,"__wrapped__"),f=d&&Vi.call(t,"__wrapped__");if(p||f){var m=p?e.value():e,g=f?t.value():t;return r||(r=new xe),i(m,g,n,o,r)}}return!!h&&(r||(r=new xe),Di(e,t,n,o,i,r))};var Fi=function e(t,n,o,i,r){return t===n||(null==t||null==n||!g(t)&&!g(n)?t!=t&&n!=n:Bi(t,n,o,i,e,r))};var Li=function(e,t,n){var o=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===o?Fi(e,t,void 0,n):!!o};
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ji extends yi{constructor(e){super(e),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(0===e.length)return;const t=this.domConverter,n=new Map,o=new Set;for(const n of e)if("childList"===n.type){const e=t.mapDomToView(n.target);if(e&&e.is("uiElement"))continue;e&&!this._isBogusBrMutation(n)&&o.add(e)}for(const i of e){const e=t.mapDomToView(i.target);if((!e||!e.is("uiElement"))&&"characterData"===i.type){const e=t.findCorrespondingViewText(i.target);e&&!o.has(e.parent)?n.set(e,{type:"text",oldText:e.data,newText:Qo(i.target),node:e}):!e&&Jo(i.target)&&o.add(t.mapDomToView(i.target.parentNode))}}const i=[];for(const e of n.values())this.renderer.markToSync("text",e.node),i.push(e);for(const e of o){const n=t.mapViewToDom(e),o=Array.from(e.getChildren()),r=Array.from(t.domChildrenToView(n,{withChildren:!1}));Li(o,r,a)||(this.renderer.markToSync("children",e),i.push({type:"children",oldChildren:o,newChildren:r,node:e}))}const r=e[0].target.ownerDocument.getSelection();let s=null;if(r&&r.anchorNode){const e=t.domPositionToView(r.anchorNode,r.anchorOffset),n=t.domPositionToView(r.focusNode,r.focusOffset);e&&n&&(s=new po(e),s.setFocus(n))}function a(e,t){if(!Array.isArray(e))return e===t||!(!e.is("text")||!t.is("text"))&&e.data===t.data}this.document.fire("mutations",i,s),this.view.forceRender()}_isBogusBrMutation(e){let t=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hi{constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,$n(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wi extends yi{constructor(e){super(e),this.useCapture=!1}observe(e){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(e,t)=>{this.isEnabled&&this.onDomEvent(t)},{useCapture:this.useCapture})})}fire(e,t,n){this.isEnabled&&this.document.fire(e,new Hi(this.view,t,n))}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ui extends Wi{constructor(e){super(e),this.domEventType=["keydown","keyup"]}onDomEvent(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,get keystroke(){return So(this)}})}}var qi=function(){return o.a.Date.now()};var $i=function(e){return"symbol"==typeof e||g(e)&&"[object Symbol]"==p(e)},Gi=/^\s+|\s+$/g,Ki=/^[-+]0x[0-9a-f]+$/i,Ji=/^0b[01]+$/i,Yi=/^0o[0-7]+$/i,Qi=parseInt;var Xi=function(e){if("number"==typeof e)return e;if($i(e))return NaN;if(V(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=V(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Gi,"");var n=Ji.test(e);return n||Yi.test(e)?Qi(e.slice(2),n?2:8):Ki.test(e)?NaN:+e},Zi=Math.max,er=Math.min;var tr=function(e,t,n){var o,i,r,s,a,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=o,r=i;return o=i=void 0,c=t,s=e.apply(r,n)}function f(e){return c=e,a=setTimeout(g,t),u?p(e):s}function m(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=r}function g(){var e=qi();if(m(e))return b(e);a=setTimeout(g,function(e){var n=t-(e-l);return d?er(n,r-(e-c)):n}(e))}function b(e){return a=void 0,h&&o?p(e):(o=i=void 0,s)}function w(){var e=qi(),n=m(e);if(o=arguments,i=this,l=e,n){if(void 0===a)return f(l);if(d)return clearTimeout(a),a=setTimeout(g,t),p(l)}return void 0===a&&(a=setTimeout(g,t)),s}return t=Xi(t)||0,V(n)&&(u=!!n.leading,r=(d="maxWait"in n)?Zi(Xi(n.maxWait)||0,t):r,h="trailing"in n?!!n.trailing:h),w.cancel=function(){void 0!==a&&clearTimeout(a),c=0,o=l=i=a=void 0},w.flush=function(){return void 0===a?s:b(qi())},w};
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nr extends yi{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=tr(e=>this.document.fire("selectionChangeDone",e),200)}observe(){const e=this.document;e.on("keydown",(t,n)=>{var o;
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */e.selection.isFake&&((o=n.keyCode)==Eo.arrowright||o==Eo.arrowleft||o==Eo.arrowup||o==Eo.arrowdown)&&this.isEnabled&&(n.preventDefault(),this._handleSelectionMove(n.keyCode))},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new po(t.getRanges(),{backward:t.isBackward,fake:!1});e!=Eo.arrowleft&&e!=Eo.arrowup||n.setTo(n.getFirstPosition()),e!=Eo.arrowright&&e!=Eo.arrowdown||n.setTo(n.getLastPosition());const o={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",o),this._fireSelectionChangeDoneDebounced(o)}}class or extends yi{constructor(e){super(e),this.mutationObserver=e.getObserver(ji),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=tr(e=>this.document.fire("selectionChangeDone",e),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument;this._documents.has(t)||(this.listenTo(t,"selectionchange",()=>{this._handleSelectionChange(t)}),this._documents.add(t))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(e){if(!this.isEnabled||!this.document.isFocused&&!this.document.isReadOnly)return;this.mutationObserver.flush();const t=e.defaultView.getSelection(),n=this.domConverter.domSelectionToView(t);if(!(this.selection.isEqual(n)&&this.domConverter.isDomSelectionCorrect(t)||++this._loopbackCounter>60))if(this.selection.isSimilar(n))this.view.forceRender();else{const e={oldSelection:this.selection,newSelection:n,domSelection:t};this.document.fire("selectionChange",e),this._fireSelectionChangeDoneDebounced(e)}}_clearInfiniteLoop(){this._loopbackCounter=0}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ir extends Wi{constructor(e){super(e),this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{t.isFocused=!0,this._renderTimeoutId=setTimeout(()=>e.forceRender(),50)}),t.on("blur",(n,o)=>{const i=t.selection.editableElement;null!==i&&i!==o.target||(t.isFocused=!1,e.forceRender())})}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rr extends Wi{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0}),t.on("compositionend",()=>{t.isComposing=!1})}onDomEvent(e){this.fire(e.type,e)}}
/**
 * @license Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class sr extends Wi{constructor(e){super(e),this.domEventType=["beforeinput"]}onDomEvent(e){this.fire(e.type,e)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ar(e){return"[object Range]"==Object.prototype.toString.apply(e)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function lr(e){const t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const cr=["top","right","bottom","left","width","height"];class ur{constructor(e){const t=ar(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),on(e)||t)dr(this,t?ur.getDomRangeRects(e)[0]:e.getBoundingClientRect());else if(wi(e)){const{innerWidth:t,innerHeight:n}=e;dr(this,{top:0,right:t,bottom:n,left:0,width:t,height:n})}else dr(this,e)}clone(){return new ur(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left)};return t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0?null:new ur(t)}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(!hr(e)){let n=e.parentNode||e.commonAncestorContainer;for(;n&&!hr(n);){const e=new ur(n),o=t.getIntersection(e);if(!o)return null;o.getArea()<t.getArea()&&(t=o),n=n.parentNode}}return t}isEqual(e){for(const t of cr)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let t,n,o;if(wi(e))t=e.innerWidth-e.document.documentElement.clientWidth,n=e.innerHeight-e.document.documentElement.clientHeight,o=e.getComputedStyle(e.document.documentElement).direction;else{const i=lr(this._source);t=e.offsetWidth-e.clientWidth-i.left-i.right,n=e.offsetHeight-e.clientHeight-i.top-i.bottom,o=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=i.left,this.top+=i.top,this.right-=i.right,this.bottom-=i.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,"ltr"===o?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}static getDomRangeRects(e){const t=[],n=Array.from(e.getClientRects());if(n.length)for(const e of n)t.push(new ur(e));else{let n=e.startContainer;qo(n)&&(n=n.parentNode);const o=new ur(n.getBoundingClientRect());o.right=o.left,o.width=0,t.push(o)}return t}}function dr(e,t){for(const n of cr)e[n]=t[n]}function hr(e){return!!on(e)&&e===e.ownerDocument.body}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function pr({target:e,viewportOffset:t=0}){const n=vr(e);let o=n,i=null;for(;o;){let r;r=_r(o==n?e:i),mr(r,()=>yr(e,o));const s=yr(e,o);if(fr(o,s,t),o.parent!=o){if(i=o.frameElement,o=o.parent,!i)return}else o=null}}function fr(e,t,n){const o=t.clone().moveBy(0,n),i=t.clone().moveBy(0,-n),r=new ur(e).excludeScrollbarsAndBorders();if(![i,o].every(e=>r.contains(e))){let{scrollX:s,scrollY:a}=e;br(i,r)?a-=r.top-t.top+n:gr(o,r)&&(a+=t.bottom-r.bottom+n),wr(t,r)?s-=r.left-t.left+n:kr(t,r)&&(s+=t.right-r.right+n),e.scrollTo(s,a)}}function mr(e,t){const n=vr(e);let o,i;for(;e!=n.document.body;)i=t(),o=new ur(e).excludeScrollbarsAndBorders(),o.contains(i)||(br(i,o)?e.scrollTop-=o.top-i.top:gr(i,o)&&(e.scrollTop+=i.bottom-o.bottom),wr(i,o)?e.scrollLeft-=o.left-i.left:kr(i,o)&&(e.scrollLeft+=i.right-o.right)),e=e.parentNode}function gr(e,t){return e.bottom>t.bottom}function br(e,t){return e.top<t.top}function wr(e,t){return e.left<t.left}function kr(e,t){return e.right>t.right}function vr(e){return ar(e)?e.startContainer.ownerDocument.defaultView:e.ownerDocument.defaultView}function _r(e){if(ar(e)){let t=e.commonAncestorContainer;return qo(t)&&(t=t.parentNode),t}return e.parentNode}function yr(e,t){const n=vr(e),o=new ur(e);if(n===t)return o;{let e=n;for(;e!=t;){const t=e.frameElement,n=new ur(t).excludeScrollbarsAndBorders();o.moveBy(n.left,n.top),e=e.parent}}return o}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.assign({},{scrollViewportToShowTarget:pr,scrollAncestorsToShowTarget:function(e){mr(_r(e),()=>new ur(e))}});class xr{constructor(){this.document=new go,this.domConverter=new fi,this.domRoots=new Map,this.set("isRenderingInProgress",!1),this._renderer=new si(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new zo(this.document),this.addObserver(ji),this.addObserver(or),this.addObserver(ir),this.addObserver(Ui),this.addObserver(nr),this.addObserver(rr),xo.isAndroid&&this.addObserver(sr),this.document.on("keydown",Xo),No(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(e,t="main"){const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const o={};for(const{name:t,value:i}of Array.from(e.attributes))o[t]=i,"class"===t?this._writer.addClass(i.split(" "),n):this._writer.setAttribute(t,i,n);this._initialDomRootAttributes.set(e,o);const i=()=>{this._writer.setAttribute("contenteditable",!n.isReadOnly,n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};i(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",(e,t)=>this._renderer.markToSync("children",t)),n.on("change:attributes",(e,t)=>this._renderer.markToSync("attributes",t)),n.on("change:text",(e,t)=>this._renderer.markToSync("text",t)),n.on("change:isReadOnly",()=>this.change(i)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const n of this._observers.values())n.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:e})=>t.removeAttribute(e));const n=this._initialDomRootAttributes.get(t);for(const e in n)t.setAttribute(e,n[e]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[e,n]of this.domRoots)t.observe(n,e);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection(){const e=this.document.selection.getFirstRange();e&&pr({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new an.b("cannot-change-view-tree: Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behavior and inconsistency between the DOM and the view.",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(e){an.b.rethrowUnexpectedError(e,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return lo._createAt(e,t)}createPositionAfter(e){return lo._createAfter(e)}createPositionBefore(e){return lo._createBefore(e)}createRange(e,t){return new co(e,t)}createRangeOn(e){return co._createOn(e)}createRangeIn(e){return co._createIn(e)}createSelection(e,t,n){return new po(e,t,n)}_disableRendering(e){this._renderingDisabled=e,0==e&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function Cr(e){return y(e)?Sn(e):new Map(e)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */_n(xr,Qn);class Tr{constructor(e){this.parent=null,this._attrs=Cr(e)}get index(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new an.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}get startOffset(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new an.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}get document(){return this.root==this?null:this.root.document||null}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),o=e.getAncestors(t);let i=0;for(;n[i]==o[i]&&n[i];)i++;return 0===i?null:n[i-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),o=yn(t,n);switch(o){case"prefix":return!0;case"extension":return!1;default:return t[o]<n[o]}}isAfter(e){return this!=e&&(this.root===e.root&&!this.isBefore(e))}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((e,t)=>(e[t[0]]=t[1],e),{})),e}is(e){return"node"==e||"model:node"==e}_clone(){return new Tr(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=Cr(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Er extends Tr{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}is(e){return"text"==e||"model:text"==e||super.is(e)}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Er(this.data,this.getAttributes())}static fromJSON(e){return new Er(e.data,e.attributes)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Sr{constructor(e,t,n){if(this.textNode=e,t<0||t>e.offsetSize)throw new an.b("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(n<0||t+n>e.offsetSize)throw new an.b("model-textproxy-wrong-length: Given length value is incorrect.",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(e){return"textProxy"==e||"model:textProxy"==e}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Pr{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return-1==t?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return null===t?null:this._nodes.slice(0,t).reduce((e,t)=>e+t.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new an.b("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize)return this.getNodeIndex(n);t+=n.offsetSize}if(t!=e)throw new an.b("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const e of t)if(!(e instanceof Tr))throw new an.b("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.",this);this._nodes.splice(e,0,...t)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ar extends Tr{constructor(e,t,n){super(t),this.name=e,this._children=new Pr,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(e,t=null){const n=e.replace(/^model:/,"");return t?"element"==n&&t==this.name:"element"==n||n==this.name||super.is(e)}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(e=>e._clone(!0)):null;return new Ar(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(e){if("string"==typeof e)return[new Er(e)];Pn(e)||(e=[e]);return Array.from(e).map(e=>"string"==typeof e?new Er(e):e instanceof Sr?new Er(e.data,e.getAttributes()):e)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(t);for(const e of n)null!==e.parent&&e._remove(),e.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const e of n)e.parent=null;return n}static fromJSON(e){let t=null;if(e.children){t=[];for(const n of e.children)n.name?t.push(Ar.fromJSON(n)):t.push(Er.fromJSON(n))}return new Ar(e.name,e.attributes,t)}}class Rr{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new an.b("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);const t=e.direction||"forward";if("forward"!=t&&"backward"!=t)throw new an.b("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this.position=e.startPosition.clone():this.position=Ir._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(e){let t,n,o,i;do{o=this.position,i=this._visitedParent,({done:t,value:n}=this.next())}while(!t&&e(n));t||(this.position=o,this._visitedParent=i)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&t.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};const o=t.textNode?t.textNode:t.nodeAfter;if(o instanceof Ar)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=o),this.position=t,Or("elementStart",o,e,t,1);if(o instanceof Er){let i;if(this.singleCharacters)i=1;else{let e=o.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<e&&(e=this.boundaries.end.offset),i=e-t.offset}const r=t.offset-o.startOffset,s=new Sr(o,r,i);return t.offset+=i,this.position=t,Or("text",s,e,t,i)}return t.path.pop(),t.offset++,this.position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Or("elementEnd",n,e,t)}_previous(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};const o=t.textNode?t.textNode:t.nodeBefore;if(o instanceof Ar)return t.offset--,this.shallow?(this.position=t,Or("elementStart",o,e,t,1)):(t.path.push(o.maxOffset),this.position=t,this._visitedParent=o,this.ignoreElementEnd?this._previous():Or("elementEnd",o,e,t));if(o instanceof Er){let i;if(this.singleCharacters)i=1;else{let e=o.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>e&&(e=this.boundaries.start.offset),i=t.offset-e}const r=t.offset-o.startOffset,s=new Sr(o,r-i,i);return t.offset-=i,this.position=t,Or("text",s,e,t,i)}return t.path.pop(),this.position=t,this._visitedParent=n.parent,Or("elementStart",n,e,t,1)}}function Or(e,t,n,o,i){return{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:o,length:i}}}var Nr=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ir{constructor(e,t,n="toNone"){if(!e.is("element")&&!e.is("documentFragment"))throw new an.b("model-position-root-invalid: Position root invalid.",e);if(!(t instanceof Array)||0===t.length)throw new an.b("model-position-path-incorrect-format: Position path must be an array with at least one item.",e,{path:t});t=e.getPath().concat(t),e=e.root,this.root=e,this.path=t,this.stickiness=n}get offset(){return Nr(this.path)}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new an.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});if(e.is("text"))throw new an.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){const e=this.parent.getChild(this.index);return e instanceof Er&&e.startOffset<this.offset?e:null}get nodeAfter(){return null===this.textNode?this.parent.getChild(this.index):null}get nodeBefore(){return null===this.textNode?this.parent.getChild(this.index-1):null}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=yn(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new Rr(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonPath(e){if(this.root!=e.root)return[];const t=yn(this.path,e.path),n="string"==typeof t?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let o=0;for(;t[o]==n[o]&&t[o];)o++;return 0===o?null:t[o-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return"after"==this.compareWith(e)}isBefore(e){return"before"==this.compareWith(e)}isEqual(e){return"same"==this.compareWith(e)}isTouching(e){let t=null,n=null;switch(this.compareWith(e)){case"same":return!0;case"before":t=Ir._createAt(this),n=Ir._createAt(e);break;case"after":t=Ir._createAt(e),n=Ir._createAt(this);break;default:return!1}let o=t.parent;for(;t.path.length+n.path.length;){if(t.isEqual(n))return!0;if(t.path.length>n.path.length){if(t.offset!==o.maxOffset)return!1;t.path=t.path.slice(0,-1),o=o.parent,t.offset++}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1)}}}is(e){return"position"==e||"model:position"==e}hasSameParentAs(e){if(this.root!==e.root)return!1;return"same"==yn(this.getParentPath(),e.getParentPath())}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=Ir._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let n;return t.containsPosition(this)||t.start.isEqual(this)?(n=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(n=n._getTransformedByDeletion(e.deletionPosition,1))):n=this.isEqual(e.deletionPosition)?Ir._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),n}_getTransformedByDeletion(e,t){const n=Ir._createAt(this);if(this.root!=e.root)return n;if("same"==yn(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if("prefix"==yn(e.getParentPath(),this.getParentPath())){const o=e.path.length-1;if(e.offset<=this.path[o]){if(e.offset+t>this.path[o])return null;n.path[o]-=t}}return n}_getTransformedByInsertion(e,t){const n=Ir._createAt(this);if(this.root!=e.root)return n;if("same"==yn(e.getParentPath(),this.getParentPath()))(e.offset<this.offset||e.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=t);else if("prefix"==yn(e.getParentPath(),this.getParentPath())){const o=e.path.length-1;e.offset<=this.path[o]&&(n.path[o]+=t)}return n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return Ir._createAt(this);const o=this._getTransformedByDeletion(e,n);return null===o||e.isEqual(this)&&"toNext"==this.stickiness||e.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(e,t):o._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,o=Ir._createAt(t);return o.stickiness=this.stickiness,o.offset=o.offset+this.path[n]-e.offset,o.path=o.path.concat(this.path.slice(n+1)),o}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n="toNone"){if(e instanceof Ir)return new Ir(e.root,e.path,e.stickiness);{const o=e;if("end"==t)t=o.maxOffset;else{if("before"==t)return this._createBefore(o,n);if("after"==t)return this._createAfter(o,n);if(0!==t&&!t)throw new an.b("model-createPositionAt-offset-required: Model#createPositionAt() requires the offset when the first parameter is a model item.",[this,e])}if(!o.is("element")&&!o.is("documentFragment"))throw new an.b("model-position-parent-incorrect: Position parent have to be a element or document fragment.",[this,e]);const i=o.getPath();return i.push(t),new this(o.root,i,n)}}static _createAfter(e,t){if(!e.parent)throw new an.b("model-position-after-root: You cannot make a position after root.",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new an.b("model-position-before-root: You cannot make a position before root.",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if("$graveyard"===e.root){const n=new Ir(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new an.b("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",t,{rootName:e.root});return new Ir(t.getRoot(e.root),e.path,e.stickiness)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Mr{constructor(e,t=null){this.start=Ir._createAt(e),this.end=t?Ir._createAt(t):Ir._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Rr({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==yn(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),o=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&o}containsItem(e){const t=Ir._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}is(e){return"range"==e||"model:range"==e}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Mr(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Mr(e.end,this.end))):t.push(new Mr(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new Mr(t,n)}return null}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=Ir._createAt(this.start);let o=n.parent;for(;n.path.length>t+1;){const t=o.maxOffset-n.offset;0!==t&&e.push(new Mr(n,n.getShiftedBy(t))),n.path=n.path.slice(0,-1),n.offset++,o=o.parent}for(;n.path.length<=this.end.path.length;){const t=this.end.path[n.path.length-1],o=t-n.offset;0!==o&&e.push(new Mr(n,n.getShiftedBy(o))),n.offset=t,n.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Rr(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Rr(e);for(const e of t)yield e.item}*getPositions(e={}){e.boundaries=this;const t=new Rr(e);yield t.position;for(const e of t)yield e.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Mr(this.start,this.end)]}getTransformedByOperations(e){const t=[new Mr(this.start,this.end)];for(const n of e)for(let e=0;e<t.length;e++){const o=t[e].getTransformedByOperation(n);t.splice(e,1,...o),e+=o.length-1}for(let e=0;e<t.length;e++){const n=t[e];for(let o=e+1;o<t.length;o++){const e=t[o];(n.containsRange(e)||e.containsRange(n)||n.isEqual(e))&&t.splice(o,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const n=e.sourcePosition,o=e.howMany,i=e.targetPosition;return this._getTransformedByMove(n,i,o,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new Mr(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Mr(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=Ir._createAt(n),t.offset=0):(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new Mr(t,n)):new Mr(t,n)}_getTransformedByInsertion(e,t,n=!1){if(n&&this.containsPosition(e))return[new Mr(this.start,e),new Mr(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const n=new Mr(this.start,this.end);return n.start=n.start._getTransformedByInsertion(e,t),n.end=n.end._getTransformedByInsertion(e,t),[n]}}_getTransformedByMove(e,t,n,o=!1){if(this.isCollapsed){const o=this.start._getTransformedByMove(e,t,n);return[new Mr(o)]}const i=Mr._createFromPositionAndShift(e,n),r=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!o&&(i.containsPosition(this.start)||i.containsPosition(this.end))){const o=this.start._getTransformedByMove(e,t,n),i=this.end._getTransformedByMove(e,t,n);return[new Mr(o,i)]}let s;const a=this.getDifference(i);let l=null;const c=this.getIntersection(i);if(1==a.length?l=new Mr(a[0].start._getTransformedByDeletion(e,n),a[0].end._getTransformedByDeletion(e,n)):2==a.length&&(l=new Mr(this.start,this.end._getTransformedByDeletion(e,n))),s=l?l._getTransformedByInsertion(r,n,null!==c||o):[],c){const e=new Mr(c.start._getCombined(i.start,r),c.end._getCombined(i.start,r));2==s.length?s.splice(1,0,e):s.push(e)}return s}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),o=this.end._getTransformedByDeletion(e,t);return null==n&&null==o?null:(null==n&&(n=e),null==o&&(o=e),new Mr(n,o))}static _createFromPositionAndShift(e,t){const n=e,o=e.getShiftedBy(t);return t>0?new this(n,o):new this(o,n)}static _createIn(e){return new this(Ir._createAt(e,0),Ir._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Ir._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(0===e.length)throw new an.b("range-create-from-ranges-empty-array: At least one range has to be passed.",null);if(1==e.length)return e[0].clone();const t=e[0];e.sort((e,t)=>e.start.isAfter(t.start)?1:-1);const n=e.indexOf(t),o=new this(t.start,t.end);if(n>0)for(let t=n-1;e[t].end.isEqual(o.start);t++)o.start=Ir._createAt(e[t].start);for(let t=n+1;t<e.length&&e[t].start.isEqual(o.end);t++)o.end=Ir._createAt(e[t].end);return o}static fromJSON(e,t){return new this(Ir.fromJSON(e.start,t),Ir.fromJSON(e.end,t))}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zr{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const n=this._modelToViewMapping.get(t.modelPosition.parent);t.viewPosition=this._findPositionIn(n,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const n=this.findMappedViewAncestor(t.viewPosition),o=this._viewToModelMapping.get(n),i=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=Ir._createAt(o,i)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e){const t=this.toModelElement(e);if(this._viewToModelMapping.delete(e),this._elementToMarkerNames.has(e))for(const t of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(t);this._modelToViewMapping.get(t)==e&&this._modelToViewMapping.delete(t)}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const o=this._elementToMarkerNames.get(e)||new Set;o.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,o)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);n&&(n.delete(e),0==n.size&&this._markerNameToElements.delete(t));const o=this._elementToMarkerNames.get(e);o&&(o.delete(t),0==o.size&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Mr(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new co(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={isPhantom:!1}){const n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const e of t)if(e.is("attributeElement"))for(const t of e.getElementsWithSameId())n.add(t);else n.add(e);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,n){if(n!=e){return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e)}if(e.is("text"))return t;let o=0;for(let n=0;n<t;n++)o+=this.getModelLength(e.getChild(n));return o}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name)){return this._viewToModelLengthCallbacks.get(e.name)(e)}if(this._viewToModelMapping.has(e))return 1;if(e.is("text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const n of e.getChildren())t+=this.getModelLength(n);return t}}_findPositionIn(e,t){let n,o=0,i=0,r=0;if(e.is("text"))return new lo(e,t);for(;i<t;)n=e.getChild(r),o=this.getModelLength(n),i+=o,r++;return i==t?this._moveViewPositionToTextNode(new lo(e,r)):this._findPositionIn(n,t-(i-o))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,n=e.nodeAfter;return t instanceof Tn?new lo(t,t.data.length):n instanceof Tn?new lo(n,0):e}}_n(zr,fn);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Dr{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=Vr(t),e instanceof Sr&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=Vr(t),e instanceof Sr&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=Vr(t),e instanceof Sr&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);if(void 0===n)return null;const o=n.get(t);return void 0===o?null:o}revert(e,t){t=Vr(t),e instanceof Sr&&(e=this._getSymbolForTextProxy(e));const n=this.test(e,t);return!1===n?(this._consumable.get(e).set(t,!0),!0):!0!==n&&null}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const o=n.get(e.endOffset);o&&(t=o.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e.startOffset,e.endOffset,e.parent)),t}_addSymbolForTextProxy(e,t,n){const o=Symbol("textProxySymbol");let i,r;return i=this._textProxyRegistry.get(e),i||(i=new Map,this._textProxyRegistry.set(e,i)),r=i.get(t),r||(r=new Map,i.set(t,r)),r.set(n,o),o}}function Vr(e){const t=e.split(":");return t.length>1?t[0]+":"+t[1]:t[0]}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Br{constructor(e){this.conversionApi=$n({dispatcher:this},e)}convertChanges(e,t,n){for(const t of e.getMarkersToRemove())this.convertMarkerRemove(t.name,t.range,n);for(const t of e.getChanges())"insert"==t.type?this.convertInsert(Mr._createFromPositionAndShift(t.position,t.length),n):"remove"==t.type?this.convertRemove(t.position,t.length,t.name,n):this.convertAttribute(t.range,t.attributeKey,t.attributeOldValue,t.attributeNewValue,n);for(const e of this.conversionApi.mapper.flushUnboundMarkerNames()){const o=t.get(e).getRange();this.convertMarkerRemove(e,o,n),this.convertMarkerAdd(e,o,n)}for(const t of e.getMarkersToAdd())this.convertMarkerAdd(t.name,t.range,n)}convertInsert(e,t){this.conversionApi.writer=t,this.conversionApi.consumable=this._createInsertConsumable(e);for(const t of e){const e=t.item,n={item:e,range:Mr._createFromPositionAndShift(t.previousPosition,t.length)};this._testAndFire("insert",n);for(const t of e.getAttributeKeys())n.attributeKey=t,n.attributeOldValue=null,n.attributeNewValue=e.getAttribute(t),this._testAndFire(`attribute:${t}`,n)}this._clearConversionApi()}convertRemove(e,t,n,o){this.conversionApi.writer=o,this.fire("remove:"+n,{position:e,length:t},this.conversionApi),this._clearConversionApi()}convertAttribute(e,t,n,o,i){this.conversionApi.writer=i,this.conversionApi.consumable=this._createConsumableForRange(e,`attribute:${t}`);for(const i of e){const e={item:i.item,range:Mr._createFromPositionAndShift(i.previousPosition,i.length),attributeKey:t,attributeOldValue:n,attributeNewValue:o};this._testAndFire(`attribute:${t}`,e)}this._clearConversionApi()}convertSelection(e,t,n){const o=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(e,o),this.fire("selection",{selection:e},this.conversionApi),e.isCollapsed){for(const t of o){const n=t.getRange();if(!Fr(e.getFirstPosition(),t,this.conversionApi.mapper))continue;const o={item:e,markerName:t.name,markerRange:n};this.conversionApi.consumable.test(e,"addMarker:"+t.name)&&this.fire("addMarker:"+t.name,o,this.conversionApi)}for(const t of e.getAttributeKeys()){const n={item:e,range:e.getFirstRange(),attributeKey:t,attributeOldValue:null,attributeNewValue:e.getAttribute(t)};this.conversionApi.consumable.test(e,"attribute:"+n.attributeKey)&&this.fire("attribute:"+n.attributeKey+":$text",n,this.conversionApi)}this._clearConversionApi()}}convertMarkerAdd(e,t,n){if(!t.root.document||"$graveyard"==t.root.rootName)return;this.conversionApi.writer=n;const o="addMarker:"+e,i=new Dr;if(i.add(t,o),this.conversionApi.consumable=i,this.fire(o,{markerName:e,markerRange:t},this.conversionApi),i.test(t,o)){this.conversionApi.consumable=this._createConsumableForRange(t,o);for(const n of t.getItems()){if(!this.conversionApi.consumable.test(n,o))continue;const i={item:n,range:Mr._createOn(n),markerName:e,markerRange:t};this.fire(o,i,this.conversionApi)}this._clearConversionApi()}}convertMarkerRemove(e,t,n){t.root.document&&"$graveyard"!=t.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+e,{markerName:e,markerRange:t},this.conversionApi),this._clearConversionApi())}_createInsertConsumable(e){const t=new Dr;for(const n of e){const e=n.item;t.add(e,"insert");for(const n of e.getAttributeKeys())t.add(e,"attribute:"+n)}return t}_createConsumableForRange(e,t){const n=new Dr;for(const o of e.getItems())n.add(o,t);return n}_createSelectionConsumable(e,t){const n=new Dr;n.add(e,"selection");for(const o of t)n.add(e,"addMarker:"+o.name);for(const t of e.getAttributeKeys())n.add(e,"attribute:"+t);return n}_testAndFire(e,t){if(!this.conversionApi.consumable.test(t.item,e))return;const n=t.item.name||"$text";this.fire(e+":"+n,t,this.conversionApi)}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}function Fr(e,t,n){const o=t.getRange(),i=Array.from(e.getAncestors());return i.shift(),i.reverse(),!i.some(e=>{if(o.containsItem(e)){return!!n.toViewElement(e).getCustomProperty("addHighlight")}})}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */_n(Br,fn);class Lr{constructor(e,t,n){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,e&&this.setTo(e,t,n)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const o of e._ranges)if(t.isEqual(o)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Mr(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new Mr(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new Mr(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(e,t,n){if(null===e)this._setRanges([]);else if(e instanceof Lr)this._setRanges(e.getRanges(),e.isBackward);else if(e&&"function"==typeof e.getRanges)this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof Mr)this._setRanges([e],!!t&&!!t.backward);else if(e instanceof Ir)this._setRanges([new Mr(e)]);else if(e instanceof Tr){const o=!!n&&!!n.backward;let i;if("in"==t)i=Mr._createIn(e);else if("on"==t)i=Mr._createOn(e);else{if(void 0===t)throw new an.b("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",[this,e]);i=new Mr(Ir._createAt(e,t))}this._setRanges([i],o)}else{if(!Pn(e))throw new an.b("model-selection-setTo-not-selectable: Cannot set the selection to the given place.",[this,e]);this._setRanges(e,t&&!!t.backward)}}_setRanges(e,t=!1){const n=(e=Array.from(e)).some(t=>{if(!(t instanceof Mr))throw new an.b("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.",[this,e]);return this._ranges.every(e=>!e.isEqual(t))});if(e.length!==this._ranges.length||n){this._removeAllRanges();for(const t of e)this._pushRange(t);this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0})}}setFocus(e,t){if(null===this.anchor)throw new an.b("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",[this,e]);const n=Ir._createAt(e,t);if("same"==n.compareWith(this.focus))return;const o=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(o)?(this._pushRange(new Mr(n,o)),this._lastRangeBackward=!0):(this._pushRange(new Mr(o,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){if(1!==this.rangeCount)return null;const e=this.getFirstRange(),t=e.start.nodeAfter,n=e.end.nodeBefore;return t instanceof Ar&&t==n?t:null}is(e){return"selection"==e||"model:selection"==e}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=Wr(t.start,e);n&&Ur(n,t)&&(yield n);for(const n of t.getWalker()){const o=n.item;"elementEnd"==n.type&&Hr(o,e,t)&&(yield o)}const o=Wr(t.end,e);o&&!t.end.isTouching(Ir._createAt(o,0))&&Ur(o,t)&&(yield o)}}containsEntireContent(e=this.anchor.root){const t=Ir._createAt(e,0),n=Ir._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new Mr(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new an.b("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function jr(e,t){return!t.has(e)&&(t.add(e),e.document.model.schema.isBlock(e)&&e.parent)}function Hr(e,t,n){return jr(e,t)&&Ur(e,n)}function Wr(e,t){const n=e.parent.document.model.schema,o=e.parent.getAncestors({parentFirst:!0,includeSelf:!0});let i=!1;const r=o.find(e=>!i&&(i=n.isLimit(e),!i&&jr(e,t)));return o.forEach(e=>t.add(e)),r}function Ur(e,t){const n=function(e){const t=e.document.model.schema;let n=e.parent;for(;n;){if(t.isBlock(n))return n;n=n.parent}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(e);return!n||!t.containsRange(Mr._createOn(n),!0)}_n(Lr,fn);class qr extends Mr{constructor(e,t){super(e,t),$r.call(this)}detach(){this.stopListening()}is(e){return"liveRange"==e||"model:liveRange"==e||super.is(e)}toRange(){return new Mr(this.start,this.end)}static fromRange(e){return new qr(e.start,e.end)}}function $r(){this.listenTo(this.root.document.model,"applyOperation",(e,t)=>{const n=t[0];n.isDocumentOperation&&Gr.call(this,n)},{priority:"low"})}function Gr(e){const t=this.getTransformedByOperation(e),n=Mr._createFromRanges(t),o=!n.isEqual(this),i=function(e,t){switch(t.type){case"insert":return e.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return e.containsPosition(t.sourcePosition)||e.start.isEqual(t.sourcePosition)||e.containsPosition(t.targetPosition);case"split":return e.containsPosition(t.splitPosition)||e.containsPosition(t.insertionPosition)}return!1}(this,e);let r=null;if(o){"$graveyard"==n.root.rootName&&(r="remove"==e.type?e.sourcePosition:e.deletionPosition);const t=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",t,{deletionPosition:r})}else i&&this.fire("change:content",this.toRange(),{deletionPosition:r})}_n(qr,fn);class Kr{constructor(e){this._selection=new Jr(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}is(e){return"selection"==e||"model:selection"==e||"documentSelection"==e||"model:documentSelection"==e}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(e,t,n){this._selection.setTo(e,t,n)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return"selection:"+e}static _isStoreAttributeKey(e){return e.startsWith("selection:")}}_n(Kr,fn);class Jr extends Lr{constructor(e){super(),this.markers=new mo({idProperty:"name"}),this._model=e.model,this._document=e,this._attributePriority=new Map,this._fixGraveyardRangesData=[],this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this.listenTo(this._model,"applyOperation",(e,t)=>{const n=t[0];if(n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type){for(;this._fixGraveyardRangesData.length;){const{liveRange:e,sourcePosition:t}=this._fixGraveyardRangesData.shift();this._fixGraveyardSelection(e,t)}this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1}))}},{priority:"lowest"}),this.on("change:range",()=>{for(const e of this.getRanges())if(!this._document._validateSelectionRange(e))throw new an.b("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",this,{range:e})}),this.listenTo(this._model.markers,"update",()=>this._updateMarkers()),this.listenTo(this._document,"change",(e,t)=>{!function(e,t){const n=e.document.differ;for(const o of n.getChanges()){if("insert"!=o.type)continue;const n=o.position.parent;o.length===n.maxOffset&&e.enqueueChange(t,e=>{const t=Array.from(n.getAttributeKeys()).filter(e=>e.startsWith("selection:"));for(const o of t)e.removeAttribute(o,n)})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(this._model,t)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(e,t,n){super.setTo(e,t,n),this._updateAttributes(!0)}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0)}setAttribute(e,t){if(this._setAttribute(e,t)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=un();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new an.b("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=qr.fromRange(e);return t.on("change:range",(e,n,o)=>{this._hasChangedRange=!0,t.root==this._document.graveyard&&this._fixGraveyardRangesData.push({liveRange:t,sourcePosition:o.deletionPosition})}),t}_updateMarkers(){const e=[];for(const t of this._model.markers){const n=t.getRange();for(const o of this.getRanges())n.containsRange(o,!o.isCollapsed)&&e.push(t)}for(const t of e)this.markers.has(t)||this.markers.add(t);for(const t of Array.from(this.markers))e.includes(t)||this.markers.remove(t)}_updateAttributes(e){const t=Cr(this._getSurroundingAttributes()),n=Cr(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[e,t]of this._attributePriority)"low"==t&&(this._attrs.delete(e),this._attributePriority.delete(e));this._setAttributesTo(t);const o=[];for(const[e,t]of this.getAttributes())n.has(e)&&n.get(e)===t||o.push(e);for(const[e]of n)this.hasAttribute(e)||o.push(e);o.length>0&&this.fire("change:attribute",{attributeKeys:o,directChange:!1})}_setAttribute(e,t,n=!0){const o=n?"normal":"low";return("low"!=o||"normal"!=this._attributePriority.get(e))&&(super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,o),!0))}_removeAttribute(e,t=!0){const n=t?"normal":"low";return("low"!=n||"normal"!=this._attributePriority.get(e))&&(this._attributePriority.set(e,n),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[t,n]of this.getAttributes())e.get(t)!==n&&this._removeAttribute(t,!1);for(const[n,o]of e){this._setAttribute(n,o,!1)&&t.add(n)}return t}*_getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())if(t.startsWith("selection:")){const n=t.substr("selection:".length);yield[n,e.getAttribute(t)]}}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;let n=null;if(this.isCollapsed){const t=e.textNode?e.textNode:e.nodeBefore,o=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=Yr(t)),n||(n=Yr(o)),!this.isGravityOverridden&&!n){let e=t;for(;e&&!n;)e=e.previousSibling,n=Yr(e)}if(!n){let e=o;for(;e&&!n;)e=e.nextSibling,n=Yr(e)}n||(n=this._getStoredAttributes())}else{const e=this.getFirstRange();for(const o of e){if(o.item.is("element")&&t.isObject(o.item))break;if("text"==o.type){n=o.item.getAttributes();break}}}return n}_fixGraveyardSelection(e,t){const n=t.clone(),o=this._model.schema.getNearestSelectionRange(n),i=this._ranges.indexOf(e);if(this._ranges.splice(i,1),e.detach(),o){const e=this._prepareRange(o);this._ranges.splice(i,0,e)}}}function Yr(e){return e instanceof Sr||e instanceof Er?e.getAttributes():null}class Qr{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}var Xr=function(e){return tn(e,5)};
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Zr extends Qr{elementToElement(e){return this.add(function(e){return(e=Xr(e)).view=ts(e.view,"container"),t=>{var n;t.on("insert:"+e.model,(n=e.view,(e,t,o)=>{const i=n(t.item,o.writer);if(!i)return;if(!o.consumable.consume(t.item,"insert"))return;const r=o.mapper.toViewPosition(t.range.start);o.mapper.bindElements(t.item,i),o.writer.insert(r,i)}),{priority:e.converterPriority||"normal"})}}(e))}attributeToElement(e){return this.add(function(e){let t="attribute:"+((e=Xr(e)).model.key?e.model.key:e.model);e.model.name&&(t+=":"+e.model.name);if(e.model.values)for(const t of e.model.values)e.view[t]=ts(e.view[t],"attribute");else e.view=ts(e.view,"attribute");const n=ns(e);return o=>{o.on(t,function(e){return(t,n,o)=>{const i=e(n.attributeOldValue,o.writer),r=e(n.attributeNewValue,o.writer);if(!i&&!r)return;if(!o.consumable.consume(n.item,t.name))return;const s=o.writer,a=s.document.selection;if(n.item instanceof Lr||n.item instanceof Kr)s.wrap(a.getFirstRange(),r);else{let e=o.mapper.toViewRange(n.range);null!==n.attributeOldValue&&i&&(e=s.unwrap(e,i)),null!==n.attributeNewValue&&r&&s.wrap(e,r)}}}(n),{priority:e.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(e){let t="attribute:"+((e=Xr(e)).model.key?e.model.key:e.model);e.model.name&&(t+=":"+e.model.name);if(e.model.values)for(const t of e.model.values)e.view[t]=os(e.view[t]);else e.view=os(e.view);const n=ns(e);return o=>{var i;o.on(t,(i=n,(e,t,n)=>{const o=i(t.attributeOldValue,t),r=i(t.attributeNewValue,t);if(!o&&!r)return;if(!n.consumable.consume(t.item,e.name))return;const s=n.mapper.toViewElement(t.item),a=n.writer;if(!s)throw new an.b("conversion-attribute-to-attribute-on-text: Trying to convert text node's attribute with attribute-to-attribute converter.",[t,n]);if(null!==t.attributeOldValue&&o)if("class"==o.key){const e=Array.isArray(o.value)?o.value:[o.value];for(const t of e)a.removeClass(t,s)}else if("style"==o.key){const e=Object.keys(o.value);for(const t of e)a.removeStyle(t,s)}else a.removeAttribute(o.key,s);if(null!==t.attributeNewValue&&r)if("class"==r.key){const e=Array.isArray(r.value)?r.value:[r.value];for(const t of e)a.addClass(t,s)}else if("style"==r.key){const e=Object.keys(r.value);for(const t of e)a.setStyle(t,r.value[t],s)}else a.setAttribute(r.key,r.value,s)}),{priority:e.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(e){return(e=Xr(e)).view=ts(e.view,"ui"),t=>{var n;t.on("addMarker:"+e.model,(n=e.view,(e,t,o)=>{t.isOpening=!0;const i=n(t,o.writer);t.isOpening=!1;const r=n(t,o.writer);if(!i||!r)return;const s=t.markerRange;if(s.isCollapsed&&!o.consumable.consume(s,e.name))return;for(const t of s)if(!o.consumable.consume(t.item,e.name))return;const a=o.mapper,l=o.writer;l.insert(a.toViewPosition(s.start),i),o.mapper.bindElementToMarker(i,t.markerName),s.isCollapsed||(l.insert(a.toViewPosition(s.end),r),o.mapper.bindElementToMarker(r,t.markerName)),e.stop()}),{priority:e.converterPriority||"normal"}),t.on("removeMarker:"+e.model,(e.view,(e,t,n)=>{const o=n.mapper.markerNameToElements(t.markerName);if(o){for(const e of o)n.mapper.unbindElementFromMarkerName(e,t.markerName),n.writer.clear(n.writer.createRangeOn(e),e);n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}),{priority:e.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(e){return t=>{var n;t.on("addMarker:"+e.model,(n=e.view,(e,t,o)=>{if(!t.item)return;if(!(t.item instanceof Lr||t.item instanceof Kr||t.item.is("textProxy")))return;const i=is(n,t,o);if(!i)return;if(!o.consumable.consume(t.item,e.name))return;const r=es(i),s=o.writer,a=s.document.selection;if(t.item instanceof Lr||t.item instanceof Kr)s.wrap(a.getFirstRange(),r,a);else{const e=o.mapper.toViewRange(t.range),n=s.wrap(e,r);for(const e of n.getItems())if(e.is("attributeElement")&&e.isSimilar(r)){o.mapper.bindElementToMarker(e,t.markerName);break}}}),{priority:e.converterPriority||"normal"}),t.on("addMarker:"+e.model,function(e){return(t,n,o)=>{if(!n.item)return;if(!(n.item instanceof Ar))return;const i=is(e,n,o);if(!i)return;if(!o.consumable.test(n.item,t.name))return;const r=o.mapper.toViewElement(n.item);if(r&&r.getCustomProperty("addHighlight")){o.consumable.consume(n.item,t.name);for(const e of Mr._createIn(n.item))o.consumable.consume(e.item,t.name);r.getCustomProperty("addHighlight")(r,i,o.writer),o.mapper.bindElementToMarker(r,n.markerName)}}}(e.view),{priority:e.converterPriority||"normal"}),t.on("removeMarker:"+e.model,function(e){return(t,n,o)=>{if(n.markerRange.isCollapsed)return;const i=is(e,n,o);if(!i)return;const r=es(i),s=o.mapper.markerNameToElements(n.markerName);if(s){for(const e of s)o.mapper.unbindElementFromMarkerName(e,n.markerName),e.is("attributeElement")?o.writer.unwrap(o.writer.createRangeOn(e),r):e.getCustomProperty("removeHighlight")(e,i.id,o.writer);o.writer.clearClonedElementsGroup(n.markerName),t.stop()}}}(e.view),{priority:e.converterPriority||"normal"})}}(e))}}function es(e){const t=new bo("span",e.attributes);return e.classes&&t._addClass(e.classes),e.priority&&(t._priority=e.priority),t._id=e.id,t}function ts(e,t){return"function"==typeof e?e:(n,o)=>function(e,t,n){"string"==typeof e&&(e={name:e});let o;const i=Object.assign({},e.attributes);if("container"==n)o=t.createContainerElement(e.name,i);else if("attribute"==n){const n={priority:e.priority||bo.DEFAULT_PRIORITY};o=t.createAttributeElement(e.name,i,n)}else o=t.createUIElement(e.name,i);if(e.styles){const n=Object.keys(e.styles);for(const i of n)t.setStyle(i,e.styles[i],o)}if(e.classes){const n=e.classes;if("string"==typeof n)t.addClass(n,o);else for(const e of n)t.addClass(e,o)}return o}(e,o,t)}function ns(e){return e.model.values?(t,n)=>{const o=e.view[t];return o?o(t,n):null}:e.view}function os(e){return"string"==typeof e?t=>({key:e,value:t}):"object"==typeof e?e.value?()=>e:t=>({key:e.key,value:t}):e}function is(e,t,n){const o="function"==typeof e?e(t,n):e;return o?(o.priority||(o.priority=10),o.id||(o.id=t.markerName),o):null}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rs extends Qr{elementToElement(e){return this.add(ss(e))}elementToAttribute(e){return this.add(function(e){ls(e=Xr(e));const t=cs(e,!1),n=as(e.view),o=n?"element:"+n:"element";return n=>{n.on(o,t,{priority:e.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(e){e=Xr(e);let t=null;("string"==typeof e.view||e.view.key)&&(t=function(e){"string"==typeof e.view&&(e.view={key:e.view});const t=e.view.key;let n;if("class"==t||"style"==t){n={["class"==t?"classes":"styles"]:e.view.value}}else{const o=void 0===e.view.value?/[\s\S]*/:e.view.value;n={attributes:{[t]:o}}}e.view.name&&(n.name=e.view.name);return e.view=n,t}(e));ls(e,t);const n=cs(e,!0);return t=>{t.on("element",n,{priority:e.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(e){return function(e){const t=e.model;e.model=(e,n)=>{const o="string"==typeof t?t:t(e);return n.createElement("$marker",{"data-name":o})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(e=Xr(e)),ss(e)}(e))}}function ss(e){const t=function(e){const t=e.view?new An(e.view):null;return(n,o,i)=>{let r={};if(t){const e=t.match(o.viewItem);if(!e)return;r=e.match}r.name=!0;const s=(a=e.model,l=o.viewItem,c=i.writer,a instanceof Function?a(l,c):c.createElement(a));var a,l,c;if(!s)return;if(!i.consumable.test(o.viewItem,r))return;const u=i.splitToAllowedParent(s,o.modelCursor);if(!u)return;i.writer.insert(s,u.position),i.convertChildren(o.viewItem,i.writer.createPositionAt(s,0)),i.consumable.consume(o.viewItem,r);const d=i.getSplitParts(s);o.modelRange=new Mr(i.writer.createPositionBefore(s),i.writer.createPositionAfter(d[d.length-1])),u.cursorParent?o.modelCursor=i.writer.createPositionAt(u.cursorParent,0):o.modelCursor=o.modelRange.end}}(e=Xr(e)),n=as(e.view),o=n?"element:"+n:"element";return n=>{n.on(o,t,{priority:e.converterPriority||"normal"})}}function as(e){return"string"==typeof e?e:"object"==typeof e&&"string"==typeof e.name?e.name:null}function ls(e,t=null){const n=null===t||(e=>e.getAttribute(t)),o="object"!=typeof e.model?e.model:e.model.key,i="object"!=typeof e.model||void 0===e.model.value?n:e.model.value;e.model={key:o,value:i}}function cs(e,t){const n=new An(e.view);return(o,i,r)=>{const s=n.match(i.viewItem);if(!s)return;const a=e.model.key,l="function"==typeof e.model.value?e.model.value(i.viewItem):e.model.value;null!==l&&(!function(e,t){const n="function"==typeof e?e(t):e;if("object"==typeof n&&!as(n))return!1;return!n.classes&&!n.attributes&&!n.styles}(e.view,i.viewItem)?delete s.match.name:s.match.name=!0,r.consumable.test(i.viewItem,s.match)&&(i.modelRange||(i=Object.assign(i,r.convertChildren(i.viewItem,i.modelCursor))),function(e,t,n,o){let i=!1;for(const r of Array.from(e.getItems({shallow:n})))o.schema.checkAttribute(r,t.key)&&(o.writer.setAttribute(t.key,t.value,r),i=!0);return i}(i.modelRange,{key:a,value:l},t,r)&&r.consumable.consume(i.viewItem,s.match)))}}class us{constructor(e){this.model=e,this.view=new xr,this.mapper=new zr,this.downcastDispatcher=new Br({mapper:this.mapper});const t=this.model.document,n=t.selection,o=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(t,"change",()=>{this.view.change(e=>{this.downcastDispatcher.convertChanges(t.differ,o,e),this.downcastDispatcher.convertSelection(n,o,e)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(e,t){return(n,o)=>{const i=o.newSelection,r=new Lr,s=[];for(const e of i.getRanges())s.push(t.toModelRange(e));r.setTo(s,{backward:i.isBackward}),r.isEqual(e.document.selection)||e.change(e=>{e.setSelection(r)})}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",(e,t,n)=>{if(!n.consumable.consume(t.item,"insert"))return;const o=n.writer,i=n.mapper.toViewPosition(t.range.start),r=o.createText(t.item.data);o.insert(i,r)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(e,t,n)=>{const o=n.mapper.toViewPosition(t.position),i=t.position.getShiftedBy(t.length),r=n.mapper.toViewPosition(i,{isPhantom:!0}),s=n.writer.createRange(o,r),a=n.writer.remove(s.getTrimmed());for(const e of n.writer.createRangeIn(a).getItems())n.mapper.unbindViewElement(e)},{priority:"low"}),this.downcastDispatcher.on("selection",(e,t,n)=>{const o=n.writer,i=o.document.selection;for(const e of i.getRanges())e.isCollapsed&&e.end.parent.document&&n.writer.mergeAttributes(e.start);o.setSelection(null)},{priority:"low"}),this.downcastDispatcher.on("selection",(e,t,n)=>{const o=t.selection;if(o.isCollapsed)return;if(!n.consumable.consume(o,"selection"))return;const i=[];for(const e of o.getRanges()){const t=n.mapper.toViewRange(e);i.push(t)}n.writer.setSelection(i,{backward:o.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(e,t,n)=>{const o=t.selection;if(!o.isCollapsed)return;if(!n.consumable.consume(o,"selection"))return;const i=n.writer,r=o.getFirstPosition(),s=n.mapper.toViewPosition(r),a=i.breakAttributes(s);i.setSelection(a)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(e=>{if("$graveyard"==e.rootName)return null;const t=new so(e.name);return t.rootName=e.rootName,t._document=this.view.document,this.mapper.bindElements(e,t),t})}destroy(){this.view.destroy(),this.stopListening()}}_n(us,Qn);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class ds{constructor(e,t=[]){this._editor=e,this._availablePlugins=new Map,this._plugins=new Map;for(const e of t)this._availablePlugins.set(e,e),e.pluginName&&this._availablePlugins.set(e.pluginName,e)}*[Symbol.iterator](){for(const e of this._plugins)"function"==typeof e[0]&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){const t="plugincollection-plugin-not-loaded: The requested plugin is not loaded.";let n=e;throw"function"==typeof e&&(n=e.pluginName||e.name),new an.b(t,this._editor,{plugin:n})}return t}has(e){return this._plugins.has(e)}init(e,t=[]){const n=this,o=this._editor,i=new Set,r=[],s=h(e),a=h(t),l=function(e){const t=[];for(const n of e)d(n)||t.push(n);return t.length?t:null}(e);if(l){const e="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";return console.error(Object(an.a)(e),{plugins:l}),Promise.reject(new an.b(e,this._editor,{plugins:l}))}return Promise.all(s.map(c)).then(()=>u(r,"init")).then(()=>u(r,"afterInit")).then(()=>r);function c(e){if(!a.includes(e)&&!n._plugins.has(e)&&!i.has(e))return function(e){return new Promise(s=>{i.add(e),e.requires&&e.requires.forEach(n=>{const i=d(n);if(t.includes(i))throw new an.b("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.",o,{plugin:i,requiredBy:e});c(i)});const a=new e(o);n._add(e,a),r.push(a),s()})}(e).catch(t=>{throw console.error(Object(an.a)("plugincollection-load: It was not possible to load the plugin."),{plugin:e}),t})}function u(e,t){return e.reduce((e,n)=>n[t]?e.then(n[t].bind(n)):e,Promise.resolve())}function d(e){return"function"==typeof e?e:n._availablePlugins.get(e)}function h(e){return e.map(e=>d(e)).filter(e=>!!e)}}destroy(){const e=Array.from(this).map(([,e])=>e).filter(e=>"function"==typeof e.destroy).map(e=>e.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(n){if(this._plugins.has(n))throw new an.b("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}_n(ds,fn);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class hs{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const n=this.get(e);if(!n)throw new an.b("commandcollection-command-not-found: Command does not exist.",this,{commandName:e});n.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ps(e,t){const n=Object.keys(window.CKEDITOR_TRANSLATIONS).length;return 1===n&&(e=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]),0!==n&&function(e,t){return e in window.CKEDITOR_TRANSLATIONS&&t in window.CKEDITOR_TRANSLATIONS[e]}(e,t)?window.CKEDITOR_TRANSLATIONS[e][t].replace(/ \[context: [^\]]+\]$/,""):t.replace(/ \[context: [^\]]+\]$/,"")}window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const fs=["ar","fa","he","ku","ug"];class ms{constructor(e={}){this.uiLanguage=e.uiLanguage||"en",this.contentLanguage=e.contentLanguage||this.uiLanguage,this.uiLanguageDirection=gs(this.uiLanguage),this.contentLanguageDirection=gs(this.contentLanguage),this.t=(...e)=>this._t(...e)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t){let n=ps(this.uiLanguage,e);return t&&(n=n.replace(/%(\d+)/g,(e,n)=>n<t.length?t[n]:e)),n}}function gs(e){return fs.includes(e)?"rtl":"ltr"}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bs{constructor(){this._consumables=new Map}add(e,t){let n;e.is("text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new ws,this._consumables.set(e,n)),n.add(t))}test(e,t){const n=this._consumables.get(e);return void 0===n?null:e.is("text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const n=this._consumables.get(e);void 0!==n&&(e.is("text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const e of n)"style"!=e&&"class"!=e&&t.attributes.push(e);const o=e.getClassNames();for(const e of o)t.classes.push(e);const i=e.getStyleNames();for(const e of i)t.styles.push(e);return t}static createFrom(e,t){if(t||(t=new bs),e.is("text"))return t.add(e),t;e.is("element")&&t.add(e,bs.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=bs.createFrom(n,t);return t}}class ws{constructor(){this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t in this._consumables)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t in this._consumables)if(t in e){const n=this._test(t,e[t]);if(!0!==n)return n}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t in this._consumables)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t in this._consumables)t in e&&this._revert(t,e[t])}_add(e,t){const n=De(t)?t:[t],o=this._consumables[e];for(const t of n){if("attributes"===e&&("class"===t||"style"===t))throw new an.b("viewconsumable-invalid-attribute: Classes and styles should be handled separately.",this);o.set(t,!0)}}_test(e,t){const n=De(t)?t:[t],o=this._consumables[e];for(const t of n)if("attributes"!==e||"class"!==t&&"style"!==t){const e=o.get(t);if(void 0===e)return null;if(!e)return!1}else{const e="class"==t?"classes":"styles",n=this._test(e,[...this._consumables[e].keys()]);if(!0!==n)return n}return!0}_consume(e,t){const n=De(t)?t:[t],o=this._consumables[e];for(const t of n)if("attributes"!==e||"class"!==t&&"style"!==t)o.set(t,!1);else{const e="class"==t?"classes":"styles";this._consume(e,[...this._consumables[e].keys()])}}_revert(e,t){const n=De(t)?t:[t],o=this._consumables[e];for(const t of n)if("attributes"!==e||"class"!==t&&"style"!==t){!1===o.get(t)&&o.set(t,!0)}else{const e="class"==t?"classes":"styles";this._revert(e,[...this._consumables[e].keys()])}}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ks{constructor(){this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new vs(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new vs(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new an.b("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new an.b("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t="string"==typeof e?e:e.is&&(e.is("text")||e.is("textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!(!t||!t.isObject)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const n=this.getDefinition(e.last);return!!n&&n.allowAttributes.includes(t)}checkMerge(e,t=null){if(e instanceof Ir){const t=e.nodeBefore,n=e.nodeAfter;if(!(t instanceof Ar))throw new an.b("schema-check-merge-no-element-before: The node before the merge position must be an element.",this);if(!(n instanceof Ar))throw new an.b("schema-check-merge-no-element-after: The node after the merge position must be an element.",this);return this.checkMerge(t,n)}for(const n of t.getChildren())if(!this.checkChild(e,n))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[n,o])=>{if(!o)return;const i=e(n,o);"boolean"==typeof i&&(t.stop(),t.return=i)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[n,o])=>{const i=e(n,o);"boolean"==typeof i&&(t.stop(),t.return=i)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;if(e instanceof Ir)t=e.parent;else{t=(e instanceof Mr?[e]:Array.from(e.getRanges())).reduce((e,t)=>{const n=t.getCommonAncestor();return e?e.getCommonAncestor(n,{includeSelf:!0}):n},null)}for(;!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const n=[...e.getFirstPosition().getAncestors(),new Er("",e.getAttributes())];return this.checkAttribute(n,t)}{const n=e.getRanges();for(const e of n)for(const n of e)if(this.checkAttribute(n.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(e){for(const t of e)yield*t.getMinimalFlatRanges()}(e);for(const n of e)yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e,t="both"){if(this.checkChild(e,"$text"))return new Mr(e);let n,o;"both"!=t&&"backward"!=t||(n=new Rr({startPosition:e,direction:"backward"})),"both"!=t&&"forward"!=t||(o=new Rr({startPosition:e}));for(const e of function*(e,t){let n=!1;for(;!n;){if(n=!0,e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}if(t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}}}(n,o)){const t=e.walker==n?"elementEnd":"elementStart",o=e.value;if(o.type==t&&this.isObject(o.item))return Mr._createOn(o.item);if(this.checkChild(o.nextPosition,"$text"))return new Mr(o.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("text"))Os(this,n,t);else{const e=Mr._createIn(n).getPositions();for(const n of e){Os(this,n.nodeBefore||n.parent,t)}}}createContext(e){return new vs(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const o of n)e[o]=_s(t[o],o);for(const t of n)ys(e,t);for(const t of n)xs(e,t);for(const t of n)Cs(e,t),Ts(e,t);for(const t of n)Es(e,t),Ss(e,t);this._compiledDefinitions=e}_checkContextMatch(e,t,n=t.length-1){const o=t.getItem(n);if(e.allowIn.includes(o.name)){if(0==n)return!0;{const e=this.getDefinition(o);return this._checkContextMatch(e,t,n-1)}}return!1}*_getValidRangesForRange(e,t){let n=e.start,o=e.start;for(const i of e.getItems({shallow:!0}))i.is("element")&&(yield*this._getValidRangesForRange(Mr._createIn(i),t)),this.checkAttribute(i,t)||(n.isEqual(o)||(yield new Mr(n,o)),n=Ir._createAfter(i)),o=Ir._createAfter(i);n.isEqual(o)||(yield new Mr(n,o))}}_n(ks,Qn);class vs{constructor(e){if(e instanceof vs)return e;"string"==typeof e?e=[e]:Array.isArray(e)||(e=e.getAncestors({includeSelf:!0})),e[0]&&"string"!=typeof e[0]&&e[0].is("documentFragment")&&e.shift(),this._items=e.map(Rs)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new vs([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}}function _s(e,t){const n={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(e,t){for(const n of e){const e=Object.keys(n).filter(e=>e.startsWith("is"));for(const o of e)t[o]=n[o]}}(e,n),Ps(e,n,"allowIn"),Ps(e,n,"allowContentOf"),Ps(e,n,"allowWhere"),Ps(e,n,"allowAttributes"),Ps(e,n,"allowAttributesOf"),Ps(e,n,"inheritTypesFrom"),function(e,t){for(const n of e){const e=n.inheritAllFrom;e&&(t.allowContentOf.push(e),t.allowWhere.push(e),t.allowAttributesOf.push(e),t.inheritTypesFrom.push(e))}}(e,n),n}function ys(e,t){for(const n of e[t].allowContentOf)if(e[n]){As(e,n).forEach(e=>{e.allowIn.push(t)})}delete e[t].allowContentOf}function xs(e,t){for(const n of e[t].allowWhere){const o=e[n];if(o){const n=o.allowIn;e[t].allowIn.push(...n)}}delete e[t].allowWhere}function Cs(e,t){for(const n of e[t].allowAttributesOf){const o=e[n];if(o){const n=o.allowAttributes;e[t].allowAttributes.push(...n)}}delete e[t].allowAttributesOf}function Ts(e,t){const n=e[t];for(const t of n.inheritTypesFrom){const o=e[t];if(o){const e=Object.keys(o).filter(e=>e.startsWith("is"));for(const t of e)t in n||(n[t]=o[t])}}delete n.inheritTypesFrom}function Es(e,t){const n=e[t],o=n.allowIn.filter(t=>e[t]);n.allowIn=Array.from(new Set(o))}function Ss(e,t){const n=e[t];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function Ps(e,t,n){for(const o of e)"string"==typeof o[n]?t[n].push(o[n]):Array.isArray(o[n])&&t[n].push(...o[n])}function As(e,t){const n=e[t];return(o=e,Object.keys(o).map(e=>o[e])).filter(e=>e.allowIn.includes(n.name));var o}function Rs(e){return"string"==typeof e?{name:e,*getAttributeKeys(){},getAttribute(){}}:{name:e.is("element")?e.name:"$text",*getAttributeKeys(){yield*e.getAttributeKeys()},getAttribute:t=>e.getAttribute(t)}}function Os(e,t,n){for(const o of t.getAttributeKeys())e.checkAttribute(t,o)||n.removeAttribute(o,t)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ns{constructor(e={}){this._splitParts=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},e),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}convert(e,t,n=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(e,t){let n;for(const o of new vs(e)){const e={};for(const t of o.getAttributeKeys())e[t]=o.getAttribute(t);const i=t.createElement(o.name,e);n&&t.append(i,n),n=Ir._createAt(i,0)}return n}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=bs.createFrom(e),this.conversionApi.store={};const{modelRange:o}=this._convertItem(e,this._modelCursor),i=t.createDocumentFragment();if(o){this._removeEmptyElements();for(const e of Array.from(this._modelCursor.parent.getChildren()))t.append(e,i);i.markers=function(e,t){const n=new Set,o=new Map,i=Mr._createIn(e).getItems();for(const e of i)"$marker"==e.name&&n.add(e);for(const e of n){const n=e.getAttribute("data-name"),i=t.createPositionBefore(e);o.has(n)?o.get(n).end=i.clone():o.set(n,new Mr(i.clone())),t.remove(e)}return o}(i,t)}return this._modelCursor=null,this._splitParts.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,i}_convertItem(e,t){const n=Object.assign({viewItem:e,modelCursor:t,modelRange:null});if(e.is("element")?this.fire("element:"+e.name,n,this.conversionApi):e.is("text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof Mr))throw new an.b("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){const n=new Mr(t);let o=t;for(const t of Array.from(e.getChildren())){const e=this._convertItem(t,o);e.modelRange instanceof Mr&&(n.end=e.modelRange.end,o=e.modelCursor)}return{modelRange:n,modelCursor:o}}_splitToAllowedParent(e,t){const n=this.conversionApi.schema.findAllowedParent(t,e);if(!n)return null;if(n===t.parent)return{position:t};if(this._modelCursor.parent.getAncestors().includes(n))return null;const o=this.conversionApi.writer.split(t,n),i=[];for(const e of o.range.getWalker())if("elementEnd"==e.type)i.push(e.item);else{const t=i.pop(),n=e.item;this._registerSplitPair(t,n)}return{position:o.position,cursorParent:o.range.end.parent}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}_n(Ns,fn);class Is{constructor(e,t){this.model=e,this.processor=t,this.mapper=new zr,this.downcastDispatcher=new Br({mapper:this.mapper}),this.downcastDispatcher.on("insert:$text",(e,t,n)=>{if(!n.consumable.consume(t.item,"insert"))return;const o=n.writer,i=n.mapper.toViewPosition(t.range.start),r=o.createText(t.item.data);o.insert(i,r)},{priority:"lowest"}),this.upcastDispatcher=new Ns({schema:e.schema}),this.upcastDispatcher.on("text",(e,t,n)=>{if(n.schema.checkChild(t.modelCursor,"$text")&&n.consumable.consume(t.viewItem)){const e=n.writer.createText(t.viewItem.data);n.writer.insert(e,t.modelCursor),t.modelRange=Mr._createFromPositionAndShift(t.modelCursor,e.offsetSize),t.modelCursor=t.modelRange.end}},{priority:"lowest"}),this.upcastDispatcher.on("element",(e,t,n)=>{if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){const{modelRange:e,modelCursor:o}=n.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e,t.modelCursor=o}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(e,t,n)=>{if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){const{modelRange:e,modelCursor:o}=n.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e,t.modelCursor=o}},{priority:"lowest"}),this.decorate("init"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"})}get(e){const{rootName:t="main",trim:n="empty"}=e||{};if(!this._checkIfRootsExists([t]))throw new an.b("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.",this);const o=this.model.document.getRoot(t);return"empty"!==n||this.model.hasContent(o,{ignoreWhitespaces:!0})?this.stringify(o):""}stringify(e){const t=this.toView(e);return this.processor.toData(t)}toView(e){this.mapper.clearBindings();const t=Mr._createIn(e),n=new Mo,o=new zo(new go);if(this.mapper.bindElements(e,n),this.downcastDispatcher.convertInsert(t,o),!e.is("documentFragment")){const t=function(e){const t=[],n=e.root.document;if(!n)return[];const o=Mr._createIn(e);for(const e of n.model.markers){const n=o.getIntersection(e.getRange());n&&t.push([e.name,n])}return t}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(e);for(const[e,n]of t)this.downcastDispatcher.convertMarkerAdd(e,n,o)}return n}init(e){if(this.model.document.version)throw new an.b("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.",this);let t={};if("string"==typeof e?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new an.b("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.",this);return this.model.enqueueChange("transparent",e=>{for(const n of Object.keys(t)){const o=this.model.document.getRoot(n);e.insert(this.parse(t[n],o),o,0)}}),Promise.resolve()}set(e){let t={};if("string"==typeof e?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new an.b("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.",this);this.model.enqueueChange("transparent",e=>{e.setSelection(null),e.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const n of Object.keys(t)){const o=this.model.document.getRoot(n);e.remove(e.createRangeIn(o)),e.insert(this.parse(t[n],o),o,0)}})}parse(e,t="$root"){const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e,t="$root"){return this.model.change(n=>this.upcastDispatcher.convert(e,n,t))}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRootNames().includes(t))return!1;return!0}}_n(Is,Qn);class Ms{constructor(e,t){this._helpers=new Map,this._downcast=Array.isArray(e)?e:[e],this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Array.isArray(t)?t:[t],this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new an.b("conversion-add-alias-dispatcher-not-registered: Trying to register and alias for a dispatcher that nas not been registered.",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e))throw new an.b("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of zs(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of zs(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of zs(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e))throw new an.b("conversion-group-exists: Trying to register a group name that has already been registered.",this);const o=n?new Zr(t):new rs(t);this._helpers.set(e,o)}}function*zs(e){if(e.model.values)for(const t of e.model.values){const n={key:e.model.key,value:t},o=e.view[t],i=e.upcastAlso?e.upcastAlso[t]:void 0;yield*Ds(n,o,i)}else yield*Ds(e.model,e.view,e.upcastAlso)}function*Ds(e,t,n){if(yield{model:e,view:t},n){n=Array.isArray(n)?n:[n];for(const t of n)yield{model:e,view:t}}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Vs{constructor(e="default"){this.operations=[],this.type=e}get baseVersion(){for(const e of this.operations)if(null!==e.baseVersion)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Bs{constructor(e){this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e){return new this(e.baseVersion)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Fs{constructor(e){this.markers=new Map,this._children=new Pr,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(e){return"documentFragment"==e||"model:documentFragment"==e}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(Ar.fromJSON(n)):t.push(Er.fromJSON(n));return new Fs(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(e){if("string"==typeof e)return[new Er(e)];Pn(e)||(e=[e]);return Array.from(e).map(e=>"string"==typeof e?new Er(e):e instanceof Sr?new Er(e.data,e.getAttributes()):e)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(t);for(const e of n)null!==e.parent&&e._remove(),e.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const e of n)e.parent=null;return n}}function Ls(e,t){const n=(t=Ws(t)).reduce((e,t)=>e+t.offsetSize,0),o=e.parent;qs(e);const i=e.index;return o._insertChild(i,t),Us(o,i+t.length),Us(o,i),new Mr(e,e.getShiftedBy(n))}function js(e){if(!e.isFlat)throw new an.b("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.",this);const t=e.start.parent;qs(e.start),qs(e.end);const n=t._removeChildren(e.start.index,e.end.index-e.start.index);return Us(t,e.start.index),n}function Hs(e,t){if(!e.isFlat)throw new an.b("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.",this);const n=js(e);return Ls(t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),n)}function Ws(e){const t=[];e instanceof Array||(e=[e]);for(let n=0;n<e.length;n++)if("string"==typeof e[n])t.push(new Er(e[n]));else if(e[n]instanceof Sr)t.push(new Er(e[n].data,e[n].getAttributes()));else if(e[n]instanceof Fs||e[n]instanceof Pr)for(const o of e[n])t.push(o);else e[n]instanceof Tr&&t.push(e[n]);for(let e=1;e<t.length;e++){const n=t[e],o=t[e-1];n instanceof Er&&o instanceof Er&&$s(n,o)&&(t.splice(e-1,2,new Er(o.data+n.data,o.getAttributes())),e--)}return t}function Us(e,t){const n=e.getChild(t-1),o=e.getChild(t);if(n&&o&&n.is("text")&&o.is("text")&&$s(n,o)){const i=new Er(n.data+o.data,n.getAttributes());e._removeChildren(t-1,2),e._insertChild(t-1,i)}}function qs(e){const t=e.textNode,n=e.parent;if(t){const o=e.offset-t.startOffset,i=t.index;n._removeChildren(i,1);const r=new Er(t.data.substr(0,o),t.getAttributes()),s=new Er(t.data.substr(o),t.getAttributes());n._insertChild(i,[r,s])}}function $s(e,t){const n=e.getAttributes(),o=t.getAttributes();for(const e of n){if(e[1]!==t.getAttribute(e[0]))return!1;o.next()}return o.next().done}var Gs=function(e,t){return Fi(e,t)};
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ks extends Bs{constructor(e,t,n,o,i){super(i),this.range=e.clone(),this.key=t,this.oldValue=void 0===n?null:n,this.newValue=void 0===o?null:o}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new Ks(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ks(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new an.b("attribute-operation-range-not-flat: The range to change is not flat.",this);for(const e of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!Gs(e.getAttribute(this.key),this.oldValue))throw new an.b("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{item:e,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&e.hasAttribute(this.key))throw new an.b("attribute-operation-attribute-exists: The attribute with given key already exists.",this,{node:e,key:this.key})}}_execute(){Gs(this.oldValue,this.newValue)||function(e,t,n){qs(e.start),qs(e.end);for(const o of e.getItems({shallow:!0})){const e=o.is("textProxy")?o.textNode:o;null!==n?e._setAttribute(t,n):e._removeAttribute(t),Us(e.parent,e.index)}Us(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new Ks(Mr.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Js extends Bs{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new an.b("detach-operation-on-document-node: Cannot detach document node.",this)}_execute(){js(Mr._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ys extends Bs{constructor(e,t,n,o){super(o),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,o=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new an.b("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.",this);if(e===t&&n<o&&o<n+this.howMany)throw new an.b("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==yn(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const e=this.sourcePosition.path.length-1;if(this.targetPosition.path[e]>=n&&this.targetPosition.path[e]<n+this.howMany)throw new an.b("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.",this)}}_execute(){Hs(Mr._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=Ir.fromJSON(e.sourcePosition,t),o=Ir.fromJSON(e.targetPosition,t);return new this(n,e.howMany,o,e.baseVersion)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Qs extends Bs{constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Pr(Ws(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const e=new Pr([...this.nodes].map(e=>e._clone(!0))),t=new Qs(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new Ir(e,[0]);return new Ys(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new an.b("insert-operation-position-invalid: Insertion position is invalid.",this)}_execute(){const e=this.nodes;this.nodes=new Pr([...e].map(e=>e._clone(!0))),Ls(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const t of e.nodes)t.name?n.push(Ar.fromJSON(t)):n.push(Er.fromJSON(t));const o=new Qs(Ir.fromJSON(e.position,t),n,e.baseVersion);return o.shouldReceiveAttributes=e.shouldReceiveAttributes,o}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xs extends Bs{constructor(e,t,n,o,i,r){super(r),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=i,this._markers=o}get type(){return"marker"}clone(){return new Xs(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Xs(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){const e=this.newRange?"_set":"_remove";this._markers[e](this.name,this.newRange,!0,this.affectsData)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new Xs(e.name,e.oldRange?Mr.fromJSON(e.oldRange,t):null,e.newRange?Mr.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Zs extends Bs{constructor(e,t,n,o){super(o),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}clone(){return new Zs(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Zs(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof Ar))throw new an.b("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.",this);if(e.name!==this.oldName)throw new an.b("rename-operation-wrong-name: Element to change has different name than operation's old name.",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new Zs(Ir.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ea extends Bs{constructor(e,t,n,o,i){super(i),this.root=e,this.key=t,this.oldValue=n,this.newValue=o}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new ea(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ea(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new an.b("rootattribute-operation-not-a-root: The element to change is not a root element.",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new an.b("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new an.b("rootattribute-operation-attribute-exists: The attribute with given key already exists.",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new an.b("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",this,{rootName:e.root});return new ea(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ta extends Bs{constructor(e,t,n,o,i){super(i),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=o.clone()}get type(){return"merge"}get deletionPosition(){return new Ir(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Mr(this.sourcePosition,e)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new Ir(this.sourcePosition.root,t)._getTransformedByMergeOperation(this),o=new na(e,this.howMany,this.graveyardPosition,this.baseVersion+1);return o.insertionPosition=n,o}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new an.b("merge-operation-source-position-invalid: Merge source position is invalid.",this);if(!t.parent)throw new an.b("merge-operation-target-position-invalid: Merge target position is invalid.",this);if(this.howMany!=e.maxOffset)throw new an.b("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.",this)}_execute(){const e=this.sourcePosition.parent;Hs(Mr._createIn(e),this.targetPosition),Hs(Mr._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=Ir.fromJSON(e.sourcePosition,t),o=Ir.fromJSON(e.targetPosition,t),i=Ir.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,o,i,e.baseVersion)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class na extends Bs{constructor(e,t,n,o){super(o),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=na.getInsertionPosition(e),this.insertionPosition.stickiness="toNone",this.graveyardPosition=n?n.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Ir(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Mr(this.splitPosition,e)}clone(){const e=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return e.insertionPosition=this.insertionPosition,e}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new Ir(e,[0]);return new ta(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new an.b("split-operation-position-invalid: Split position is invalid.",this);if(!e.parent)throw new an.b("split-operation-split-in-root: Cannot split root element.",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new an.b("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new an.b("split-operation-graveyard-position-invalid: Graveyard position invalid.",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Hs(Mr._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();Ls(this.insertionPosition,t)}Hs(new Mr(Ir._createAt(e,this.splitPosition.offset),Ir._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new Ir(e.root,t)}static fromJSON(e,t){const n=Ir.fromJSON(e.splitPosition,t),o=Ir.fromJSON(e.insertionPosition,t),i=e.graveyardPosition?Ir.fromJSON(e.graveyardPosition,t):null,r=new this(n,e.howMany,i,e.baseVersion);return r.insertionPosition=o,r}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class oa extends Ar{constructor(e,t,n="main"){super(t),this._doc=e,this.rootName=n}get document(){return this._doc}is(e,t){const n=e.replace("model:","");return t?"rootElement"==n&&t==this.name||super.is(e,t):"rootElement"==n||super.is(e)}toJSON(){return this.rootName}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ia{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Er(e,t)}createElement(e,t){return new Ar(e,t)}createDocumentFragment(){return new Fs}insert(e,t,n=0){if(this._assertWriterUsedCorrectly(),e instanceof Er&&""==e.data)return;const o=Ir._createAt(t,n);if(e.parent){if(ca(e.root,o.root))return void this.move(Mr._createOn(e),o);if(e.root.document)throw new an.b("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree. It is forbidden to move a node that was already in a document outside of it.",this);this.remove(e)}const i=o.root.document?o.root.document.version:null,r=new Qs(o,e,i);if(e instanceof Er&&(r.shouldReceiveAttributes=!0),this.batch.addOperation(r),this.model.applyOperation(r),e instanceof Fs)for(const[t,n]of e.markers){const e=Ir._createAt(n.root,0),i={range:new Mr(n.start._getCombined(e,o),n.end._getCombined(e,o)),usingOperation:!0,affectsData:!0};this.model.markers.has(t)?this.updateMarker(t,i):this.addMarker(t,i)}}insertText(e,t,n,o){t instanceof Fs||t instanceof Ar||t instanceof Ir?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,o)}insertElement(e,t,n,o){t instanceof Fs||t instanceof Ar||t instanceof Ir?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,o)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof Fs||t instanceof Ar?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof Fs||t instanceof Ar?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof Mr){const o=n.getMinimalFlatRanges();for(const n of o)ra(this,e,t,n)}else sa(this,e,t,n)}setAttributes(e,t){for(const[n,o]of Cr(e))this.setAttribute(n,o,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof Mr){const n=t.getMinimalFlatRanges();for(const t of n)ra(this,e,null,t)}else sa(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=e=>{for(const t of e.getAttributeKeys())this.removeAttribute(t,e)};if(e instanceof Mr)for(const n of e.getItems())t(n);else t(e)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof Mr))throw new an.b("writer-move-invalid-range: Invalid range to move.",this);if(!e.isFlat)throw new an.b("writer-move-range-not-flat: Range to move is not flat.",this);const o=Ir._createAt(t,n);if(o.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!ca(e.root,o.root))throw new an.b("writer-move-different-document: Range is going to be moved between different documents.",this);const i=e.root.document?e.root.document.version:null,r=new Ys(e.start,e.end.offset-e.start.offset,o,i);this.batch.addOperation(r),this.model.applyOperation(r)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof Mr?e:Mr._createOn(e)).getMinimalFlatRanges().reverse();for(const e of t)this._addOperationForAffectedMarkers("move",e),la(e.start,e.end.offset-e.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Ar))throw new an.b("writer-merge-no-element-before: Node before merge position must be an element.",this);if(!(n instanceof Ar))throw new an.b("writer-merge-no-element-after: Node after merge position must be an element.",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(e,t,n){return this.model.createSelection(e,t,n)}_mergeDetached(e){const t=e.nodeBefore,n=e.nodeAfter;this.move(Mr._createIn(n),Ir._createAt(t,"end")),this.remove(n)}_merge(e){const t=Ir._createAt(e.nodeBefore,"end"),n=Ir._createAt(e.nodeAfter,0),o=e.root.document.graveyard,i=new Ir(o,[0]),r=e.root.document.version,s=new ta(n,e.nodeAfter.maxOffset,t,i,r);this.batch.addOperation(s),this.model.applyOperation(s)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Ar))throw new an.b("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.",this);const n=e.root.document?e.root.document.version:null,o=new Zs(Ir._createBefore(e),e.name,t,n);this.batch.addOperation(o),this.model.applyOperation(o)}split(e,t){this._assertWriterUsedCorrectly();let n,o,i=e.parent;if(!i.parent)throw new an.b("writer-split-element-no-parent: Element with no parent can not be split.",this);if(t||(t=i.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new an.b("writer-split-invalid-limit-element: Limit element is not a position ancestor.",this);do{const t=i.root.document?i.root.document.version:null,r=i.maxOffset-e.offset,s=new na(e,r,null,t);this.batch.addOperation(s),this.model.applyOperation(s),n||o||(n=i,o=e.parent.nextSibling),i=(e=this.createPositionAfter(e.parent)).parent}while(i!==t);return{position:e,range:new Mr(Ir._createAt(n,"end"),Ir._createAt(o,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new an.b("writer-wrap-range-not-flat: Range to wrap is not flat.",this);const n=t instanceof Ar?t:new Ar(t);if(n.childCount>0)throw new an.b("writer-wrap-element-not-empty: Element to wrap with is not empty.",this);if(null!==n.parent)throw new an.b("writer-wrap-element-attached: Element to wrap with is already attached to tree model.",this);this.insert(n,e.start);const o=new Mr(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(o,Ir._createAt(n,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new an.b("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.",this);this.move(Mr._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||"boolean"!=typeof t.usingOperation)throw new an.b("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.",this);const n=t.usingOperation,o=t.range,i=void 0!==t.affectsData&&t.affectsData;if(this.model.markers.has(e))throw new an.b("writer-addMarker-marker-exists: Marker with provided name already exists.",this);if(!o)throw new an.b("writer-addMarker-no-range: Range parameter is required when adding a new marker.",this);return n?(aa(this,e,null,o,i),this.model.markers.get(e)):this.model.markers._set(e,o,n,i)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n="string"==typeof e?e:e.name,o=this.model.markers.get(n);if(!o)throw new an.b("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.",this);if(!t)return void this.model.markers._refresh(o);const i="boolean"==typeof t.usingOperation,r="boolean"==typeof t.affectsData,s=r?t.affectsData:o.affectsData;if(!i&&!t.range&&!r)throw new an.b("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.",this);const a=o.getRange(),l=t.range?t.range:a;i&&t.usingOperation!==o.managedUsingOperations?t.usingOperation?aa(this,n,null,l,s):(aa(this,n,a,null,s),this.model.markers._set(n,l,void 0,s)):o.managedUsingOperations?aa(this,n,a,l,s):this.model.markers._set(n,l,void 0,s)}removeMarker(e){this._assertWriterUsedCorrectly();const t="string"==typeof e?e:e.name;if(!this.model.markers.has(t))throw new an.b("writer-removeMarker-no-marker: Trying to remove marker which does not exist.",this);const n=this.model.markers.get(t);n.managedUsingOperations?aa(this,t,n.getRange(),null,n.affectsData):this.model.markers._remove(t)}setSelection(e,t,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(e,t,n)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._setSelectionAttribute(e,t);else for(const[t,n]of Cr(e))this._setSelectionAttribute(t,n)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const o=Kr._getStoreAttributeKey(e);this.setAttribute(o,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=Kr._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new an.b("writer-incorrect-use: Trying to use a writer outside the change() block.",this)}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const o=n.getRange();let i=!1;if("move"==e)i=t.containsPosition(o.start)||t.start.isEqual(o.start)||t.containsPosition(o.end)||t.end.isEqual(o.end);else{const e=t.nodeBefore,n=t.nodeAfter,r=o.start.parent==e&&o.start.isAtEnd,s=o.end.parent==n&&0==o.end.offset,a=o.end.nodeAfter==n,l=o.start.nodeAfter==n;i=r||s||a||l}i&&this.updateMarker(n.name,{range:o})}}}function ra(e,t,n,o){const i=e.model,r=i.document;let s,a,l,c=o.start;for(const e of o.getWalker({shallow:!0}))l=e.item.getAttribute(t),s&&a!=l&&(a!=n&&u(),c=s),s=e.nextPosition,a=l;function u(){const o=new Mr(c,s),l=o.root.document?r.version:null,u=new Ks(o,t,a,n,l);e.batch.addOperation(u),i.applyOperation(u)}s instanceof Ir&&s!=c&&a!=n&&u()}function sa(e,t,n,o){const i=e.model,r=i.document,s=o.getAttribute(t);let a,l;if(s!=n){if(o.root===o){const e=o.document?r.version:null;l=new ea(o,t,s,n,e)}else{a=new Mr(Ir._createBefore(o),e.createPositionAfter(o));const i=a.root.document?r.version:null;l=new Ks(a,t,s,n,i)}e.batch.addOperation(l),i.applyOperation(l)}}function aa(e,t,n,o,i){const r=e.model,s=r.document,a=new Xs(t,n,o,r.markers,i,s.version);e.batch.addOperation(a),r.applyOperation(a)}function la(e,t,n,o){let i;if(e.root.document){const n=o.document,r=new Ir(n.graveyard,[0]);i=new Ys(e,t,r,n.version)}else i=new Js(e,t);n.addOperation(i),o.applyOperation(i)}function ca(e,t){return e===t||e instanceof oa&&t instanceof oa}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ua{constructor(e){this._markerCollection=e,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize);const t=Mr._createOn(e);for(const e of this._markerCollection.getMarkersIntersectingRange(t)){const t=e.getRange();this.bufferMarkerChange(e.name,t,t,e.affectsData)}this._cachedChanges=null}bufferOperation(e){switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const t of e.range.getItems({shallow:!0}))this._isInInsertedElement(t.parent)||this._markAttribute(t);break;case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;const t=this._isInInsertedElement(e.sourcePosition.parent),n=this._isInInsertedElement(e.targetPosition.parent);t||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),n||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const t=Mr._createFromPositionAndShift(e.position,1);for(const e of this._markerCollection.getMarkersIntersectingRange(t)){const t=e.getRange();this.bufferMarkerChange(e.name,t,t,e.affectsData)}break}case"split":{const t=e.splitPosition.parent;this._isInInsertedElement(t)||this._markRemove(t,e.splitPosition.offset,e.howMany),this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);break}case"merge":{const t=e.sourcePosition.parent;this._isInInsertedElement(t.parent)||this._markRemove(t.parent,t.startOffset,1);const n=e.graveyardPosition.parent;this._markInsert(n,e.graveyardPosition.offset,1);const o=e.targetPosition.parent;this._isInInsertedElement(o)||this._markInsert(o,e.targetPosition.offset,t.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n,o){const i=this._changedMarkers.get(e);i?(i.newRange=n,i.affectsData=o,null==i.oldRange&&null==i.newRange&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{oldRange:t,newRange:n,affectsData:o})}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers)null!=n.oldRange&&e.push({name:t,range:n.oldRange});return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers)null!=n.newRange&&e.push({name:t,range:n.newRange});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(e=>({name:e[0],data:{oldRange:e[1].oldRange,newRange:e[1].newRange}}))}hasDataChanges(){for(const[,e]of this._changedMarkers)if(e.affectsData)return!0;return this._changesInElement.size>0}getChanges(e={includeChangesInGraveyard:!1}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();const t=[];for(const e of this._changesInElement.keys()){const n=this._changesInElement.get(e).sort((e,t)=>e.offset===t.offset?e.type!=t.type?"remove"==e.type?-1:1:0:e.offset<t.offset?-1:1),o=this._elementSnapshots.get(e),i=da(e.getChildren()),r=ha(o.length,n);let s=0,a=0;for(const n of r)if("i"===n)t.push(this._getInsertDiff(e,s,i[s].name)),s++;else if("r"===n)t.push(this._getRemoveDiff(e,s,o[a].name)),a++;else if("a"===n){const n=i[s].attributes,r=o[a].attributes;let l;if("$text"==i[s].name)l=new Mr(Ir._createAt(e,s),Ir._createAt(e,s+1));else{const t=e.offsetToIndex(s);l=new Mr(Ir._createAt(e,s),Ir._createAt(e.getChild(t),0))}t.push(...this._getAttributesDiff(l,r,n)),s++,a++}else s++,a++}t.sort((e,t)=>e.position.root!=t.position.root?e.position.root.rootName<t.position.root.rootName?-1:1:e.position.isEqual(t.position)?e.changeCount-t.changeCount:e.position.isBefore(t.position)?-1:1);for(let e=1;e<t.length;e++){const n=t[e-1],o=t[e],i="remove"==n.type&&"remove"==o.type&&"$text"==n.name&&"$text"==o.name&&n.position.isEqual(o.position),r="insert"==n.type&&"insert"==o.type&&"$text"==n.name&&"$text"==o.name&&n.position.parent==o.position.parent&&n.position.offset+n.length==o.position.offset,s="attribute"==n.type&&"attribute"==o.type&&n.position.parent==o.position.parent&&n.range.isFlat&&o.range.isFlat&&n.position.offset+n.length==o.position.offset&&n.attributeKey==o.attributeKey&&n.attributeOldValue==o.attributeOldValue&&n.attributeNewValue==o.attributeNewValue;(i||r||s)&&(t[e-1].length++,s&&(t[e-1].range.end=t[e-1].range.end.getShiftedBy(1)),t.splice(e,1),e--)}for(const e of t)delete e.changeCount,"attribute"==e.type&&(delete e.position,delete e.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t.slice(),this._cachedChanges=t.slice().filter(pa),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(e,t,n){const o={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,o)}_markRemove(e,t,n){const o={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,o),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let e=0;e<n.length;e++)n[e].howMany<1&&(n.splice(e,1),e--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,da(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const o=e.offset+e.howMany,i=n.offset+n.howMany;if("insert"==e.type&&("insert"==n.type&&(e.offset<=n.offset?n.offset+=e.howMany:e.offset<i&&(n.howMany+=e.nodesToHandle,e.nodesToHandle=0)),"remove"==n.type&&e.offset<n.offset&&(n.offset+=e.howMany),"attribute"==n.type))if(e.offset<=n.offset)n.offset+=e.howMany;else if(e.offset<i){const i=n.howMany;n.howMany=e.offset-n.offset,t.unshift({type:"attribute",offset:o,howMany:i-n.howMany,count:this._changeCount++})}if("remove"==e.type){if("insert"==n.type)if(o<=n.offset)n.offset-=e.howMany;else if(o<=i)if(e.offset<n.offset){const t=o-n.offset;n.offset=e.offset,n.howMany-=t,e.nodesToHandle-=t}else n.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=n.offset)e.nodesToHandle-=n.howMany,n.howMany=0;else if(e.offset<i){const t=i-e.offset;n.howMany-=t,e.nodesToHandle-=t}if("remove"==n.type&&(o<=n.offset?n.offset-=e.howMany:e.offset<n.offset&&(e.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(o<=n.offset)n.offset-=e.howMany;else if(e.offset<n.offset){const t=o-n.offset;n.offset=e.offset,n.howMany-=t}else if(e.offset<i)if(o<=i){const o=n.howMany;n.howMany=e.offset-n.offset;const i=o-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:i,count:this._changeCount++})}else n.howMany-=i-e.offset}if("attribute"==e.type){if("insert"==n.type)if(e.offset<n.offset&&o>n.offset){if(o>i){const e={type:"attribute",offset:i,howMany:o-i,count:this._changeCount++};this._handleChange(e,t),t.push(e)}e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=n.offset&&e.offset<i&&(o>i?(e.nodesToHandle=o-i,e.offset=i):e.nodesToHandle=0);if("remove"==n.type&&e.offset<n.offset&&o>n.offset){const i={type:"attribute",offset:n.offset,howMany:o-n.offset,count:this._changeCount++};this._handleChange(i,t),t.push(i),e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}"attribute"==n.type&&(e.offset>=n.offset&&o<=i?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=n.offset&&o>=i&&(n.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:"insert",position:Ir._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,n){return{type:"remove",position:Ir._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,n){const o=[];n=new Map(n);for(const[i,r]of t){const t=n.has(i)?n.get(i):null;t!==r&&o.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:i,attributeOldValue:r,attributeNewValue:t,changeCount:this._changeCount++}),n.delete(i)}for(const[t,i]of n)o.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:t,attributeOldValue:null,attributeNewValue:i,changeCount:this._changeCount++});return o}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const n=this._changesInElement.get(t),o=e.startOffset;if(n)for(const e of n)if("insert"==e.type&&o>=e.offset&&o<e.offset+e.howMany)return!0;return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const o=new Mr(Ir._createAt(e,t),Ir._createAt(e,t+n));for(const e of o.getItems({shallow:!0}))e.is("element")&&(this._elementSnapshots.delete(e),this._changesInElement.delete(e),this._removeAllNestedChanges(e,0,e.maxOffset))}}function da(e){const t=[];for(const n of e)if(n.is("text"))for(let e=0;e<n.data.length;e++)t.push({name:"$text",attributes:new Map(n.getAttributes())});else t.push({name:n.name,attributes:new Map(n.getAttributes())});return t}function ha(e,t){const n=[];let o=0,i=0;for(const e of t){if(e.offset>o){for(let t=0;t<e.offset-o;t++)n.push("e");i+=e.offset-o}if("insert"==e.type){for(let t=0;t<e.howMany;t++)n.push("i");o=e.offset+e.howMany}else if("remove"==e.type){for(let t=0;t<e.howMany;t++)n.push("r");o=e.offset,i+=e.howMany}else n.push(..."a".repeat(e.howMany).split("")),o=e.offset+e.howMany,i+=e.howMany}if(i<e)for(let t=0;t<e-i-o;t++)n.push("e");return n}function pa(e){const t=e.position&&"$graveyard"==e.position.root.rootName,n=e.range&&"$graveyard"==e.range.root.rootName;return!t&&!n}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fa{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}addOperation(e){this._operations.includes(e)||this._operations.push(e)}getOperations(e=0,t=Number.POSITIVE_INFINITY){return e<0?[]:this._operations.slice(e,t)}getOperation(e){return this._operations[e]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ma(e,t){return!!(n=e.charAt(t-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(e){return!!e&&1==e.length&&/[\udc00-\udfff]/.test(e)}(e.charAt(t));var n}function ga(e,t){return!!(n=e.charAt(t))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ba{constructor(e){this.model=e,this.version=0,this.history=new fa(this),this.selection=new Kr(this),this.roots=new mo({idProperty:"rootName"}),this.differ=new ua(e.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root","$graveyard"),this.listenTo(e,"applyOperation",(e,t)=>{const n=t[0];if(n.isDocumentOperation&&n.baseVersion!==this.version)throw new an.b("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",this,{operation:n})},{priority:"highest"}),this.listenTo(e,"applyOperation",(e,t)=>{const n=t[0];n.isDocumentOperation&&this.differ.bufferOperation(n)},{priority:"high"}),this.listenTo(e,"applyOperation",(e,t)=>{const n=t[0];n.isDocumentOperation&&(this.version++,this.history.addOperation(n))},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(e,t,n,o)=>{this.differ.bufferMarkerChange(t.name,n,o,t.affectsData),null===n&&t.on("change",(e,n)=>{this.differ.bufferMarkerChange(t.name,n,t.getRange(),t.affectsData)})})}get graveyard(){return this.getRoot("$graveyard")}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new an.b("model-document-createRoot-name-exists: Root with specified name already exists.",this,{name:t});const n=new oa(this,e,t);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(){return Array.from(this.roots,e=>e.rootName).filter(e=>"$graveyard"!=e)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=xn(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const e of this.roots)if(e!==this.graveyard)return e;return this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,o=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(o)||t.createRange(o)}_validateSelectionRange(e){return wa(e.start)&&wa(e.end)}_callPostFixers(e){let t=!1;do{for(const n of this._postFixers)if(this.selection.refresh(),t=n(e),t)break}while(t)}}function wa(e){const t=e.textNode;if(t){const n=t.data,o=e.offset-t.startOffset;return!ma(n,o)&&!ga(n,o)}return!0}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */_n(ba,fn);class ka{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){return this._markers.has(e)}get(e){return this._markers.get(e)||null}_set(e,t,n=!1,o=!1){const i=e instanceof va?e.name:e,r=this._markers.get(i);if(r){const e=r.getRange();let s=!1;return e.isEqual(t)||(r._attachLiveRange(qr.fromRange(t)),s=!0),n!=r.managedUsingOperations&&(r._managedUsingOperations=n,s=!0),"boolean"==typeof o&&o!=r.affectsData&&(r._affectsData=o,s=!0),s&&this.fire("update:"+i,r,e,t),r}const s=qr.fromRange(t),a=new va(i,s,n,o);return this._markers.set(i,a),this.fire("update:"+i,a,null,t),a}_remove(e){const t=e instanceof va?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire("update:"+t,n,n.getRange(),null),this._destroyMarker(n),!0)}_refresh(e){const t=e instanceof va?e.name:e,n=this._markers.get(t);if(!n)throw new an.b("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.",this);const o=n.getRange();this.fire("update:"+t,n,o,o,n.managedUsingOperations,n.affectsData)}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)null!==t.getRange().getIntersection(e)&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}_n(ka,fn);class va{constructor(e,t,n,o){this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=o}get managedUsingOperations(){if(!this._liveRange)throw new an.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new an.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._affectsData}getStart(){if(!this._liveRange)throw new an.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new an.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new an.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.toRange()}is(e){return"marker"==e||"model:marker"==e}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}_n(va,fn);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class _a extends Ir{constructor(e,t,n="toNone"){if(super(e,t,n),!this.root.is("rootElement"))throw new an.b("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.",e);ya.call(this)}detach(){this.stopListening()}is(e){return"livePosition"==e||"model:livePosition"==e||super.is(e)}toPosition(){return new Ir(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function ya(){this.listenTo(this.root.document.model,"applyOperation",(e,t)=>{const n=t[0];n.isDocumentOperation&&xa.call(this,n)},{priority:"low"})}function xa(e){const t=this.getTransformedByOperation(e);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",e)}}_n(_a,fn);class Ca{constructor(e,t,n){this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(e,t){e=Array.from(e);for(let n=0;n<e.length;n++){const o=e[n];this._handleNode(o,{isFirst:0===n&&t.isFirst,isLast:n===e.length-1&&t.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}getSelectionRange(){return this.nodeToSelect?Mr._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Mr(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e,t){if(this.schema.isObject(e))return void this._handleObject(e,t);this._checkAndSplitToAllowedPosition(e,t)?(this._insert(e),this._mergeSiblingsOf(e,t)):this._handleDisallowedNode(e,t)}_handleObject(e,t){this._checkAndSplitToAllowedPosition(e)?this._insert(e):this._tryAutoparagraphing(e,t)}_handleDisallowedNode(e,t){e.is("element")?this.handleNodes(e.getChildren(),t):this._tryAutoparagraphing(e,t)}_insert(e){if(!this.schema.checkChild(this.position,e))throw new an.b("insertcontent-wrong-position: Given node cannot be inserted on the given position.",this,{node:e,position:this.position});const t=_a.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this.writer.insert(e,this.position),this.position=t.toPosition(),t.detach(),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=e:this.nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=_a.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=_a.fromPosition(e,"toNext"))}_mergeSiblingsOf(e,t){if(!(e instanceof Ar))return;const n=this._canMergeLeft(e,t),o=this._canMergeRight(e,t),i=_a._createBefore(e);i.stickiness="toNext";const r=_a._createAfter(e);if(r.stickiness="toNext",n){const e=_a.fromPosition(this.position);e.stickiness="toNext",this._affectedStart.isEqual(i)&&(this._affectedStart.detach(),this._affectedStart=_a._createAt(i.nodeBefore,"end","toPrevious")),this.writer.merge(i),i.isEqual(this._affectedEnd)&&t.isLast&&(this._affectedEnd.detach(),this._affectedEnd=_a._createAt(i.nodeBefore,"end","toNext")),this.position=e.toPosition(),e.detach()}if(o){if(!this.position.isEqual(r))throw new an.b("insertcontent-invalid-insertion-position",this);this.position=Ir._createAt(r.nodeBefore,"end");const e=_a.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(r)&&(this._affectedEnd.detach(),this._affectedEnd=_a._createAt(r.nodeBefore,"end","toNext")),this.writer.merge(r),r.getShiftedBy(-1).isEqual(this._affectedStart)&&t.isFirst&&(this._affectedStart.detach(),this._affectedStart=_a._createAt(r.nodeBefore,0,"toPrevious")),this.position=e.toPosition(),e.detach()}(n||o)&&this._filterAttributesOf.push(this.position.parent),i.detach(),r.detach()}_canMergeLeft(e,t){const n=e.previousSibling;return t.isFirst&&n instanceof Ar&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,e)}_canMergeRight(e,t){const n=e.nextSibling;return t.isLast&&n instanceof Ar&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(e,n)}_tryAutoparagraphing(e,t){const n=this.writer.createElement("paragraph");this._getAllowedIn(n,this.position.parent)&&this.schema.checkChild(n,e)&&(n._appendChild(e),this._handleNode(n,t))}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(e,this.position.parent);if(!t)return!1;for(;t!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){const e=this.position.parent;this.position=this.writer.createPositionBefore(e),e.isEmpty&&e.parent===t&&this.writer.remove(e)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const e=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=e,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(e,t){return this.schema.checkChild(t,e)?t:t.parent?this._getAllowedIn(e,t.parent):null}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ta(e,t,n={}){if(t.isCollapsed)return;const o=t.getFirstRange();if("$graveyard"==o.root.rootName)return;const i=e.schema;e.change(e=>{if(!n.doNotResetEntireContent&&function(e,t){const n=e.getLimitElement(t);if(!t.containsEntireContent(n))return!1;const o=t.getFirstRange();if(o.start.parent==o.end.parent)return!1;return e.checkChild(n,"paragraph")}(i,t))return void function(e,t){const n=e.model.schema.getLimitElement(t);e.remove(e.createRangeIn(n)),Ea(e,e.createPositionAt(n,0),t)}(e,t);const r=o.start,s=_a.fromPosition(o.end,"toNext");if(o.start.isTouching(o.end)||e.remove(o),n.leaveUnmerged||(!function e(t,n,o){const i=n.parent,r=o.parent;if(i==r)return;if(t.model.schema.isLimit(i)||t.model.schema.isLimit(r))return;if(!function(e,t,n){const o=new Mr(e,t);for(const e of o.getWalker())if(n.isLimit(e.item))return!1;return!0}(n,o,t.model.schema))return;n=t.createPositionAfter(i),(o=t.createPositionBefore(r)).isEqual(n)||t.insert(r,n);t.merge(n);for(;o.parent.isEmpty;){const e=o.parent;o=t.createPositionBefore(e),t.remove(e)}e(t,n,o)}(e,r,s),i.removeDisallowedAttributes(r.parent.getChildren(),e)),Sa(e,t,r),function(e,t){const n=e.checkChild(t,"$text"),o=e.checkChild(t,"paragraph");return!n&&o}(i,r)){const o=i.getNearestSelectionRange(r);n.doNotAutoparagraph&&o?Sa(e,t,o):Ea(e,r,t)}s.detach()})}function Ea(e,t,n){const o=e.createElement("paragraph");e.insert(o,t),Sa(e,n,e.createPositionAt(o,0))}function Sa(e,t,n){t instanceof Kr?e.setSelection(n):t.setTo(n)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Pa(e,t){if("text"==t.type)return"word"===e.unit?function(e,t){let n=e.position.textNode;if(n){let o=e.position.offset-n.startOffset;for(;!Ra(n.data,o,t)&&!Oa(n,o,t);){e.next();const i=t?e.position.nodeAfter:e.position.nodeBefore;if(i&&i.is("text")){const o=i.data.charAt(t?0:i.data.length-1);' ,.?!:;"-()'.includes(o)||(e.next(),n=e.position.textNode)}o=e.position.offset-n.startOffset}}return e.position}(e.walker,e.isForward):function(e,t){const n=e.position.textNode;if(n){const o=n.data;let i=e.position.offset-n.startOffset;for(;ma(o,i)||"character"==t&&ga(o,i);)e.next(),i=e.position.offset-n.startOffset}return e.position}(e.walker,e.unit,e.isForward);if(t.type==(e.isForward?"elementStart":"elementEnd")){if(e.schema.isObject(t.item))return Ir._createAt(t.item,e.isForward?"after":"before");if(e.schema.checkChild(t.nextPosition,"$text"))return t.nextPosition}else{if(e.schema.isLimit(t.item))return void e.walker.skip(()=>!0);if(e.schema.checkChild(t.nextPosition,"$text"))return t.nextPosition}}function Aa(e,t){const n=e.root,o=Ir._createAt(n,t?"end":0);return t?new Mr(e,o):new Mr(o,e)}function Ra(e,t,n){const o=t+(n?0:-1);return' ,.?!:;"-()'.includes(e.charAt(o))}function Oa(e,t,n){return t===(n?e.endOffset:0)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Na(e,t){const n=[];Array.from(e.getItems({direction:"backward"})).map(e=>t.createRangeOn(e)).filter(t=>(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end))).forEach(e=>{n.push(e.start.parent),t.remove(e)}),n.forEach(e=>{let n=e;for(;n.parent&&n.isEmpty;){const e=t.createRangeOn(n);n=n.parent,t.remove(e)}})}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ia(e){e.document.registerPostFixer(t=>function(e,t){const n=t.document.selection,o=t.schema,i=[];let r=!1;for(const e of n.getRanges()){const t=Ma(e,o);t?(i.push(t),r=!0):i.push(e)}if(r){let t=i;if(i.length>1){const e=i[0].start,n=i[i.length-1].end;t=[new Mr(e,n)]}e.setSelection(t,{backward:n.isBackward})}}(t,e))}function Ma(e,t){return e.isCollapsed?function(e,t){const n=e.start,o=t.getNearestSelectionRange(n);if(!o)return null;const i=o.start;if(n.isEqual(i))return null;if(i.nodeAfter&&t.isLimit(i.nodeAfter))return new Mr(i,Ir._createAfter(i.nodeAfter));return new Mr(i)}(e,t):function(e,t){const n=e.start,o=e.end,i=t.checkChild(n,"$text"),r=t.checkChild(o,"$text"),s=t.getLimitElement(n),a=t.getLimitElement(o);if(s===a){if(i&&r)return null;if(function(e,t,n){const o=e.nodeAfter&&!n.isLimit(e.nodeAfter)||n.checkChild(e,"$text"),i=t.nodeBefore&&!n.isLimit(t.nodeBefore)||n.checkChild(t,"$text");return o||i}(n,o,t)){const e=n.nodeAfter&&t.isObject(n.nodeAfter)?null:t.getNearestSelectionRange(n,"forward"),i=o.nodeBefore&&t.isObject(o.nodeBefore)?null:t.getNearestSelectionRange(o,"backward"),r=e?e.start:n,s=i?i.start:o;return new Mr(r,s)}}const l=s&&!s.is("rootElement"),c=a&&!a.is("rootElement");if(l||c){const e=n.nodeAfter&&o.nodeBefore&&n.nodeAfter.parent===o.nodeBefore.parent,i=l&&(!e||!Da(n.nodeAfter,t)),r=c&&(!e||!Da(o.nodeBefore,t));let u=n,d=o;return i&&(u=Ir._createBefore(za(s,t))),r&&(d=Ir._createAfter(za(a,t))),new Mr(u,d)}return null}(e,t)}function za(e,t){let n=e,o=n;for(;t.isLimit(o)&&o.parent;)n=o,o=o.parent;return n}function Da(e,t){return e&&t.isObject(e)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Va{constructor(){this.markers=new ka,this.document=new ba(this),this.schema=new ks,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if("$marker"===t.name)return!0}),Ia(this)}change(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Vs,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(e){an.b.rethrowUnexpectedError(e,this)}}enqueueChange(e,t){try{"string"==typeof e?e=new Vs(e):"function"==typeof e&&(t=e,e=new Vs),this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(e){an.b.rethrowUnexpectedError(e,this)}}applyOperation(e){e._execute()}insertContent(e,t,n){
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
return function(e,t,n,o){return e.change(i=>{let r;r=n?n instanceof Lr||n instanceof Kr?n:i.createSelection(n,o):e.document.selection;const s=r.getFirstPosition();r.isCollapsed||e.deleteContent(r,{doNotAutoparagraph:!0});const a=new Ca(e,i,s);let l;l=t.is("documentFragment")?t.getChildren():[t],a.handleNodes(l,{isFirst:!0,isLast:!0});const c=a.getSelectionRange();c&&(r instanceof Kr?i.setSelection(c):r.setTo(c));const u=a.getAffectedRange()||e.createRange(s);return a.destroy(),u})}(this,e,t,n)}deleteContent(e,t){Ta(this,e,t)}modifySelection(e,t){!function(e,t,n={}){const o=e.schema,i="backward"!=n.direction,r=n.unit?n.unit:"character",s=t.focus,a=new Rr({boundaries:Aa(s,i),singleCharacters:!0,direction:i?"forward":"backward"}),l={walker:a,schema:o,isForward:i,unit:r};let c;for(;c=a.next();){if(c.done)return;const n=Pa(l,c.value);if(n)return void(t instanceof Kr?e.change(e=>{e.setSelectionFocus(n)}):t.setFocus(n))}}(this,e,t)}getSelectedContent(e){return function(e,t){return e.change(e=>{const n=e.createDocumentFragment(),o=t.getFirstRange();if(!o||o.isCollapsed)return n;const i=o.start.root,r=o.start.getCommonPath(o.end),s=i.getNodeByPath(r);let a;a=o.start.parent==o.end.parent?o:e.createRange(e.createPositionAt(s,o.start.path[r.length]),e.createPositionAt(s,o.end.path[r.length]+1));const l=a.end.offset-a.start.offset;for(const t of a.getItems({shallow:!0}))t.is("textProxy")?e.appendText(t.data,t.getAttributes(),n):e.append(t._clone(!0),n);if(a!=o){const t=o._getTransformedByMove(a.start,e.createPositionAt(n,0),l)[0],i=e.createRange(e.createPositionAt(n,0),t.start);Na(e.createRange(t.end,e.createPositionAt(n,"end")),e),Na(i,e)}return n})}(this,e)}hasContent(e,t){const n=e instanceof Ar?Mr._createIn(e):e;if(n.isCollapsed)return!1;for(const e of this.markers.getMarkersIntersectingRange(n))if(e.affectsData)return!0;const{ignoreWhitespaces:o=!1}=t||{};for(const e of n.getItems())if(e.is("textProxy")){if(!o)return!0;if(-1!==e.data.search(/\S/))return!0}else if(this.schema.isObject(e))return!0;return!1}createPositionFromPath(e,t,n){return new Ir(e,t,n)}createPositionAt(e,t){return Ir._createAt(e,t)}createPositionAfter(e){return Ir._createAfter(e)}createPositionBefore(e){return Ir._createBefore(e)}createRange(e,t){return new Mr(e,t)}createRangeIn(e){return Mr._createIn(e)}createRangeOn(e){return Mr._createOn(e)}createSelection(e,t,n){return new Lr(e,t,n)}createBatch(e){return new Vs(e)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new ia(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),e}}_n(Va,Qn);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Ba{constructor(){this._listener=Object.create(ki)}listenTo(e){this._listener.listenTo(e,"keydown",(e,t)=>{this._listener.fire("_keydown:"+So(t),t)})}set(e,t,n={}){const o=Po(e),i=n.priority;this._listener.listenTo(this._listener,"_keydown:"+o,(e,n)=>{t(n,()=>{n.preventDefault(),n.stopPropagation(),e.stop()}),e.return=!0},{priority:i})}press(e){return!!this._listener.fire("_keydown:"+So(e),e)}destroy(){this._listener.stopListening()}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Fa extends Ba{constructor(e){super(),this.editor=e}set(e,t,n={}){if("string"==typeof t){const e=t;t=(t,n)=>{this.editor.execute(e),n()}}super.set(e,t,n)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class La{constructor(e){const t=this.constructor.builtinPlugins;this.config=new rn(e,this.constructor.defaultConfig),this.config.define("plugins",t),this.plugins=new ds(this,t),this.commands=new hs;const n=this.config.get("language")||{};this.locale=new ms({uiLanguage:"string"==typeof n?n:n.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.set("isReadOnly",!1),this.model=new Va,this.data=new Is(this.model),this.editing=new us(this.model),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Ms([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Fa(this),this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){const e=this.config,t=e.get("plugins")||[],n=e.get("removePlugins")||[],o=e.get("extraPlugins")||[];return this.plugins.init(t.concat(o),n)}destroy(){let e=Promise.resolve();return"initializing"==this.state&&(e=new Promise(e=>this.once("ready",e))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})}execute(...e){try{this.commands.execute(...e)}catch(e){an.b.rethrowUnexpectedError(e,this)}}}_n(La,Qn);var ja={setData(e){this.data.set(e)},getData(e){return this.data.get(e)}};
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var Ha={updateSourceElement(){if(!this.sourceElement)throw new an.b("editor-missing-sourceelement: Cannot update the source element of a detached editor.",this);var e,t;
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */e=this.sourceElement,t=this.data.get(),e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}};
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Wa{getHtml(e){const t=document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ua{constructor(){this._domParser=new DOMParser,this._domConverter=new fi({blockFillerMode:"nbsp"}),this._htmlWriter=new Wa}toData(e){const t=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this._domConverter.domToView(t)}_toDom(e){const t=this._domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),o=t.body.childNodes;for(;o.length>0;)n.appendChild(o[0]);return n}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qa{constructor(e){this.editor=e,this._components=new Map}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){if(this.has(e))throw new an.b("componentfactory-item-exists: The item already exists in the component factory.",this,{name:e});this._components.set($a(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new an.b("componentfactory-item-missing: The required component is not registered in the factory.",this,{name:e});return this._components.get($a(e)).callback(this.editor.locale)}has(e){return this._components.has($a(e))}}function $a(e){return String(e).toLowerCase()}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ga{constructor(){this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(e){if(this._elements.has(e))throw new an.b("focusTracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(e),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}_n(Ga,ki),_n(Ga,Qn);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Ka{constructor(e){this.editor=e,this.componentFactory=new qa(e),this.focusTracker=new Ga,this._editableElementsMap=new Map,this.listenTo(e.editing.view.document,"layoutChanged",()=>this.update())}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null;this._editableElementsMap=new Map}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}_n(Ka,fn);n(13);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ja=new WeakMap;function Ya(e,t){return!!t.hasClass("ck-placeholder")&&(e.removeClass("ck-placeholder",t),!0)}function Qa(e,t){const n=Ja.get(e);let o=!1;for(const[e,i]of n)Xa(t,e,i)&&(o=!0);return o}function Xa(e,t,n){const{text:o,isDirectHost:i}=n,r=i?t:function(e){if(1===e.childCount){const t=e.getChild(0);if(t.is("element")&&!t.is("uiElement"))return t}return null}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(t);let s=!1;return!!r&&(n.hostElement=r,r.getAttribute("data-placeholder")!==o&&(e.setAttribute("data-placeholder",o,r),s=!0),!function(e){const t=e.document;if(!t)return!1;const n=!Array.from(e.getChildren()).some(e=>!e.is("uiElement"));if(!t.isFocused&&n)return!0;const o=t.selection.anchor;return!(!n||!o||o.parent===e)}(r)?Ya(e,r)&&(s=!0):function(e,t){return!t.hasClass("ck-placeholder")&&(e.addClass("ck-placeholder",t),!0)}(e,r)&&(s=!0),s)}class Za{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class el extends Ka{constructor(e,t){
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
var n;super(e),this.view=t,this._toolbarConfig=(n=e.config.get("toolbar"),Array.isArray(n)?{items:n}:n?Object.assign({items:[]},n):{items:[]}),this._elementReplacer=new Za}get element(){return this.view.element}init(e){const t=this.editor,n=this.view,o=t.editing.view,i=n.editable,r=o.document.getRoot();i.name=r.rootName,n.render();const s=i.element;this.setEditableElement(i.name,s),this.focusTracker.add(s),n.editable.bind("isFocused").to(this.focusTracker),o.attachDomRoot(s),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy(),super.destroy()}_initToolbar(){const e=this.editor,t=this.view,n=e.editing.view;t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),t.stickyPanel.limiterElement=t.element,this._toolbarConfig.viewportTopOffset&&(t.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),t.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function({origin:e,originKeystrokeHandler:t,originFocusTracker:n,toolbar:o,beforeFocus:i,afterBlur:r}){n.add(o.element),t.set("Alt+F10",(e,t)=>{n.isFocused&&!o.focusTracker.isFocused&&(i&&i(),o.focus(),t())}),o.keystrokes.set("Esc",(t,n)=>{o.focusTracker.isFocused&&(e.focus(),r&&r(),n())})}({origin:n,originFocusTracker:this.focusTracker,originKeystrokeHandler:e.keystrokes,toolbar:t.toolbar})}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot(),o=e.sourceElement,i=e.config.get("placeholder")||o&&"textarea"===o.tagName.toLowerCase()&&o.getAttribute("placeholder");i&&function(e){const{view:t,element:n,text:o,isDirectHost:i=!0}=e,r=t.document;Ja.has(r)||(Ja.set(r,new Map),r.registerPostFixer(e=>Qa(r,e))),Ja.get(r).set(n,{text:o,isDirectHost:i}),t.change(e=>Qa(r,e))}({view:t,element:n,text:i,isDirectHost:!1})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class tl extends mo{constructor(e){super({idProperty:"viewUid"}),this.on("add",(e,t,n)=>{t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[n])}),this.on("remove",(e,t)=>{t.element&&this._parentElement&&t.element.remove()}),this.locale=e,this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e}delegate(...e){if(!e.length||!e.every(e=>"string"==typeof e))throw new an.b("ui-viewcollection-delegate-wrong-events: All event names must be strings.",this);return{to:t=>{for(const n of this)for(const o of e)n.delegate(o).to(t);this.on("add",(n,o)=>{for(const n of e)o.delegate(n).to(t)}),this.on("remove",(n,o)=>{for(const n of e)o.stopDelegating(n,t)})}}}}class nl{constructor(e){Object.assign(this,hl(dl(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new an.b("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const n of t.children)bl(n)?yield n:wl(n)&&(yield*e(n))}(this)}static bind(e,t){return{to:(n,o)=>new il({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:o}),if:(n,o,i)=>new rl({observable:e,emitter:t,attribute:n,valueIfTrue:o,callback:i})}}static extend(e,t){if(e._isRendered)throw new an.b("template-extend-render: Attempting to extend a template which has already been rendered.",[this,e]);!function e(t,n){n.attributes&&(t.attributes||(t.attributes={}),ml(t.attributes,n.attributes));n.eventListeners&&(t.eventListeners||(t.eventListeners={}),ml(t.eventListeners,n.eventListeners));n.text&&t.text.push(...n.text);if(n.children&&n.children.length){if(t.children.length!=n.children.length)throw new an.b("ui-template-extend-children-mismatch: The number of children in extended definition does not match.",t);let o=0;for(const i of n.children)e(t.children[o++],i)}}(e,hl(dl(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new an.b('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.',this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),sl(this.text)?this._bindToObservable({schema:this.text,updater:ll(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){let t,n,o,i;if(!this.attributes)return;const r=e.node,s=e.revertData;for(t in this.attributes)if(o=r.getAttribute(t),n=this.attributes[t],s&&(s.attributes[t]=o),i=V(n[0])&&n[0].ns?n[0].ns:null,sl(n)){const a=i?n[0].value:n;s&&vl(t)&&a.unshift(o),this._bindToObservable({schema:a,updater:cl(r,t,i),data:e})}else"style"==t&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],e):(s&&o&&vl(t)&&n.unshift(o),n=n.map(e=>e&&e.value||e).reduce((e,t)=>e.concat(t),[]).reduce(fl,""),gl(n)||r.setAttributeNS(i,t,n))}_renderStyleAttribute(e,t){const n=t.node;for(const o in e){const i=e[o];sl(i)?this._bindToObservable({schema:[i],updater:ul(n,o),data:t}):n.style[o]=i}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,o=e.isApplying;let i=0;for(const r of this.children)if(kl(r)){if(!o){r.setParent(t);for(const e of r)n.appendChild(e.element)}}else if(bl(r))o||(r.isRendered||r.render(),n.appendChild(r.element));else if(ri(r))n.appendChild(r);else if(o){const t={children:[],bindings:[],attributes:{}};e.revertData.children.push(t),r._renderNode({node:n.childNodes[i++],isApplying:!0,revertData:t})}else n.appendChild(r.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const n=this.eventListeners[t].map(n=>{const[o,i]=t.split("@");return n.activateDomEventListener(o,i,e)});e.revertData&&e.revertData.bindings.push(n)}}_bindToObservable({schema:e,updater:t,data:n}){const o=n.revertData;al(e,t,n);const i=e.filter(e=>!gl(e)).filter(e=>e.observable).map(o=>o.activateAttributeListener(e,t,n));o&&o.bindings.push(i)}_revertTemplateFromNode(e,t){for(const e of t.bindings)for(const t of e)t();if(t.text)e.textContent=t.text;else{for(const n in t.attributes){const o=t.attributes[n];null===o?e.removeAttribute(n):e.setAttribute(n,o)}for(let n=0;n<t.children.length;++n)this._revertTemplateFromNode(e.childNodes[n],t.children[n])}}}_n(nl,fn);class ol{constructor(e){Object.assign(this,e)}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const o=()=>al(e,t,n);return this.emitter.listenTo(this.observable,"change:"+this.attribute,o),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,o)}}}class il extends ol{activateDomEventListener(e,t,n){const o=(e,n)=>{t&&!n.target.matches(t)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,e,o),()=>{this.emitter.stopListening(n.node,e,o)}}}class rl extends ol{getValue(e){return!gl(super.getValue(e))&&(this.valueIfTrue||!0)}}function sl(e){return!!e&&(e.value&&(e=e.value),Array.isArray(e)?e.some(sl):e instanceof ol)}function al(e,t,{node:n}){let o=function(e,t){return e.map(e=>e instanceof ol?e.getValue(t):e)}(e,n);o=1==e.length&&e[0]instanceof rl?o[0]:o.reduce(fl,""),gl(o)?t.remove():t.set(o)}function ll(e){return{set(t){e.textContent=t},remove(){e.textContent=""}}}function cl(e,t,n){return{set(o){e.setAttributeNS(n,t,o)},remove(){e.removeAttributeNS(n,t)}}}function ul(e,t){return{set(n){e.style[t]=n},remove(){e.style[t]=null}}}function dl(e){return nn(e,e=>{if(e&&(e instanceof ol||wl(e)||bl(e)||kl(e)))return e})}function hl(e){if("string"==typeof e?e=function(e){return{text:[e]}}(e):e.text&&function(e){Array.isArray(e.text)||(e.text=[e.text])}(e),e.on&&(e.eventListeners=function(e){for(const t in e)pl(e,t);return e}(e.on),delete e.on),!e.text){e.attributes&&function(e){for(const t in e)e[t].value&&(e[t].value=[].concat(e[t].value)),pl(e,t)}(e.attributes);const t=[];if(e.children)if(kl(e.children))t.push(e.children);else for(const n of e.children)wl(n)||bl(n)||ri(n)?t.push(n):t.push(new nl(n));e.children=t}return e}function pl(e,t){Array.isArray(e[t])||(e[t]=[e[t]])}function fl(e,t){return gl(t)?e:gl(e)?t:`${e} ${t}`}function ml(e,t){for(const n in t)e[n]?e[n].push(...t[n]):e[n]=t[n]}function gl(e){return!e&&0!==e}function bl(e){return e instanceof _l}function wl(e){return e instanceof nl}function kl(e){return e instanceof tl}function vl(e){return"class"==e||"style"==e}n(15);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _l{constructor(e){this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new mo,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,n)=>{n.locale=e}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=nl.bind(this,this)}createCollection(){const e=new tl;return this._viewCollections.add(e),e}registerChild(e){Pn(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){Pn(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new nl(e)}extendTemplate(e){nl.extend(this.template,e)}render(){if(this.isRendered)throw new an.b("ui-view-render-already-rendered: This View has already been rendered.",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}_n(_l,ki),_n(_l,Qn);n(17);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yl extends _l{constructor(e){super(e),this.body=this.createCollection()}render(){super.render(),this._renderBodyCollection()}destroy(){return this._bodyCollectionContainer.remove(),super.destroy()}_renderBodyCollection(){const e=this.locale,t=this._bodyCollectionContainer=new nl({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:e.uiLanguageDirection},children:this.body}).render();document.body.appendChild(t)}}n(19);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xl extends _l{constructor(e){super(e),this.set("text"),this.set("for");const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],for:t.to("for")},children:[{text:t.to("text")}]})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Cl extends yl{constructor(e){super(e);const t=un();this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":`ck-editor__aria-label_${t}`},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(e){const t=this.t,n=new xl;return n.text=t("Rich Text Editor"),n.extendTemplate({attributes:{id:`ck-editor__aria-label_${e}`,class:"ck-voice-label"}}),n}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Tl extends _l{constructor(e,t,n){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const e=this._editingView;function t(t){e.change(n=>{const o=e.document.getRoot(t.name);n.addClass(t.isFocused?"ck-focused":"ck-blurred",o),n.removeClass(t.isFocused?"ck-blurred":"ck-focused",o)})}e.isRenderingInProgress?function n(o){e.once("change:isRenderingInProgress",(e,i,r)=>{r?n(o):t(o)})}(this):t(this)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class El extends Tl{constructor(e,t,n){super(e,t,n),this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const e=this._editingView,t=this.t;e.change(n=>{const o=e.document.getRoot(this.name);n.setAttribute("aria-label",t("Rich Text Editor, %0",[this.name]),o)})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Sl(e){return t=>t+e}n(21);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Pl=Sl("px");class Al extends _l{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new nl({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",e=>e?"block":"none"),height:t.to("isSticky",e=>e?Pl(this._panelRect.height):null)}}}).render(),this._contentPanel=new nl({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",e=>e?Pl(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_hasViewportTopOffset",e=>e?Pl(this.viewportTopOffset):null),bottom:t.to("_isStickyToTheLimiter",e=>e?Pl(this.limiterBottomOffset):null),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(ui.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const e=this._panelRect=this._contentPanel.getBoundingClientRect();let t;this.limiterElement?(t=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&t.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<t.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=t.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Pl(-ui.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Rl{constructor(e){if(Object.assign(this,e),e.actions&&e.keystrokeHandler)for(const t in e.actions){let n=e.actions[t];"string"==typeof n&&(n=[n]);for(const o of n)e.keystrokeHandler.set(o,(e,n)=>{this[t](),n()})}}get first(){return this.focusables.find(Ol)||null}get last(){return this.focusables.filter(Ol).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((t,n)=>{const o=t.element===this.focusTracker.focusedElement;return o&&(e=n),o}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const t=this.current,n=this.focusables.length;if(!n)return null;if(null===t)return this[1===e?"first":"last"];let o=(t+n+e)%n;do{const t=this.focusables.get(o);if(Ol(t))return t;o=(o+n+e)%n}while(o!==t);return null}}function Ol(e){return!(!e.focus||"none"==ui.window.getComputedStyle(e.element).display)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Nl extends _l{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Il{constructor(e){this._callback=e,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}observe(e){this._elements.add(e),1===this._elements.size&&this._startPeriodicCheck()}unobserve(e){this._elements.delete(e),this._previousRects.delete(e),this._elements.size||this._stopPeriodicCheck()}disconnect(){this._elements.forEach(e=>this.unobserve(e))}_startPeriodicCheck(){const e=()=>{this._checkElementRectsAndExecuteCallback(),this._periodicCheckTimeout=setTimeout(e,100)};this.listenTo(ui.window,"resize",()=>{this._checkElementRectsAndExecuteCallback()}),e()}_stopPeriodicCheck(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}_checkElementRectsAndExecuteCallback(){const e=[];for(const t of this._elements)this._hasRectChanged(t)&&e.push({target:t,contentRect:this._previousRects.get(t)});e.length&&this._callback(e)}_hasRectChanged(e){if(!e.ownerDocument.body.contains(e))return!1;const t=new ur(e),n=this._previousRects.get(e),o=!n||!n.isEqual(t);return this._previousRects.set(e,t),o}}_n(Il,ki);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Ml extends _l{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",e=>`ck-dropdown__panel_${e}`),t.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:t.to(e=>e.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const e=this.children.last;"function"==typeof e.focusLast?e.focusLast():e.focus()}}}n(23);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function zl({element:e,target:t,positions:n,limiter:o,fitInViewport:i}){F(t)&&(t=t()),F(o)&&(o=o());const r=function(e){for(;e&&"html"!=e.tagName.toLowerCase();){if("static"!=ui.window.getComputedStyle(e).position)return e;e=e.parentElement}return null}(e.parentElement),s=new ur(e),a=new ur(t);let l,c;if(o||i){const e=o&&new ur(o).getVisible(),t=i&&new ur(ui.window);[c,l]=function(e,t,n,o,i){let r,s,a=0,l=0;const c=n.getArea();return e.some(e=>{const[u,d]=Dl(e,t,n);let h,p;if(o)if(i){const e=o.getIntersection(i);h=e?e.getIntersectionArea(d):0}else h=o.getIntersectionArea(d);function f(){l=p,a=h,r=d,s=u}return i&&(p=i.getIntersectionArea(d)),i&&!o?p>l&&f():!i&&o?h>a&&f():p>l&&h>=a?f():p>=l&&h>a&&f(),h===c}),r?[s,r]:null}(n,a,s,e,t)||Dl(n[0],a,s)}else[c,l]=Dl(n[0],a,s);let{left:u,top:d}=Vl(l);if(r){const e=Vl(new ur(r)),t=lr(r);u-=e.left,d-=e.top,u+=r.scrollLeft,d+=r.scrollTop,u-=t.left,d-=t.top}return{left:u,top:d,name:c}}function Dl(e,t,n){const{left:o,top:i,name:r}=e(t,n);return[r,n.clone().moveTo(o,i)]}function Vl({left:e,top:t}){const{scrollX:n,scrollY:o}=ui.window;return{left:e+n,top:t+o}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Bl extends _l{constructor(e,t,n){super(e);const o=this.bindTemplate;this.buttonView=t,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class"),this.set("panelPosition","auto"),this.focusTracker=new Ga,this.keystrokes=new Ba,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",o.to("class"),o.if("isEnabled","ck-disabled",e=>!e)]},children:[t,n]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",()=>{this.isOpen&&("auto"===this.panelPosition?this.panelView.position=Bl._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);const e=(e,t)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,t())};this.keystrokes.set("arrowdown",(e,t)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,t())}),this.keystrokes.set("arrowright",(e,t)=>{this.isOpen&&t()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:t,northEast:n,northWest:o}=Bl.defaultPanelPositions;return"ltr"===this.locale.uiLanguageDirection?[e,t,n,o]:[t,e,o,n]}}Bl.defaultPanelPositions={southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:"sw"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:"ne"}),northWest:(e,t)=>({top:e.bottom-t.height,left:e.left-t.width+e.width,name:"nw"})},Bl._getOptimalPosition=zl;n(25);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Fl extends _l{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=e.getAttribute("viewBox");for(t&&(this.viewBox=t),this.element.innerHTML="";e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}n(27);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ll extends _l{constructor(e){super(e),this.set("text",""),this.set("position","s");const t=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",t.to("position",e=>"ck-tooltip_"+e),t.if("text","ck-hidden",e=>!e.trim())]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:t.to("text")}]}]})}}n(29);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jl extends _l{constructor(e){super(e);const t=this.bindTemplate,n=un();this.set("class"),this.set("labelStyle"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(n),this.iconView=new Fl,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this)),this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",t.to("class"),t.if("isEnabled","ck-disabled",e=>!e),t.if("isVisible","ck-hidden",e=>!e),t.to("isOn",e=>e?"ck-on":"ck-off"),t.if("withText","ck-button_with-text"),t.if("withKeystroke","ck-button_with-keystroke")],type:t.to("type",e=>e||"button"),tabindex:t.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${n}`,"aria-disabled":t.if("isEnabled",!0,e=>!e),"aria-pressed":t.to("isOn",e=>!!this.isToggleable&&String(e))},children:this.children,on:{mousedown:t.to(e=>{e.preventDefault()}),click:t.to(e=>{this.isEnabled?this.fire("execute"):e.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createTooltipView(){const e=new Ll;return e.bind("text").to(this,"_tooltipString"),e.bind("position").to(this,"tooltipPosition"),e}_createLabelView(e){const t=new _l,n=this.bindTemplate;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:`ck-editor__aria-label_${e}`},children:[{text:this.bindTemplate.to("label")}]}),t}_createKeystrokeView(){const e=new _l;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",e=>Ao(e))}]}),e}_getTooltipString(e,t,n){return e?"string"==typeof e?e:(n&&(n=Ao(n)),e instanceof Function?e(t,n):`${t}${n?` (${n})`:""}`):""}}var Hl='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wl extends jl{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Fl;return e.content=Hl,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}n(31);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ul extends _l{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new Ga,this.keystrokes=new Ba,this._focusCycler=new Rl({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ql extends _l{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $l extends _l{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}n(33);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Gl extends jl{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new _l;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Kl({emitter:e,activator:t,callback:n,contextElements:o}){e.listenTo(document,"mousedown",(e,{target:i})=>{if(t()){for(const e of o)if(e.contains(i))return;n()}})}n(35),n(37);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function Jl(e,t=Wl){const n=new t(e),o=new Ml(e),i=new Bl(e,n,o);return n.bind("isEnabled").to(i),n instanceof Wl?n.bind("isOn").to(i,"isOpen"):n.arrowView.bind("isOn").to(i,"isOpen"),function(e){(function(e){e.on("render",()=>{Kl({emitter:e,activator:()=>e.isOpen,callback:()=>{e.isOpen=!1},contextElements:[e.element]})})})(e),function(e){e.on("execute",t=>{t.source instanceof Gl||(e.isOpen=!1)})}(e),function(e){e.keystrokes.set("arrowdown",(t,n)=>{e.isOpen&&(e.panelView.focus(),n())}),e.keystrokes.set("arrowup",(t,n)=>{e.isOpen&&(e.panelView.focusLast(),n())})}(e)}(i),i}function Yl(e,t){const n=e.locale,o=n.t,i=e.toolbarView=new Xl(n);i.set("ariaLabel",o("Dropdown toolbar")),e.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),t.map(e=>i.items.add(e)),e.panelView.children.add(i),i.items.delegate("execute").to(e)}function Ql(e,t){const n=e.locale,o=e.listView=new Ul(n);o.items.bindTo(t).using(({type:e,model:t})=>{if("separator"===e)return new $l(n);if("button"===e||"switchbutton"===e){const o=new ql(n);let i;return i="button"===e?new jl(n):new Gl(n),i.bind(...Object.keys(t)).to(t),i.delegate("execute").to(o),o.children.add(i),o}}),e.panelView.children.add(o),o.items.delegate("execute").to(e)}n(39);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Xl extends _l{constructor(e,t){super(e);const n=this.bindTemplate,o=this.t;
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
var i;this.options=t||{},this.set("ariaLabel",o("Editor toolbar")),this.items=this.createCollection(),this.focusTracker=new Ga,this.keystrokes=new Ba,this.set("class"),this.itemsView=new Zl(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection(),this._focusCycler=new Rl({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",n.to("class")],role:"toolbar","aria-label":n.to("ariaLabel")},children:this.children,on:{mousedown:(i=this,i.bindTemplate.to(e=>{e.target===i.element&&e.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new tc(this):new ec(this)}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t){e.map(e=>{"|"==e?this.items.add(new Nl):t.has(e)?this.items.add(t.create(e)):console.warn(Object(an.a)("toolbarview-item-unavailable: The requested toolbar item is unavailable."),{name:e})})}}class Zl extends _l{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class ec{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(e=>e),e.focusables.bindTo(e.items).using(e=>e),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class tc{constructor(e){this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,e.itemsView.children.bindTo(this.ungroupedItems).using(e=>e),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),e.children.on("add",this._updateFocusCycleableItems.bind(this)),e.children.on("remove",this._updateFocusCycleableItems.bind(this)),e.items.on("add",(e,t,n)=>{n>this.ungroupedItems.length?this.groupedItems.add(t,n-this.ungroupedItems.length):this.ungroupedItems.add(t,n),this._updateGrouping()}),e.items.on("remove",(e,t,n)=>{n>this.ungroupedItems.length?this.groupedItems.remove(t):this.ungroupedItems.remove(t),this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize()}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.disconnect()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new ur(e.lastChild),o=new ur(e);if(!this.cachedPadding){const n=ui.window.getComputedStyle(e),o="ltr"===t?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(n[o])}return"ltr"===t?n.right>o.right-this.cachedPadding:n.left<o.left+this.cachedPadding}_enableGroupingOnResize(){let e;var t;this.resizeObserver=(t=([t])=>{e&&e===t.contentRect.width||(this._updateGrouping(),e=t.contentRect.width)},"function"==typeof ui.window.ResizeObserver?new ui.window.ResizeObserver(t):new Il(t)),this.resizeObserver.observe(this.viewElement),this._updateGrouping()}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Nl),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,n=Jl(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===e.uiLanguageDirection?"sw":"se",Yl(n,[]),n.buttonView.set({label:t("Show more items"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>\n'}),n.toolbarView.items.bindTo(this.groupedItems).using(e=>e),n}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}n(41);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nc extends Cl{constructor(e,t,n={}){super(e),this.stickyPanel=new Al(e),this.toolbar=new Xl(e,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),this.editable=new El(e,t)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class oc extends La{constructor(e,t){super(t),on(e)&&(this.sourceElement=e),this.data.processor=new Ua,this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),o=new nc(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n});this.ui=new el(this,o),function(e){if(!F(e.updateSourceElement))throw new an.b("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.",e);const t=e.sourceElement;if(t&&"textarea"===t.tagName.toLowerCase()&&t.form){let n;const o=t.form,i=()=>e.updateSourceElement();F(o.submit)&&(n=o.submit,o.submit=()=>{i(),n.apply(o)}),o.addEventListener("submit",i),e.on("destroy",()=>{o.removeEventListener("submit",i),n&&(o.submit=n)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(n=>{const o=new this(e,t);n(o.initPlugins().then(()=>o.ui.init(on(e)?e:null)).then(()=>{if(!on(e)&&t.initialData)throw new an.b("editor-create-initial-data: The config.initialData option cannot be used together with initial data passed in Editor.create().",null);const n=t.initialData||function(e){return on(e)?(t=e,t instanceof HTMLTextAreaElement?t.value:t.innerHTML):e;var t}(e);return o.data.init(n)}).then(()=>o.fire("ready")).then(()=>o))})}}_n(oc,ja),_n(oc,Ha);n(43);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ic{constructor(e){this.editor=e}destroy(){this.stopListening()}}_n(ic,Qn);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class rc{constructor(e){this.files=function(e){const t=e.files?Array.from(e.files):[],n=e.items?Array.from(e.items):[];if(t.length)return t;return n.filter(e=>"file"===e.kind).map(e=>e.getAsFile())}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(e),this._native=e}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}}class sc extends Wi{constructor(e){super(e);const t=this.document;function n(e,n){n.preventDefault();const o=n.dropRange?[n.dropRange]:Array.from(t.selection.getRanges()),i=new cn(t,"clipboardInput");t.fire(i,{dataTransfer:n.dataTransfer,targetRanges:o}),i.stop.called&&n.stopPropagation()}this.domEventType=["paste","copy","cut","drop","dragover"],this.listenTo(t,"paste",n,{priority:"low"}),this.listenTo(t,"drop",n,{priority:"low"})}onDomEvent(e){const t={dataTransfer:new rc(e.clipboardData?e.clipboardData:e.dataTransfer)};"drop"==e.type&&(t.dropRange=function(e,t){const n=t.target.ownerDocument,o=t.clientX,i=t.clientY;let r;n.caretRangeFromPoint&&n.caretRangeFromPoint(o,i)?r=n.caretRangeFromPoint(o,i):t.rangeParent&&(r=n.createRange(),r.setStart(t.rangeParent,t.rangeOffset),r.collapse(!0));return r?e.domConverter.domRangeToView(r):e.document.selection.getFirstRange()}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(this.view,e)),this.fire(e.type,e,t)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const ac=["figcaption","li"];
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class lc extends ic{static get pluginName(){return"Clipboard"}init(){const e=this.editor,t=e.model.document,n=e.editing.view,o=n.document;function i(n,i){const r=i.dataTransfer;i.preventDefault();const s=e.data.toView(e.model.getSelectedContent(t.selection));o.fire("clipboardOutput",{dataTransfer:r,content:s,method:n.name})}this._htmlDataProcessor=new Ua,n.addObserver(sc),this.listenTo(o,"clipboardInput",t=>{e.isReadOnly&&t.stop()},{priority:"highest"}),this.listenTo(o,"clipboardInput",(e,t)=>{const o=t.dataTransfer;let i="";var r;
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */o.getData("text/html")?i=function(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>1==t.length?" ":t)}(o.getData("text/html")):o.getData("text/plain")&&((r=(r=o.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"</p><p>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).indexOf("</p><p>")>-1&&(r=`<p>${r}</p>`),i=r),i=this._htmlDataProcessor.toView(i),this.fire("inputTransformation",{content:i,dataTransfer:o}),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(e,t)=>{if(!t.content.isEmpty){const e=this.editor.data,n=this.editor.model,o=e.toModel(t.content,"$clipboardHolder");if(0==o.childCount)return;n.insertContent(o)}},{priority:"low"}),this.listenTo(o,"copy",i,{priority:"low"}),this.listenTo(o,"cut",(t,n)=>{e.isReadOnly?n.preventDefault():i(t,n)},{priority:"low"}),this.listenTo(o,"clipboardOutput",(n,o)=>{o.content.isEmpty||(o.dataTransfer.setData("text/html",this._htmlDataProcessor.toData(o.content)),o.dataTransfer.setData("text/plain",function e(t){let n="";if(t.is("text")||t.is("textProxy"))n=t.data;else if(t.is("img")&&t.hasAttribute("alt"))n=t.getAttribute("alt");else{let o=null;for(const i of t.getChildren()){const t=e(i);o&&(o.is("containerElement")||i.is("containerElement"))&&(ac.includes(o.name)||ac.includes(i.name)?n+="\n":n+="\n\n"),n+=t,o=i}}return n}(o.content))),"cut"==o.method&&e.model.deleteContent(t.selection)},{priority:"low"})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cc{constructor(e){this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",e=>{this.isEnabled||e.stop()},{priority:"high"}),this.listenTo(e,"change:isReadOnly",(e,t,n)=>{n?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",uc,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",uc),this.refresh())}execute(){}destroy(){this.stopListening()}}function uc(e){e.return=!1,e.stop()}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function*dc(e,t){for(const n of t)n&&e.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */_n(cc,Qn);class hc extends cc{execute(){const e=this.editor.model,t=e.document;e.change(n=>{!function(e,t,n,o){const i=n.isCollapsed,r=n.getFirstRange(),s=r.start.parent,a=r.end.parent;if(o.isLimit(s)||o.isLimit(a))return void(i||s!=a||e.deleteContent(n));if(i){const e=dc(t.model.schema,n.getAttributes());pc(t,r.start),t.setSelectionAttribute(e)}else{const o=!(r.start.isAtStart&&r.end.isAtEnd),i=s==a;e.deleteContent(n,{leaveUnmerged:o}),o&&(i?pc(t,n.focus):t.setSelection(a,0))}}(this.editor.model,n,t.selection,e.schema),this.fire("afterExecute",{writer:n})})}}function pc(e,t){e.split(t),e.setSelection(t.parent.nextSibling,0)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class fc extends yi{constructor(e){super(e);const t=this.document;t.on("keydown",(e,n)=>{if(this.isEnabled&&n.keyCode==Eo.enter){let o;t.once("enter",e=>o=e,{priority:"highest"}),t.fire("enter",new Hi(t,n.domEvent,{isSoft:n.shiftKey})),o&&o.stop.called&&e.stop()}})}observe(){}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mc extends ic{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,n=t.document;t.addObserver(fc),e.commands.add("enter",new hc(e)),this.listenTo(n,"enter",(n,o)=>{o.preventDefault(),o.isSoft||(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gc extends cc{execute(){const e=this.editor.model,t=e.document;e.change(n=>{!function(e,t,n){const o=n.isCollapsed,i=n.getFirstRange(),r=i.start.parent,s=i.end.parent,a=r==s;if(o){const o=dc(e.schema,n.getAttributes());bc(t,i.end),t.removeSelectionAttribute(n.getAttributeKeys()),t.setSelectionAttribute(o)}else{const o=!(i.start.isAtStart&&i.end.isAtEnd);e.deleteContent(n,{leaveUnmerged:o}),a?bc(t,n.focus):o&&t.setSelection(s,0)}}(e,n,t.selection),this.fire("afterExecute",{writer:n})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=function(e,t){if(t.rangeCount>1)return!1;const n=t.anchor;if(!n||!e.checkChild(n,"softBreak"))return!1;const o=t.getFirstRange(),i=o.start.parent,r=o.end.parent;if((wc(i,e)||wc(r,e))&&i!==r)return!1;return!0}(e.schema,t.selection)}}function bc(e,t){const n=e.createElement("softBreak");e.insert(n,t),e.setSelection(n,"after")}function wc(e,t){return!e.is("rootElement")&&(t.isLimit(e)||wc(e.parent,t))}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kc extends ic{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,n=e.conversion,o=e.editing.view,i=o.document;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(e,t)=>t.createEmptyElement("br")}),o.addObserver(fc),e.commands.add("shiftEnter",new gc(e)),this.listenTo(i,"enter",(t,n)=>{n.preventDefault(),n.isSoft&&(e.execute("shiftEnter"),o.scrollToTheSelection())},{priority:"low"})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vc{constructor(e,t=20){this.model=e,this.size=0,this.limit=t,this.isLocked=!1,this._changeCallback=(e,t)=>{"transparent"!=t.type&&t!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch()),this._batch}input(e){this.size+=e,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e){this.isLocked&&!e||(this._batch=null,this.size=0)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _c extends cc{constructor(e,t){super(e),this._buffer=new vc(e.model,t),this._batches=new WeakSet}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,n=t.document,o=e.text||"",i=o.length,r=e.range||n.selection.getFirstRange(),s=e.resultRange;t.enqueueChange(this._buffer.batch,e=>{const a=r.isCollapsed;this._buffer.lock(),t.deleteContent(t.createSelection(r)),o&&t.insertContent(e.createText(o,n.selection.getAttributes()),r.start),s?e.setSelection(s):a&&e.setSelection(r.start.getShiftedBy(i)),this._buffer.unlock(),this._buffer.input(i),this._batches.add(this._buffer.batch)})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function yc(e){let t=null;const n=e.model,o=e.editing.view,i=e.commands.get("input");function r(e){const r=n.document,a=o.document.isComposing,l=t&&t.isEqual(r.selection);t=null,i.isEnabled&&(function(e){if(e.ctrlKey)return!0;return xc.includes(e.keyCode)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(e)||r.selection.isCollapsed||a&&229===e.keyCode||!a&&229===e.keyCode&&l||s())}function s(){const e=i.buffer;e.lock(),n.enqueueChange(e.batch,()=>{n.deleteContent(n.document.selection)}),e.unlock()}xo.isAndroid?o.document.on("beforeinput",(e,t)=>r(t),{priority:"lowest"}):o.document.on("keydown",(e,t)=>r(t),{priority:"lowest"}),o.document.on("compositionstart",(function(){const e=n.document,t=1!==e.selection.rangeCount||e.selection.getFirstRange().isFlat;if(e.selection.isCollapsed||t)return;s()}),{priority:"lowest"}),o.document.on("compositionend",()=>{t=n.createSelection(n.document.selection)},{priority:"lowest"})}const xc=[So("arrowUp"),So("arrowRight"),So("arrowDown"),So("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let e=112;e<=135;e++)xc.push(e);function Cc(e){if(e.newChildren.length-e.oldChildren.length!=1)return;const t=function(e,t){const n=[];let o,i=0;return e.forEach(e=>{"equal"==e?(r(),i++):"insert"==e?(s("insert")?o.values.push(t[i]):(r(),o={type:"insert",index:i,values:[t[i]]}),i++):s("delete")?o.howMany++:(r(),o={type:"delete",index:i,howMany:1})}),r(),n;function r(){o&&(n.push(o),o=null)}function s(e){return o&&o.type==e}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(ni(e.oldChildren,e.newChildren,Tc),e.newChildren);if(t.length>1)return;const n=t[0];return n.values[0]&&n.values[0].is("text")?n:void 0}function Tc(e,t){return e&&e.is("text")&&t&&t.is("text")?e.data===t.data:e===t}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ec{constructor(e){this.editor=e,this.editing=this.editor.editing}handle(e,t){if(function(e){if(0==e.length)return!1;for(const t of e)if("children"===t.type&&!Cc(t))return!0;return!1}(e))this._handleContainerChildrenMutations(e,t);else for(const n of e)this._handleTextMutation(n,t),this._handleTextNodeInsertion(n)}_handleContainerChildrenMutations(e,t){const n=function(e){const t=e.map(e=>e.node).reduce((e,t)=>e.getCommonAncestor(t,{includeSelf:!0}));if(!t)return;return t.getAncestors({includeSelf:!0,parentFirst:!0}).find(e=>e.is("containerElement")||e.is("rootElement"))}(e);if(!n)return;const o=this.editor.editing.view.domConverter.mapViewToDom(n),i=new fi,r=this.editor.data.toModel(i.domToView(o)).getChild(0),s=this.editor.editing.mapper.toModelElement(n);if(!s)return;const a=Array.from(r.getChildren()),l=Array.from(s.getChildren()),c=a[a.length-1],u=l[l.length-1];c&&c.is("softBreak")&&u&&!u.is("softBreak")&&a.pop();const d=this.editor.model.schema;if(!Sc(a,d)||!Sc(l,d))return;const h=a.map(e=>e.is("text")?e.data:"@").join("").replace(/\u00A0/g," "),p=l.map(e=>e.is("text")?e.data:"@").join("").replace(/\u00A0/g," ");if(p===h)return;const f=ni(p,h),{firstChangeAt:m,insertions:g,deletions:b}=Pc(f);let w=null;t&&(w=this.editing.mapper.toModelRange(t.getFirstRange()));const k=h.substr(m,g),v=this.editor.model.createRange(this.editor.model.createPositionAt(s,m),this.editor.model.createPositionAt(s,m+b));this.editor.execute("input",{text:k,range:v,resultRange:w})}_handleTextMutation(e,t){if("text"!=e.type)return;const n=e.newText.replace(/\u00A0/g," "),o=e.oldText.replace(/\u00A0/g," ");if(o===n)return;const i=ni(o,n),{firstChangeAt:r,insertions:s,deletions:a}=Pc(i);let l=null;t&&(l=this.editing.mapper.toModelRange(t.getFirstRange()));const c=this.editing.view.createPositionAt(e.node,r),u=this.editing.mapper.toModelPosition(c),d=this.editor.model.createRange(u,u.getShiftedBy(a)),h=n.substr(r,s);this.editor.execute("input",{text:h,range:d,resultRange:l})}_handleTextNodeInsertion(e){if("children"!=e.type)return;const t=Cc(e),n=this.editing.view.createPositionAt(e.node,t.index),o=this.editing.mapper.toModelPosition(n),i=t.values[0].data;this.editor.execute("input",{text:i.replace(/\u00A0/g," "),range:this.editor.model.createRange(o)})}}function Sc(e,t){return e.every(e=>t.isInline(e))}function Pc(e){let t=null,n=null;for(let o=0;o<e.length;o++){"equal"!=e[o]&&(t=null===t?o:t,n=o)}let o=0,i=0;for(let r=t;r<=n;r++)"insert"!=e[r]&&o++,"delete"!=e[r]&&i++;return{insertions:i,deletions:o,firstChangeAt:t}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ac extends ic{static get pluginName(){return"Input"}init(){const e=this.editor,t=new _c(e,e.config.get("typing.undoStep")||20);e.commands.add("input",t),yc(e),function(e){e.editing.view.document.on("mutations",(t,n,o)=>{new Ec(e).handle(n,o)})}(e)}isInput(e){return this.editor.commands.get("input")._batches.has(e)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Rc extends cc{constructor(e,t){super(e),this.direction=t,this._buffer=new vc(e.model,e.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,n=t.document;t.enqueueChange(this._buffer.batch,o=>{this._buffer.lock();const i=o.createSelection(e.selection||n.selection),r=i.isCollapsed;if(i.isCollapsed&&t.modifySelection(i,{direction:this.direction,unit:e.unit}),this._shouldEntireContentBeReplacedWithParagraph(e.sequence||1))return void this._replaceEntireContentWithParagraph(o);if(i.isCollapsed)return;let s=0;i.getFirstRange().getMinimalFlatRanges().forEach(e=>{s+=ho(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(i,{doNotResetEntireContent:r}),this._buffer.input(s),o.setSelection(i),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,n=t.document.selection,o=t.schema.getLimitElement(n);if(!(n.isCollapsed&&n.containsEntireContent(o)))return!1;if(!t.schema.checkChild(o,"paragraph"))return!1;const i=o.getChild(0);return!i||"paragraph"!==i.name}_replaceEntireContentWithParagraph(e){const t=this.editor.model,n=t.document.selection,o=t.schema.getLimitElement(n),i=e.createElement("paragraph");e.remove(e.createRangeIn(o)),e.insert(i,o),e.setSelection(i,0)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Oc extends yi{constructor(e){super(e);const t=e.document;let n=0;function o(e,n,o){let i;t.once("delete",e=>i=e,{priority:Number.POSITIVE_INFINITY}),t.fire("delete",new Hi(t,n,o)),i&&i.stop.called&&e.stop()}t.on("keyup",(e,t)=>{t.keyCode!=Eo.delete&&t.keyCode!=Eo.backspace||(n=0)}),t.on("keydown",(e,t)=>{const i={};if(t.keyCode==Eo.delete)i.direction="forward",i.unit="character";else{if(t.keyCode!=Eo.backspace)return;i.direction="backward",i.unit="codePoint"}const r=xo.isMac?t.altKey:t.ctrlKey;i.unit=r?"word":i.unit,i.sequence=++n,o(e,t.domEvent,i)}),xo.isAndroid&&t.on("beforeinput",(t,n)=>{if("deleteContentBackward"!=n.domEvent.inputType)return;const i={unit:"codepoint",direction:"backward",sequence:1},r=n.domTarget.ownerDocument.defaultView.getSelection();r.anchorNode==r.focusNode&&r.anchorOffset+1!=r.focusOffset&&(i.selectionToRemove=e.domConverter.domSelectionToView(r)),o(t,n.domEvent,i)})}observe(){}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Nc extends ic{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,n=t.document;if(t.addObserver(Oc),e.commands.add("forwardDelete",new Rc(e,"forward")),e.commands.add("delete",new Rc(e,"backward")),this.listenTo(n,"delete",(n,o)=>{const i={unit:o.unit,sequence:o.sequence};if(o.selectionToRemove){const t=e.model.createSelection(),n=[];for(const t of o.selectionToRemove.getRanges())n.push(e.editing.mapper.toModelRange(t));t.setTo(n),i.selection=t}e.execute("forward"==o.direction?"forwardDelete":"delete",i),o.preventDefault(),t.scrollToTheSelection()}),xo.isAndroid){let e=null;this.listenTo(n,"delete",(t,n)=>{const o=n.domTarget.ownerDocument.defaultView.getSelection();e={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}},{priority:"lowest"}),this.listenTo(n,"keyup",(t,n)=>{if(e){const t=n.domTarget.ownerDocument.defaultView.getSelection();t.collapse(e.anchorNode,e.anchorOffset),t.extend(e.focusNode,e.focusOffset),e=null}})}}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ic extends ic{static get requires(){return[Ac,Nc]}static get pluginName(){return"Typing"}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Mc extends Bs{get type(){return"noop"}clone(){return new Mc(this.baseVersion)}getReversed(){return new Mc(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const zc=new Map;function Dc(e,t,n){let o=zc.get(e);o||(o=new Map,zc.set(e,o)),o.set(t,n)}function Vc(e){return[e]}function Bc(e,t,n={}){const o=function(e,t){const n=zc.get(e);return n&&n.has(t)?n.get(t):Vc}(e.constructor,t.constructor);try{return o(e=e.clone(),t,n)}catch(e){throw e}}function Fc(e,t,n){e=e.slice(),t=t.slice();const o=new Lc(n.document,n.useRelations,n.forceWeakRemove);o.setOriginalOperations(e),o.setOriginalOperations(t);const i=o.originalOperations;if(0==e.length||0==t.length)return{operationsA:e,operationsB:t,originalOperations:i};const r=new WeakMap;for(const t of e)r.set(t,0);const s={nextBaseVersionA:e[e.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:e.length,originalOperationsBCount:t.length};let a=0;for(;a<e.length;){const n=e[a],i=r.get(n);if(i==t.length){a++;continue}const s=t[i],l=Bc(n,s,o.getContext(n,s,!0)),c=Bc(s,n,o.getContext(s,n,!1));o.updateRelation(n,s),o.setOriginalOperations(l,n),o.setOriginalOperations(c,s);for(const e of l)r.set(e,i+c.length);e.splice(a,1,...l),t.splice(i,1,...c)}if(n.padWithNoOps){const n=e.length-s.originalOperationsACount,o=t.length-s.originalOperationsBCount;Hc(e,o-n),Hc(t,n-o)}return jc(e,s.nextBaseVersionB),jc(t,s.nextBaseVersionA),{operationsA:e,operationsB:t,originalOperations:i}}class Lc{constructor(e,t,n=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e,t=null){const n=t?this.originalOperations.get(t):null;for(const t of e)this.originalOperations.set(t,n||t)}updateRelation(e,t){switch(e.constructor){case Ys:switch(t.constructor){case ta:e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter");break;case Ys:e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter")}break;case na:switch(t.constructor){case ta:e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");break;case Ys:(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))&&this._setRelation(e,t,"splitBefore")}break;case ta:switch(t.constructor){case ta:e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement");break;case na:e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource")}break;case Xs:{const n=e.newRange;if(!n)return;switch(t.constructor){case Ys:{const o=Mr._createFromPositionAndShift(t.sourcePosition,t.howMany),i=o.containsPosition(n.start)||o.start.isEqual(n.start),r=o.containsPosition(n.end)||o.end.isEqual(n.end);!i&&!r||o.containsRange(n)||this._setRelation(e,t,{side:i?"left":"right",path:i?n.start.path.slice():n.end.path.slice()});break}case ta:{const o=n.start.isEqual(t.targetPosition),i=n.start.isEqual(t.deletionPosition),r=n.end.isEqual(t.deletionPosition),s=n.end.isEqual(t.sourcePosition);(o||i||r||s)&&this._setRelation(e,t,{wasInLeftElement:o,wasStartBeforeMergedElement:i,wasEndBeforeMergedElement:r,wasInRightElement:s});break}}break}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t),o=this._history.getUndoneOperation(n);if(!o)return null;const i=this.originalOperations.get(e),r=this._relations.get(i);return r&&r.get(o)||null}_setRelation(e,t,n){const o=this.originalOperations.get(e),i=this.originalOperations.get(t);let r=this._relations.get(o);r||(r=new Map,this._relations.set(o,r)),r.set(i,n)}}function jc(e,t){for(const n of e)n.baseVersion=t++}function Hc(e,t){for(let n=0;n<t;n++)e.push(new Mc(0))}function Wc(e,t,n){const o=e.nodes.getNode(0).getAttribute(t);if(o==n)return null;const i=new Mr(e.position,e.position.getShiftedBy(e.howMany));return new Ks(i,t,o,n,0)}function Uc(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function qc(e,t){const n=[];for(let o=0;o<e.length;o++){const i=e[o],r=new Ys(i.start,i.end.offset-i.start.offset,t,0);n.push(r);for(let t=o+1;t<e.length;t++)e[t]=e[t]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];t=t._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}return n}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Dc(Ks,Ks,(e,t,n)=>{if(e.key===t.key){const o=e.range.getDifference(t.range).map(t=>new Ks(t,e.key,e.oldValue,e.newValue,0)),i=e.range.getIntersection(t.range);return i&&n.aIsStrong&&o.push(new Ks(i,t.key,t.newValue,e.newValue,0)),0==o.length?[new Mc(0)]:o}return[e]}),Dc(Ks,Qs,(e,t)=>{if(e.range.start.hasSameParentAs(t.position)&&e.range.containsPosition(t.position)){const n=e.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map(t=>new Ks(t,e.key,e.oldValue,e.newValue,e.baseVersion));if(t.shouldReceiveAttributes){const o=Wc(t,e.key,e.oldValue);o&&n.unshift(o)}return n}return e.range=e.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[e]}),Dc(Ks,ta,(e,t)=>{const n=[];e.range.start.hasSameParentAs(t.deletionPosition)&&(e.range.containsPosition(t.deletionPosition)||e.range.start.isEqual(t.deletionPosition))&&n.push(Mr._createFromPositionAndShift(t.graveyardPosition,1));const o=e.range._getTransformedByMergeOperation(t);return o.isCollapsed||n.push(o),n.map(t=>new Ks(t,e.key,e.oldValue,e.newValue,e.baseVersion))}),Dc(Ks,Ys,(e,t)=>function(e,t){const n=Mr._createFromPositionAndShift(t.sourcePosition,t.howMany);let o=null,i=[];n.containsRange(e,!0)?o=e:e.start.hasSameParentAs(n.start)?(i=e.getDifference(n),o=e.getIntersection(n)):i=[e];const r=[];for(let e of i){e=e._getTransformedByDeletion(t.sourcePosition,t.howMany);const n=t.getMovedRangeStart(),o=e.start.hasSameParentAs(n);e=e._getTransformedByInsertion(n,t.howMany,o),r.push(...e)}o&&r.push(o._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]);return r}(e.range,t).map(t=>new Ks(t,e.key,e.oldValue,e.newValue,e.baseVersion))),Dc(Ks,na,(e,t)=>{if(e.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.range.end.offset++,[e];if(e.range.start.hasSameParentAs(t.splitPosition)&&e.range.containsPosition(t.splitPosition)){const n=e.clone();return n.range=new Mr(t.moveTargetPosition.clone(),e.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),e.range.end=t.splitPosition.clone(),e.range.end.stickiness="toPrevious",[e,n]}return e.range=e.range._getTransformedBySplitOperation(t),[e]}),Dc(Qs,Ks,(e,t)=>{const n=[e];if(e.shouldReceiveAttributes&&e.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(e.position)){const o=Wc(e,t.key,t.newValue);o&&n.push(o)}return n}),Dc(Qs,Qs,(e,t,n)=>e.position.isEqual(t.position)&&n.aIsStrong?[e]:(e.position=e.position._getTransformedByInsertOperation(t),[e])),Dc(Qs,Ys,(e,t)=>(e.position=e.position._getTransformedByMoveOperation(t),[e])),Dc(Qs,na,(e,t)=>(e.position=e.position._getTransformedBySplitOperation(t),[e])),Dc(Qs,ta,(e,t)=>(e.position=e.position._getTransformedByMergeOperation(t),[e])),Dc(Xs,Qs,(e,t)=>(e.oldRange&&(e.oldRange=e.oldRange._getTransformedByInsertOperation(t)[0]),e.newRange&&(e.newRange=e.newRange._getTransformedByInsertOperation(t)[0]),[e])),Dc(Xs,Xs,(e,t,n)=>{if(e.name==t.name){if(!n.aIsStrong)return[new Mc(0)];e.oldRange=t.newRange?t.newRange.clone():null}return[e]}),Dc(Xs,ta,(e,t)=>(e.oldRange&&(e.oldRange=e.oldRange._getTransformedByMergeOperation(t)),e.newRange&&(e.newRange=e.newRange._getTransformedByMergeOperation(t)),[e])),Dc(Xs,Ys,(e,t,n)=>{if(e.oldRange&&(e.oldRange=Mr._createFromRanges(e.oldRange._getTransformedByMoveOperation(t))),e.newRange){if(n.abRelation){const o=Mr._createFromRanges(e.newRange._getTransformedByMoveOperation(t));if("left"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.start))return e.newRange.start.path=n.abRelation.path,e.newRange.end=o.end,[e];if("right"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.end))return e.newRange.start=o.start,e.newRange.end.path=n.abRelation.path,[e]}e.newRange=Mr._createFromRanges(e.newRange._getTransformedByMoveOperation(t))}return[e]}),Dc(Xs,na,(e,t,n)=>{if(e.oldRange&&(e.oldRange=e.oldRange._getTransformedBySplitOperation(t)),e.newRange){if(n.abRelation){const o=e.newRange._getTransformedBySplitOperation(t);return e.newRange.start.isEqual(t.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?e.newRange.start=Ir._createAt(t.insertionPosition):e.newRange.start.isEqual(t.splitPosition)&&!n.abRelation.wasInLeftElement&&(e.newRange.start=Ir._createAt(t.moveTargetPosition)),e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasInRightElement?e.newRange.end=Ir._createAt(t.moveTargetPosition):e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?e.newRange.end=Ir._createAt(t.insertionPosition):e.newRange.end=o.end,[e]}e.newRange=e.newRange._getTransformedBySplitOperation(t)}return[e]}),Dc(ta,Qs,(e,t)=>(e.sourcePosition.hasSameParentAs(t.position)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByInsertOperation(t),e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t),[e])),Dc(ta,ta,(e,t,n)=>{if(e.sourcePosition.isEqual(t.sourcePosition)&&e.targetPosition.isEqual(t.targetPosition)){if(n.bWasUndone){const n=t.graveyardPosition.path.slice();return n.push(0),e.sourcePosition=new Ir(t.graveyardPosition.root,n),e.howMany=0,[e]}return[new Mc(0)]}if(e.sourcePosition.isEqual(t.sourcePosition)&&!e.targetPosition.isEqual(t.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){const o="$graveyard"==e.targetPosition.root.rootName,i="$graveyard"==t.targetPosition.root.rootName,r=o&&!i;if(i&&!o||!r&&n.aIsStrong){const n=t.targetPosition._getTransformedByMergeOperation(t),o=e.targetPosition._getTransformedByMergeOperation(t);return[new Ys(n,e.howMany,o,0)]}return[new Mc(0)]}return e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMergeOperation(t),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),e.graveyardPosition.isEqual(t.graveyardPosition)&&n.aIsStrong||(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]}),Dc(ta,Ys,(e,t,n)=>{const o=Mr._createFromPositionAndShift(t.sourcePosition,t.howMany);return"remove"==t.type&&!n.bWasUndone&&!n.forceWeakRemove&&e.deletionPosition.hasSameParentAs(t.sourcePosition)&&o.containsPosition(e.sourcePosition)?[new Mc(0)]:(e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition.hasSameParentAs(t.sourcePosition)&&(e.howMany-=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMoveOperation(t),e.targetPosition=e.targetPosition._getTransformedByMoveOperation(t),e.graveyardPosition.isEqual(t.targetPosition)||(e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)),[e])}),Dc(ta,na,(e,t,n)=>{if(t.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),e.deletionPosition.isEqual(t.graveyardPosition)&&(e.howMany=t.howMany)),e.targetPosition.isEqual(t.splitPosition)){const o=0!=t.howMany,i=t.graveyardPosition&&e.deletionPosition.isEqual(t.graveyardPosition);if(o||i||"mergeTargetNotMoved"==n.abRelation)return e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),[e]}if(e.sourcePosition.isEqual(t.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return e.howMany=0,e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e];if("mergeSameElement"==n.abRelation||e.sourcePosition.offset>0)return e.sourcePosition=t.moveTargetPosition.clone(),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}return e.sourcePosition.hasSameParentAs(t.splitPosition)&&(e.howMany=t.splitPosition.offset),e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}),Dc(Ys,Qs,(e,t)=>{const n=Mr._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByInsertOperation(t,!1)[0];return e.sourcePosition=n.start,e.howMany=n.end.offset-n.start.offset,e.targetPosition.isEqual(t.position)||(e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t)),[e]}),Dc(Ys,Ys,(e,t,n)=>{const o=Mr._createFromPositionAndShift(e.sourcePosition,e.howMany),i=Mr._createFromPositionAndShift(t.sourcePosition,t.howMany);let r,s=n.aIsStrong,a=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?a=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(a=!1),r=e.targetPosition.isEqual(t.targetPosition)&&a?e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),Uc(e,t)&&Uc(t,e))return[t.getReversed()];if(o.containsPosition(t.targetPosition)&&o.containsRange(i,!0))return o.start=o.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),o.end=o.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),qc([o],r);if(i.containsPosition(e.targetPosition)&&i.containsRange(o,!0))return o.start=o.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),o.end=o.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),qc([o],r);const l=yn(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if("prefix"==l||"extension"==l)return o.start=o.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),o.end=o.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),qc([o],r);"remove"!=e.type||"remove"==t.type||n.aWasUndone||n.forceWeakRemove?"remove"==e.type||"remove"!=t.type||n.bWasUndone||n.forceWeakRemove||(s=!1):s=!0;const c=[],u=o.getDifference(i);for(const e of u){e.start=e.start._getTransformedByDeletion(t.sourcePosition,t.howMany),e.end=e.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const n="same"==yn(e.start.getParentPath(),t.getMovedRangeStart().getParentPath()),o=e._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,n);c.push(...o)}const d=o.getIntersection(i);return null!==d&&s&&(d.start=d.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),d.end=d.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===c.length?c.push(d):1==c.length?i.start.isBefore(o.start)||i.start.isEqual(o.start)?c.unshift(d):c.push(d):c.splice(1,0,d)),0===c.length?[new Mc(e.baseVersion)]:qc(c,r)}),Dc(Ys,na,(e,t,n)=>{let o=e.targetPosition.clone();e.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(o=e.targetPosition._getTransformedBySplitOperation(t));const i=Mr._createFromPositionAndShift(e.sourcePosition,e.howMany);if(i.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.howMany++,e.targetPosition=o,[e];if(i.start.hasSameParentAs(t.splitPosition)&&i.containsPosition(t.splitPosition)){let e=new Mr(t.splitPosition,i.end);return e=e._getTransformedBySplitOperation(t),qc([new Mr(i.start,t.splitPosition),e],o)}e.targetPosition.isEqual(t.splitPosition)&&"insertAtSource"==n.abRelation&&(o=t.moveTargetPosition),e.targetPosition.isEqual(t.insertionPosition)&&"insertBetween"==n.abRelation&&(o=e.targetPosition);const r=[i._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const o=i.start.isEqual(t.graveyardPosition)||i.containsPosition(t.graveyardPosition);e.howMany>1&&o&&!n.aWasUndone&&r.push(Mr._createFromPositionAndShift(t.insertionPosition,1))}return qc(r,o)}),Dc(Ys,ta,(e,t,n)=>{const o=Mr._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.deletionPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(t.sourcePosition))if("remove"!=e.type||n.forceWeakRemove){if(1==e.howMany)return n.bWasUndone?(e.sourcePosition=t.graveyardPosition.clone(),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]):[new Mc(0)]}else if(!n.aWasUndone){const n=[];let o=t.graveyardPosition.clone(),i=t.targetPosition._getTransformedByMergeOperation(t);e.howMany>1&&(n.push(new Ys(e.sourcePosition,e.howMany-1,e.targetPosition,0)),o=o._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1),i=i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1));const r=t.deletionPosition._getCombined(e.sourcePosition,e.targetPosition),s=new Ys(o,1,r,0),a=s.getMovedRangeStart().path.slice();a.push(0);const l=new Ir(s.targetPosition.root,a);i=i._getTransformedByMove(o,r,1);const c=new Ys(i,t.howMany,l,0);return n.push(s),n.push(c),n}const i=Mr._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByMergeOperation(t);return e.sourcePosition=i.start,e.howMany=i.end.offset-i.start.offset,e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]}),Dc(Zs,Qs,(e,t)=>(e.position=e.position._getTransformedByInsertOperation(t),[e])),Dc(Zs,ta,(e,t)=>e.position.isEqual(t.deletionPosition)?(e.position=t.graveyardPosition.clone(),e.position.stickiness="toNext",[e]):(e.position=e.position._getTransformedByMergeOperation(t),[e])),Dc(Zs,Ys,(e,t)=>(e.position=e.position._getTransformedByMoveOperation(t),[e])),Dc(Zs,Zs,(e,t,n)=>{if(e.position.isEqual(t.position)){if(!n.aIsStrong)return[new Mc(0)];e.oldName=t.newName}return[e]}),Dc(Zs,na,(e,t)=>{if("same"==yn(e.position.path,t.splitPosition.getParentPath())&&!t.graveyardPosition){const t=new Zs(e.position.getShiftedBy(1),e.oldName,e.newName,0);return[e,t]}return e.position=e.position._getTransformedBySplitOperation(t),[e]}),Dc(ea,ea,(e,t,n)=>{if(e.root===t.root&&e.key===t.key){if(!n.aIsStrong||e.newValue===t.newValue)return[new Mc(0)];e.oldValue=t.newValue}return[e]}),Dc(na,Qs,(e,t)=>(e.splitPosition.hasSameParentAs(t.position)&&e.splitPosition.offset<t.position.offset&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByInsertOperation(t),e.insertionPosition=na.getInsertionPosition(e.splitPosition),[e])),Dc(na,ta,(e,t,n)=>{if(!e.graveyardPosition&&!n.bWasUndone&&e.splitPosition.hasSameParentAs(t.sourcePosition)){const n=t.graveyardPosition.path.slice();n.push(0);const o=new Ir(t.graveyardPosition.root,n),i=na.getInsertionPosition(new Ir(t.graveyardPosition.root,n)),r=new na(o,0,null,0);return r.insertionPosition=i,e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=na.getInsertionPosition(e.splitPosition),e.graveyardPosition=r.insertionPosition.clone(),e.graveyardPosition.stickiness="toNext",[r,e]}return e.splitPosition.hasSameParentAs(t.deletionPosition)&&!e.splitPosition.isAfter(t.deletionPosition)&&e.howMany--,e.splitPosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=na.getInsertionPosition(e.splitPosition),e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]}),Dc(na,Ys,(e,t,n)=>{const o=Mr._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.graveyardPosition){const i=o.start.isEqual(e.graveyardPosition)||o.containsPosition(e.graveyardPosition);if(!n.bWasUndone&&i){const n=e.splitPosition._getTransformedByMoveOperation(t),o=e.graveyardPosition._getTransformedByMoveOperation(t),i=o.path.slice();i.push(0);const r=new Ir(o.root,i);return[new Ys(n,e.howMany,r,0)]}e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&o.containsPosition(e.splitPosition)){const n=t.howMany-(e.splitPosition.offset-t.sourcePosition.offset);return e.howMany-=n,e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany),e.splitPosition=t.sourcePosition.clone(),e.insertionPosition=na.getInsertionPosition(e.splitPosition),[e]}return!e.splitPosition.isEqual(t.targetPosition)||"insertAtSource"!=n.baRelation&&"splitBefore"!=n.abRelation?(t.sourcePosition.isEqual(t.targetPosition)||(e.splitPosition.hasSameParentAs(t.sourcePosition)&&e.splitPosition.offset<=t.sourcePosition.offset&&(e.howMany-=t.howMany),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany)),e.splitPosition.stickiness="toNone",e.splitPosition=e.splitPosition._getTransformedByMoveOperation(t),e.splitPosition.stickiness="toNext",e.graveyardPosition?e.insertionPosition=e.insertionPosition._getTransformedByMoveOperation(t):e.insertionPosition=na.getInsertionPosition(e.splitPosition),[e]):(e.howMany+=t.howMany,e.splitPosition=e.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),e.insertionPosition=na.getInsertionPosition(e.splitPosition),[e])}),Dc(na,na,(e,t,n)=>{if(e.splitPosition.isEqual(t.splitPosition)){if(!e.graveyardPosition&&!t.graveyardPosition)return[new Mc(0)];if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition))return[new Mc(0)];if("splitBefore"==n.abRelation)return e.howMany=0,e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t),[e]}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){const o="$graveyard"==e.splitPosition.root.rootName,i="$graveyard"==t.splitPosition.root.rootName,r=o&&!i;if(i&&!o||!r&&n.aIsStrong){const n=[];return t.howMany&&n.push(new Ys(t.moveTargetPosition,t.howMany,t.splitPosition,0)),e.howMany&&n.push(new Ys(e.splitPosition,e.howMany,e.moveTargetPosition,0)),n}return[new Mc(0)]}if(e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t)),e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.abRelation)return e.howMany++,[e];if(t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.baRelation){const n=t.insertionPosition.path.slice();n.push(0);const o=new Ir(t.insertionPosition.root,n);return[e,new Ys(e.insertionPosition,1,o,0)]}return e.splitPosition.hasSameParentAs(t.splitPosition)&&e.splitPosition.offset<t.splitPosition.offset&&(e.howMany-=t.howMany),e.splitPosition=e.splitPosition._getTransformedBySplitOperation(t),e.insertionPosition=na.getInsertionPosition(e.splitPosition),[e]});class $c extends cc{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh()}refresh(){this.isEnabled=this._stack.length>0}addBatch(e){const t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,n){const o=this.editor.model,i=o.document,r=[];for(const t of e){const e=Gc(t,n).find(e=>e.start.root!=i.graveyard);e&&r.push(e)}r.length&&o.change(e=>{e.setSelection(r,{backward:t})})}_undo(e,t){const n=this.editor.model,o=n.document;this._createdBatches.add(t);const i=e.operations.slice().filter(e=>e.isDocumentOperation);i.reverse();for(const e of i){const i=e.baseVersion+1,r=Array.from(o.history.getOperations(i)),s=Fc([e.getReversed()],r,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const i of s)t.addOperation(i),n.applyOperation(i),o.history.setOperationAsUndone(e,i)}}}function Gc(e,t){const n=e.getTransformedByOperations(t);n.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<n.length;e++){const t=n[e-1],o=n[e];t.end.isTouching(o.start)&&(t.end=o.end,n.splice(e,1),e--)}return n}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Kc extends $c{execute(e=null){const t=e?this._stack.findIndex(t=>t.batch==e):this._stack.length-1,n=this._stack.splice(t,1)[0],o=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(o,()=>{this._undo(n.batch,o);const e=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,e),this.fire("revert",n.batch,o)}),this.refresh()}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jc extends $c{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(t,()=>{const n=e.batch.operations[e.batch.operations.length-1].baseVersion+1,o=this.editor.model.document.history.getOperations(n);this._restoreSelection(e.selection.ranges,e.selection.isBackward,o),this._undo(e.batch,t)}),this.refresh()}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Yc extends ic{static get pluginName(){return"UndoEditing"}constructor(e){super(e),this._batchRegistry=new WeakSet}init(){const e=this.editor;this._undoCommand=new Kc(e),this._redoCommand=new Jc(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(e,t)=>{const n=t[0];if(!n.isDocumentOperation)return;const o=n.batch,i=this._redoCommand._createdBatches.has(o),r=this._undoCommand._createdBatches.has(o);this._batchRegistry.has(o)||"transparent"==o.type&&!i&&!r||(i?this._undoCommand.addBatch(o):r||(this._undoCommand.addBatch(o),this._redoCommand.clearStack()),this._batchRegistry.add(o))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(e,t,n)=>{this._redoCommand.addBatch(n)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}var Qc='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Xc='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Zc extends ic{init(){const e=this.editor,t=e.locale,n=e.t,o="ltr"==t.uiLanguageDirection?Qc:Xc,i="ltr"==t.uiLanguageDirection?Xc:Qc;this._addButton("undo",n("Undo"),"CTRL+Z",o),this._addButton("redo",n("Redo"),"CTRL+Y",i)}_addButton(e,t,n,o){const i=this.editor;i.ui.componentFactory.add(e,r=>{const s=i.commands.get(e),a=new jl(r);return a.set({label:t,icon:o,keystroke:n,tooltip:!0}),a.bind("isEnabled").to(s,"isEnabled"),this.listenTo(a,"execute",()=>i.execute(e)),a})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class eu extends ic{static get requires(){return[Yc,Zc]}static get pluginName(){return"Undo"}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class tu{static get pluginName(){return"BlockAutoformatEditing"}constructor(e,t,n){let o,i=null;"function"==typeof n?o=n:(i=e.commands.get(n),o=()=>{e.execute(n)}),e.model.document.on("change",(n,r)=>{if(i&&!i.isEnabled)return;if("transparent"==r.type)return;const s=Array.from(e.model.document.differ.getChanges()),a=s[0];if(1!=s.length||"insert"!==a.type||"$text"!=a.name||1!=a.length)return;const l=a.position.parent;if(!l.is("paragraph")||1!==l.childCount)return;const c=t.exec(l.getChild(0).data);c&&e.model.enqueueChange(e=>{const t=e.createPositionAt(l,0),n=e.createPositionAt(l,c[0].length),i=new qr(t,n);!1!==o({match:c})&&e.remove(i),i.detach()})})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class nu{static get pluginName(){return"InlineAutoformatEditing"}constructor(e,t,n){let o,i,r,s;t instanceof RegExp?o=t:r=t,"string"==typeof n?i=n:s=n,r=r||(e=>{let t;const n=[],i=[];for(;null!==(t=o.exec(e))&&!(t&&t.length<4);){let{index:e,1:o,2:r,3:s}=t;const a=o+r+s;e+=t[0].length-a.length;const l=[e,e+o.length],c=[e+o.length+r.length,e+o.length+r.length+s.length];n.push(l),n.push(c),i.push([e+o.length,e+o.length+r.length])}return{remove:n,format:i}}),s=s||((t,n)=>{const o=e.model.schema.getValidRanges(n,i);for(const e of o)t.setAttribute(i,!0,e);t.removeSelectionAttribute(i)}),e.model.document.on("change",(t,n)=>{if("transparent"==n.type)return;const o=e.model,i=o.document.selection;if(!i.isCollapsed)return;const a=Array.from(o.document.differ.getChanges()),l=a[0];if(1!=a.length||"insert"!==l.type||"$text"!=l.name||1!=l.length)return;const c=i.focus,u=c.parent,{text:d,range:h}=function(e,t){let n=e.start;return{text:Array.from(e.getItems()).reduce((e,o)=>o.is("text")||o.is("textProxy")?e+o.data:(n=t.createPositionAfter(o),""),""),range:t.createRange(n,e.end)}}(o.createRange(o.createPositionAt(u,0),c),o),p=r(d),f=ou(h.start,p.format,o),m=ou(h.start,p.remove,o);f.length&&m.length&&o.enqueueChange(e=>{if(!1!==s(e,f))for(const t of m.reverse())e.remove(t)})})}}function ou(e,t,n){return t.filter(e=>void 0!==e[0]&&void 0!==e[1]).map(t=>n.createRange(e.getShiftedBy(t[0]),e.getShiftedBy(t[1])))}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function iu(e,t){return(n,o)=>{if(!e.commands.get(t).isEnabled)return!1;const i=e.model.schema.getValidRanges(o,t);for(const e of i)n.setAttribute(t,!0,e);n.removeSelectionAttribute(t)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ru(e){const t=e.next();return t.done?null:t.value}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const su=["left","right","center","justify"];function au(e){return su.includes(e)}function lu(e,t){return"rtl"==t.contentLanguageDirection?"right"===e:"left"===e}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cu extends cc{refresh(){const e=this.editor.locale,t=ru(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!t&&this._canBeAligned(t),this.isEnabled&&t.hasAttribute("alignment")?this.value=t.getAttribute("alignment"):this.value="rtl"===e.contentLanguageDirection?"right":"left"}execute(e={}){const t=this.editor,n=t.locale,o=t.model,i=o.document,r=e.value;o.change(e=>{const t=Array.from(i.selection.getSelectedBlocks()).filter(e=>this._canBeAligned(e)),o=t[0].getAttribute("alignment");lu(r,n)||o===r||!r?function(e,t){for(const n of e)t.removeAttribute("alignment",n)}(t,e):function(e,t,n){for(const o of e)t.setAttribute("alignment",n,o)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(t,e,r)})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,"alignment")}}class uu extends ic{static get pluginName(){return"AlignmentEditing"}constructor(e){super(e),e.config.define("alignment",{options:[...su]})}init(){const e=this.editor,t=e.locale,n=e.model.schema,o=e.config.get("alignment.options").filter(au);n.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0});const i=function(e){const t={model:{key:"alignment",values:e.slice()},view:{}};for(const n of e)t.view[n]={key:"style",value:{"text-align":n}};return t}(o.filter(e=>!lu(e,t)));e.conversion.attributeToAttribute(i),e.commands.add("alignment",new cu(e))}}var du='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',hu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>';
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const pu=new Map([["left",du],["right",hu],["center",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>'],["justify",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>']]);class fu extends ic{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const e=this.editor,t=e.ui.componentFactory,n=e.t,o=e.config.get("alignment.options");o.filter(au).forEach(e=>this._addButton(e)),t.add("alignment",e=>{const i=Jl(e),r=o.map(e=>t.create(`alignment:${e}`));Yl(i,r),i.buttonView.set({label:n("Text alignment"),tooltip:!0}),i.toolbarView.isVertical=!0,i.toolbarView.ariaLabel=n("Text alignment toolbar"),i.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const s="rtl"===e.contentLanguageDirection?hu:du;return i.buttonView.bind("icon").toMany(r,"isOn",(...e)=>{const t=e.findIndex(e=>e);return t<0?s:r[t].icon}),i.bind("isEnabled").toMany(r,"isEnabled",(...e)=>e.some(e=>e)),i})}_addButton(e){const t=this.editor;t.ui.componentFactory.add(`alignment:${e}`,n=>{const o=t.commands.get("alignment"),i=new jl(n);return i.set({label:this.localizedOptionTitles[e],icon:pu.get(e),tooltip:!0,isToggleable:!0}),i.bind("isEnabled").to(o),i.bind("isOn").to(o,"value",t=>t===e),this.listenTo(i,"execute",()=>{t.execute("alignment",{value:e}),t.editing.view.focus()}),i})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class mu extends ic{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new mo({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if("string"!=typeof e)throw new an.b("pendingactions-add-invalid-message: The message must be a string.",this);const t=Object.create(Qn);return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gu extends ic{static get pluginName(){return"Autosave"}static get requires(){return[mu]}constructor(e){super(e);const t=e.config.get("autosave")||{},n=t.waitingTime||1e3;this.set("state","synchronized"),this._debouncedSave=tr(this._save.bind(this),n),this._lastDocumentVersion=e.model.document.version,this._domEmitter=Object.create(ki),this._config=t}init(){const e=this.editor,t=e.model.document,n=e.t;this._pendingActions=e.plugins.get(mu),this.listenTo(t,"change:data",()=>{this._saveCallbacks.length&&("synchronized"==this.state?(this._action=this._pendingActions.add(n("Saving changes")),this.state="waiting",this._debouncedSave()):"waiting"==this.state&&this._debouncedSave())}),this.listenTo(e,"destroy",()=>this._flush(),{priority:"highest"}),this._domEmitter.listenTo(window,"beforeunload",(e,t)=>{this._pendingActions.hasAny&&(t.returnValue=this._pendingActions.first.message)})}destroy(){this._domEmitter.stopListening(),super.destroy()}_flush(){this._debouncedSave.flush()}_save(){const e=this.editor.model.document.version;e<this._lastDocumentVersion||"initializing"===this.editor.state?this._debouncedSave.cancel():(this._lastDocumentVersion=e,this.state="saving",Promise.resolve().then(()=>Promise.all(this._saveCallbacks.map(e=>e(this.editor)))).catch(e=>{throw this.state="error",this.state="saving",this._debouncedSave(),e}).then(()=>{this.editor.model.document.version>this._lastDocumentVersion?(this.state="waiting",this._debouncedSave()):(this.state="synchronized",this._pendingActions.remove(this._action),this._action=null)}))}get _saveCallbacks(){const e=[];return this.adapter&&this.adapter.save&&e.push(this.adapter.save),this._config.save&&e.push(this._config.save),e}}_n(gu,Qn);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class bu extends cc{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,n=t.document.selection,o=void 0===e.forceValue?!this.value:e.forceValue;t.change(e=>{if(n.isCollapsed)o?e.setSelectionAttribute(this.attributeKey,!0):e.removeSelectionAttribute(this.attributeKey);else{const i=t.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const t of i)o?e.setAttribute(this.attributeKey,o,t):e.removeAttribute(this.attributeKey,t)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const e of n.getRanges())for(const n of e.getItems())if(t.checkAttribute(n,this.attributeKey))return n.hasAttribute(this.attributeKey);return!1}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class wu extends ic{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"bold"}),e.model.schema.setAttributeProperties("bold",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"bold",view:"strong",upcastAlso:["b",e=>{const t=e.getStyle("font-weight");return t?"bold"==t||Number(t)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),e.commands.add("bold",new bu(e,"bold")),e.keystrokes.set("CTRL+B","bold")}}class ku extends ic{init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("bold",n=>{const o=e.commands.get("bold"),i=new jl(n);return i.set({label:t("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(i,"execute",()=>e.execute("bold")),i})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vu extends ic{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"italic"}),e.model.schema.setAttributeProperties("italic",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"italic",view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add("italic",new bu(e,"italic")),e.keystrokes.set("CTRL+I","italic")}}class _u extends ic{init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("italic",n=>{const o=e.commands.get("italic"),i=new jl(n);return i.set({label:t("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(i,"execute",()=>e.execute("italic")),i})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yu extends ic{static get pluginName(){return"UnderlineEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"underline"}),e.model.schema.setAttributeProperties("underline",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"underline",view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),e.commands.add("underline",new bu(e,"underline")),e.keystrokes.set("CTRL+U","underline")}}class xu extends ic{init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("underline",n=>{const o=e.commands.get("underline"),i=new jl(n);return i.set({label:t("Underline"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zM5.2 10V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(i,"execute",()=>e.execute("underline")),i})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Cu extends ic{static get pluginName(){return"StrikethroughEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"strikethrough"}),e.model.schema.setAttributeProperties("strikethrough",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"strikethrough",view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),e.commands.add("strikethrough",new bu(e,"strikethrough")),e.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}class Tu extends ic{init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("strikethrough",n=>{const o=e.commands.get("strikethrough"),i=new jl(n);return i.set({label:t("Strikethrough"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9L6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(i,"execute",()=>e.execute("strikethrough")),i})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Eu extends ic{static get pluginName(){return"SuperscriptEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"superscript"}),e.model.schema.setAttributeProperties("superscript",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"superscript",view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),e.commands.add("superscript",new bu(e,"superscript"))}}class Su extends ic{init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("superscript",n=>{const o=e.commands.get("superscript"),i=new jl(n);return i.set({label:t("Superscript"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>',tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(i,"execute",()=>e.execute("superscript")),i})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Pu extends cc{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.schema,o=t.document.selection,i=Array.from(o.getSelectedBlocks()),r=void 0===e.forceValue?!this.value:e.forceValue;t.change(e=>{if(r){const t=i.filter(e=>Au(e)||Ou(n,e));this._applyQuote(e,t)}else this._removeQuote(e,i.filter(Au))})}_getValue(){const e=ru(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!Au(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=ru(e.getSelectedBlocks());return!!n&&Ou(t,n)}_removeQuote(e,t){Ru(e,t).reverse().forEach(t=>{if(t.start.isAtStart&&t.end.isAtEnd)return void e.unwrap(t.start.parent);if(t.start.isAtStart){const n=e.createPositionBefore(t.start.parent);return void e.move(t,n)}t.end.isAtEnd||e.split(t.end);const n=e.createPositionAfter(t.end.parent);e.move(t,n)})}_applyQuote(e,t){const n=[];Ru(e,t).reverse().forEach(t=>{let o=Au(t.start);o||(o=e.createElement("blockQuote"),e.wrap(t,o)),n.push(o)}),n.reverse().reduce((t,n)=>t.nextSibling==n?(e.merge(e.createPositionAfter(t)),t):n)}}function Au(e){return"blockQuote"==e.parent.name?e.parent:null}function Ru(e,t){let n,o=0;const i=[];for(;o<t.length;){const r=t[o],s=t[o+1];n||(n=e.createPositionBefore(r)),s&&r.nextSibling==s||(i.push(e.createRange(n,e.createPositionAfter(r))),n=null),o++}return i}function Ou(e,t){const n=e.checkChild(t.parent,"blockQuote"),o=e.checkChild(["$root","blockQuote"],t);return n&&o}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Nu extends ic{static get pluginName(){return"BlockQuoteEditing"}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new Pu(e)),t.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),t.addChildCheck((e,t)=>{if(e.endsWith("blockQuote")&&"blockQuote"==t.name)return!1}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(n=>{const o=e.model.document.differ.getChanges();for(const e of o)if("insert"==e.type){const o=e.position.nodeAfter;if(!o)continue;if(o.is("blockQuote")&&o.isEmpty)return n.remove(o),!0;if(o.is("blockQuote")&&!t.checkChild(e.position,o))return n.unwrap(o),!0;if(o.is("element")){const e=n.createRangeIn(o);for(const o of e.getItems())if(o.is("blockQuote")&&!t.checkChild(n.createPositionBefore(o),o))return n.unwrap(o),!0}}else if("remove"==e.type){const t=e.position.parent;if(t.is("blockQuote")&&t.isEmpty)return n.remove(t),!0}return!1})}afterInit(){const e=this.editor.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",(t,n)=>{const o=this.editor.model.document,i=o.selection.getLastPosition().parent;o.selection.isCollapsed&&i.isEmpty&&e.value&&(this.editor.execute("blockQuote"),this.editor.editing.view.scrollToTheSelection(),n.preventDefault(),t.stop())})}}n(44);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Iu extends ic{init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("blockQuote",n=>{const o=e.commands.get("blockQuote"),i=new jl(n);return i.set({label:t("Block quote"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(i,"execute",()=>e.execute("blockQuote")),i})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Mu extends cc{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=t.selection.getAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,n=t.document.selection,o=e.value;t.change(e=>{if(n.isCollapsed)o?e.setSelectionAttribute(this.attributeKey,o):e.removeSelectionAttribute(this.attributeKey);else{const i=t.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const t of i)o?e.setAttribute(this.attributeKey,o,t):e.removeAttribute(this.attributeKey,t)}})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class zu extends jl{constructor(e){super(e);const t=this.bindTemplate;this.set("color"),this.set("hasBorder"),this.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 010 2.829l-7.778 7.778a2 2 0 01-2.829 0L3.5 13.107a1.999 1.999 0 112.828-2.829l.707.707a1 1 0 001.414 0l5.658-5.657a2 2 0 012.828 0z"/><path d="M14.814 6.035L8.448 12.4a1 1 0 01-1.414 0l-1.413-1.415A1 1 0 104.207 12.4l2.829 2.829a1 1 0 001.414 0l7.778-7.778a1 1 0 10-1.414-1.415z"/></g></svg>\n',this.extendTemplate({attributes:{style:{backgroundColor:t.to("color")},class:["ck","ck-color-grid__tile",t.if("hasBorder","ck-color-table__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}n(46);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Du extends _l{constructor(e,t){super(e);const n=t&&t.colorDefinitions||[],o={};t&&t.columns&&(o.gridTemplateColumns=`repeat( ${t.columns}, 1fr)`),this.set("selectedColor"),this.items=this.createCollection(),this.focusTracker=new Ga,this.keystrokes=new Ba,this._focusCycler=new Rl({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowleft",focusNext:"arrowright"}}),this.items.on("add",(e,t)=>{t.isOn=t.color===this.selectedColor}),n.forEach(e=>{const t=new zu;t.set({color:e.color,label:e.label,tooltip:!0,hasBorder:e.options.hasBorder}),t.on("execute",()=>{this.fire("execute",{value:e.color,hasBorder:e.options.hasBorder,label:e.label})}),this.items.add(t)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:o}}),this.on("change:selectedColor",(e,t,n)=>{for(const e of this.items)e.isOn=e.color===n})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element)}}class Vu extends mo{constructor(e){super(e),this.set("isEmpty",!0)}add(e,t){this.find(t=>t.color===e.color)||(super.add(e,t),this.set("isEmpty",!1))}remove(e){const t=super.remove(e);return 0===this.length&&this.set("isEmpty",!0),t}hasColor(e){return!!this.find(t=>t.color===e)}}_n(Vu,Qn);var Bu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.636 9.531l-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>';n(48);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Fu extends _l{constructor(e,{colors:t,columns:n,removeButtonLabel:o,documentColorsLabel:i,documentColorsCount:r}){if(super(e),this.items=this.createCollection(),this.colorDefinitions=t,this.focusTracker=new Ga,this.keystrokes=new Ba,this.set("selectedColor"),this.removeButtonLabel=o,this.columns=n,this.documentColors=new Vu,this.documentColorsCount=r,this.staticColorsGrid=this._createStaticColorsGrid(),this.documentColorsGrid,this._focusCycler=new Rl({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-table"]},children:this.items}),this.items.add(this._removeColorButton()),this.items.add(this.staticColorsGrid),r){const e=nl.bind(this.documentColors,this.documentColors),t=new xl(this.locale);t.text=i,t.extendTemplate({attributes:{class:["ck","ck-color-grid__label",e.if("isEmpty","ck-hidden")]}}),this.items.add(t),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}}updateDocumentColors(e,t){const n=e.document,o=this.documentColorsCount;this.documentColors.clear();for(const i of n.getRootNames()){const r=n.getRoot(i),s=e.createRangeIn(r);for(const e of s.getItems())if(e.is("textProxy")&&e.hasAttribute(t)&&(this._addColorToDocumentColors(e.getAttribute(t)),this.documentColors.length>=o))return}}updateSelectedColors(){const e=this.documentColorsGrid,t=this.staticColorsGrid,n=this.selectedColor;t.selectedColor=n,e&&(e.selectedColor=n)}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_removeColorButton(){const e=new jl;return e.set({withText:!0,icon:Bu,tooltip:!0,label:this.removeButtonLabel}),e.class="ck-color-table__remove-color",e.on("execute",()=>{this.fire("execute",{value:null})}),e}_createStaticColorsGrid(){const e=new Du(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return e.delegate("execute").to(this),e}_createDocumentColorsGrid(){const e=nl.bind(this.documentColors,this.documentColors),t=new Du(this.locale,{columns:this.columns});return t.delegate("execute").to(this),t.extendTemplate({attributes:{class:e.if("isEmpty","ck-hidden")}}),t.items.bindTo(this.documentColors).using(e=>{const t=new zu;return t.set({color:e.color,hasBorder:e.options&&e.options.hasBorder}),e.label&&t.set({label:e.label,tooltip:!0}),t.on("execute",()=>{this.fire("execute",{value:e.color})}),t}),this.documentColors.on("change:isEmpty",(e,n,o)=>{o&&(t.selectedColor=null)}),t}_addColorToDocumentColors(e){const t=this.colorDefinitions.find(t=>t.color===e);t?this.documentColors.add(Object.assign({},t)):this.documentColors.add({color:e,label:e,options:{hasBorder:!1}})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Lu(e,t){const n={model:{key:e,values:[]},view:{},upcastAlso:{}};for(const e of t)n.model.values.push(e.model),n.view[e.model]=e.view,e.upcastAlso&&(n.upcastAlso[e.model]=e.upcastAlso);return n}function ju(e){return t=>t.getStyle(e).replace(/\s/g,"")}function Hu(e){return(t,n)=>n.createAttributeElement("span",{style:`${e}:${t}`},{priority:7})}function Wu(e){return"string"==typeof e?{model:e.replace(/ /g,""),label:e,hasBorder:!1,view:{name:"span",styles:{color:e}}}:{model:e.color.replace(/ /g,""),label:e.label||e.color,hasBorder:void 0!==e.hasBorder&&e.hasBorder,view:{name:"span",styles:{color:`${e.color}`}}}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Uu extends Mu{constructor(e){super(e,"fontFamily")}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function qu(e){return e.map($u).filter(e=>!!e)}function $u(e){return"object"==typeof e?e:"default"===e?{title:"Default",model:void 0}:"string"==typeof e?function(e){const t=e.replace(/"|'/g,"").split(","),n=t[0],o=t.map(Gu).join(", ");return{title:n,model:n,view:{name:"span",styles:{"font-family":o},priority:7}}}(e):void 0}function Gu(e){return(e=e.trim()).indexOf(" ")>0&&(e=`'${e}'`),e}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ku extends ic{static get pluginName(){return"FontFamilyEditing"}constructor(e){super(e),e.config.define("fontFamily",{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"]})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"fontFamily"}),e.model.schema.setAttributeProperties("fontFamily",{isFormatting:!0,copyOnEnter:!0});const t=Lu("fontFamily",qu(e.config.get("fontFamily.options")).filter(e=>e.model));e.conversion.attributeToElement(t),e.commands.add("fontFamily",new Uu(e))}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ju{constructor(e,t){t&&$n(this,t),e&&this.set(e)}}_n(Ju,Qn);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Yu extends ic{init(){const e=this.editor,t=e.t,n=this._getLocalizedOptions(),o=e.commands.get("fontFamily");e.ui.componentFactory.add("fontFamily",i=>{const r=Jl(i);return Ql(r,function(e,t){const n=new mo;for(const o of e){const e={type:"button",model:new Ju({commandName:"fontFamily",commandParam:o.model,label:o.title,withText:!0})};e.model.bind("isOn").to(t,"value",e=>e===o.model),o.view&&o.view.styles&&e.model.set("labelStyle",`font-family: ${o.view.styles["font-family"]}`),n.add(e)}return n}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(n,o)),r.buttonView.set({label:t("Font Family"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>',tooltip:!0}),r.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),r.bind("isEnabled").to(o),this.listenTo(r,"execute",t=>{e.execute(t.source.commandName,{value:t.source.commandParam}),e.editing.view.focus()}),r})}_getLocalizedOptions(){const e=this.editor,t=e.t;return qu(e.config.get("fontFamily").options).map(e=>("Default"===e.title&&(e.title=t("Default")),e))}}class Qu extends ic{static get requires(){return[Ku,Yu]}static get pluginName(){return"FontFamily"}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xu extends Mu{constructor(e){super(e,"fontSize")}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Zu(e){return e.map(td).filter(e=>!!e)}const ed={tiny:{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}},small:{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}},big:{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}},huge:{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}};function td(e){if("object"==typeof e)return e;if(ed[e])return ed[e];if("default"===e)return{model:void 0,title:"Default"};const t=parseFloat(e);var n;
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */return isNaN(t)?void 0:(n=t,{title:String(n),model:n,view:{name:"span",styles:{"font-size":`${n}px`},priority:7}})}class nd extends ic{static get pluginName(){return"FontSizeEditing"}constructor(e){super(e),e.config.define("fontSize",{options:["tiny","small","default","big","huge"]});const t=Lu("fontSize",Zu(this.editor.config.get("fontSize.options")).filter(e=>e.model));e.conversion.attributeToElement(t),e.commands.add("fontSize",new Xu(e))}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"fontSize"}),e.model.schema.setAttributeProperties("fontSize",{isFormatting:!0,copyOnEnter:!0})}}n(50);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class od extends ic{init(){const e=this.editor,t=e.t,n=this._getLocalizedOptions(),o=e.commands.get("fontSize");e.ui.componentFactory.add("fontSize",i=>{const r=Jl(i);return Ql(r,function(e,t){const n=new mo;for(const o of e){const e={type:"button",model:new Ju({commandName:"fontSize",commandParam:o.model,label:o.title,class:"ck-fontsize-option",withText:!0})};o.view&&o.view.styles&&e.model.set("labelStyle",`font-size:${o.view.styles["font-size"]}`),o.view&&o.view.classes&&e.model.set("class",`${e.model.class} ${o.view.classes}`),e.model.bind("isOn").to(t,"value",e=>e===o.model),n.add(e)}return n}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(n,o)),r.buttonView.set({label:t("Font Size"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5L7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279l.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>',tooltip:!0}),r.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),r.bind("isEnabled").to(o),this.listenTo(r,"execute",t=>{e.execute(t.source.commandName,{value:t.source.commandParam}),e.editing.view.focus()}),r})}_getLocalizedOptions(){const e=this.editor,t=e.t,n={Default:t("Default"),Tiny:t("Tiny"),Small:t("Small"),Big:t("Big"),Huge:t("Huge")};return Zu(e.config.get("fontSize").options).map(e=>{const t=n[e.title];return t&&t!=e.title&&(e=Object.assign({},e,{title:t})),e})}}class id extends ic{static get requires(){return[nd,od]}static get pluginName(){return"FontSize"}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rd extends Mu{constructor(e){super(e,"fontColor")}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sd extends ic{static get pluginName(){return"FontColorEditing"}constructor(e){super(e),e.config.define("fontColor",{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:"fontColor",value:ju("color")}}),e.conversion.for("downcast").attributeToElement({model:"fontColor",view:Hu("color")}),e.commands.add("fontColor",new rd(e)),e.model.schema.extend("$text",{allowAttributes:"fontColor"}),e.model.schema.setAttributeProperties("fontColor",{isFormatting:!0,copyOnEnter:!0})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ad extends ic{constructor(e,{commandName:t,icon:n,componentName:o,dropdownLabel:i}){super(e),this.commandName=t,this.componentName=o,this.icon=n,this.dropdownLabel=i,this.columns=e.config.get(`${this.componentName}.columns`),this.colorTableView}init(){const e=this.editor,t=e.t,n=e.commands.get(this.commandName),o=e.config.get(this.componentName).colors.map(Wu).filter(e=>!!e);const i=function(e,t){const n=e.t,o={Black:n("Black"),"Dim grey":n("Dim grey"),Grey:n("Grey"),"Light grey":n("Light grey"),White:n("White"),Red:n("Red"),Orange:n("Orange"),Yellow:n("Yellow"),"Light green":n("Light green"),Green:n("Green"),Aquamarine:n("Aquamarine"),Turquoise:n("Turquoise"),"Light blue":n("Light blue"),Blue:n("Blue"),Purple:n("Purple")};return t.map(e=>{const t=o[e.label];return t&&t!=e.label&&(e.label=t),e})}(e,o),r=e.config.get(`${this.componentName}.documentColors`);e.ui.componentFactory.add(this.componentName,o=>{const s=Jl(o);return this.colorTableView=function({dropdownView:e,colors:t,columns:n,removeButtonLabel:o,documentColorsLabel:i,documentColorsCount:r}){const s=e.locale,a=new Fu(s,{colors:t,columns:n,removeButtonLabel:o,documentColorsLabel:i,documentColorsCount:r});return e.colorTableView=a,e.panelView.children.add(a),a.delegate("execute").to(e,"execute"),a}({dropdownView:s,colors:i.map(e=>({label:e.label,color:e.model,options:{hasBorder:e.hasBorder}})),columns:this.columns,removeButtonLabel:t("Remove color"),documentColorsLabel:0!==r?t("Document colors"):void 0,documentColorsCount:void 0===r?this.columns:r}),this.colorTableView.bind("selectedColor").to(n,"value"),s.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),s.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),s.bind("isEnabled").to(n),s.on("execute",(t,n)=>{e.execute(this.commandName,n),e.editing.view.focus()}),s.on("change:isOpen",(t,n,o)=>{o&&(0!==r&&this.colorTableView.updateDocumentColors(e.model,this.componentName),this.colorTableView.updateSelectedColors())}),s})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class ld extends ad{constructor(e){super(e,{commandName:"fontColor",componentName:"fontColor",icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3L10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zM16 18.5H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>\n',dropdownLabel:(0,e.locale.t)("Font Color")})}static get pluginName(){return"FontColorUI"}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class cd extends ic{static get requires(){return[sd,ld]}static get pluginName(){return"FontColor"}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ud extends Mu{constructor(e){super(e,"fontBackgroundColor")}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dd extends ic{static get pluginName(){return"FontBackgroundColorEditing"}constructor(e){super(e),e.config.define("fontBackgroundColor",{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:"fontBackgroundColor",value:ju("background-color")}}),e.conversion.for("downcast").attributeToElement({model:"fontBackgroundColor",view:Hu("background-color")}),e.commands.add("fontBackgroundColor",new ud(e)),e.model.schema.extend("$text",{allowAttributes:"fontBackgroundColor"}),e.model.schema.setAttributeProperties("fontBackgroundColor",{isFormatting:!0,copyOnEnter:!0})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class hd extends ad{constructor(e){super(e,{commandName:"fontBackgroundColor",componentName:"fontBackgroundColor",icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>',dropdownLabel:(0,e.locale.t)("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pd extends ic{static get requires(){return[dd,hd]}static get pluginName(){return"FontBackgroundColor"}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class fd extends cc{refresh(){const e=this.editor.model,t=ru(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("paragraph"),this.isEnabled=!!t&&md(t,e.schema)}execute(e={}){const t=this.editor.model,n=t.document;t.change(o=>{const i=(e.selection||n.selection).getSelectedBlocks();for(const e of i)!e.is("paragraph")&&md(e,t.schema)&&o.rename(e,"paragraph")})}}function md(e,t){return t.checkChild(e.parent,"paragraph")&&!t.isObject(e)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gd extends ic{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model,n=e.data;e.commands.add("paragraph",new fd(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(e,t)=>gd.paragraphLikeElements.has(e.name)?e.isEmpty?null:t.createElement("paragraph"):null,converterPriority:"low"}),n.upcastDispatcher.on("element",(e,t,n)=>{n.consumable.test(t.viewItem,{name:t.viewItem.name})&&wd(t.viewItem,t.modelCursor,n.schema)&&Object.assign(t,bd(t.viewItem,t.modelCursor,n))},{priority:"low"}),n.upcastDispatcher.on("text",(e,t,n)=>{t.modelRange||wd(t.viewItem,t.modelCursor,n.schema)&&Object.assign(t,bd(t.viewItem,t.modelCursor,n))},{priority:"lowest"}),t.document.registerPostFixer(e=>this._autoparagraphEmptyRoots(e)),e.data.on("ready",()=>{t.enqueueChange("transparent",e=>this._autoparagraphEmptyRoots(e))},{priority:"lowest"})}_autoparagraphEmptyRoots(e){const t=this.editor.model;for(const n of t.document.getRootNames()){const o=t.document.getRoot(n);if(o.isEmpty&&"$graveyard"!=o.rootName&&t.schema.checkChild(o,"paragraph"))return e.insertElement("paragraph",o),!0}}}function bd(e,t,n){const o=n.writer.createElement("paragraph");return n.writer.insert(o,t),n.convertItem(e,n.writer.createPositionAt(o,0))}function wd(e,t,n){const o=n.createContext(t);return!!n.checkChild(o,"paragraph")&&!!n.checkChild(o.push("paragraph"),e)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */gd.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"]);class kd extends cc{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=ru(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>vd(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,n=t.document,o=e.value;t.change(e=>{const i=Array.from(n.selection.getSelectedBlocks()).filter(e=>vd(e,o,t.schema));for(const t of i)t.is(o)||e.rename(t,o)})}}function vd(e,t,n){return n.checkChild(e.parent,t)&&!n.isObject(e)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _d extends ic{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[gd]}init(){const e=this.editor,t=e.config.get("heading.options"),n=[];for(const o of t)"paragraph"!==o.model&&(e.model.schema.register(o.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(o),n.push(o.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new kd(e,n))}afterInit(){const e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(t,o)=>{const i=e.model.document.selection.getFirstPosition().parent;n.some(e=>i.is(e.model))&&!i.is("paragraph")&&0===i.childCount&&o.writer.rename(i,"paragraph")})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:dn.get("low")+1})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function yd(e){const t=e.t,n={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return e.config.get("heading.options").map(e=>{const t=n[e.title];return t&&t!=e.title&&(e.title=t),e})}n(10);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xd extends ic{init(){const e=this.editor,t=e.t,n=yd(e),o=t("Choose heading"),i=t("Heading");e.ui.componentFactory.add("heading",t=>{const r={},s=new mo,a=e.commands.get("heading"),l=e.commands.get("paragraph"),c=[a];for(const e of n){const t={type:"button",model:new Ju({label:e.title,class:e.class,withText:!0})};"paragraph"===e.model?(t.model.bind("isOn").to(l,"value"),t.model.set("commandName","paragraph"),c.push(l)):(t.model.bind("isOn").to(a,"value",t=>t===e.model),t.model.set({commandName:"heading",commandValue:e.model})),s.add(t),r[e.model]=e.title}const u=Jl(t);return Ql(u,s),u.buttonView.set({isOn:!1,withText:!0,tooltip:i}),u.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),u.bind("isEnabled").toMany(c,"isEnabled",(...e)=>e.some(e=>e)),u.buttonView.bind("label").to(a,"value",l,"value",(e,t)=>{const n=e||t&&"paragraph";return r[n]?r[n]:o}),this.listenTo(u,"execute",t=>{e.execute(t.source.commandName,t.source.commandValue?{value:t.source.commandValue}:void 0),e.editing.view.focus()}),u})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const Cd={heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53l1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607l1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973l-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>'};
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Td extends cc{refresh(){const e=this.editor.model,t=e.document;this.value=t.selection.getAttribute("highlight"),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"highlight")}execute(e={}){const t=this.editor.model,n=t.document.selection,o=e.value;t.change(e=>{const i=t.schema.getValidRanges(n.getRanges(),"highlight");if(n.isCollapsed){const t=n.getFirstPosition();if(n.hasAttribute("highlight")){const n=e=>e.item.hasAttribute("highlight")&&e.item.getAttribute("highlight")===this.value,i=t.getLastMatchingPosition(n,{direction:"backward"}),r=t.getLastMatchingPosition(n),s=e.createRange(i,r);o&&this.value!==o?(e.setAttribute("highlight",o,s),e.setSelectionAttribute("highlight",o)):(e.removeAttribute("highlight",s),e.removeSelectionAttribute("highlight"))}else o&&e.setSelectionAttribute("highlight",o)}else for(const t of i)o?e.setAttribute("highlight",o,t):e.removeAttribute("highlight",t)})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ed extends ic{static get pluginName(){return"HighlightEditing"}constructor(e){super(e),e.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-highlight-pen-green)",type:"pen"}]})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"highlight"});const t=e.config.get("highlight.options");e.conversion.attributeToElement(function(e){const t={model:{key:"highlight",values:[]},view:{}};for(const n of e)t.model.values.push(n.model),t.view[n.model]={name:"mark",classes:n.class};return t}(t)),e.commands.add("highlight",new Td(e))}}n(53);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Sd extends _l{constructor(e){super(e);const t=this.bindTemplate;this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new Ba,this.focusTracker=new Ga,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",t.if("isVisible","ck-hidden",e=>!e),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}focus(){this.actionView.focus()}_createActionView(){const e=new jl;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new jl,t=e.bindTemplate;return e.icon=Hl,e.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":t.to("isOn",e=>String(e))}}),e.bind("isEnabled").to(this),e.delegate("execute").to(this,"open"),e}}n(55);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Pd extends ic{get localizedOptionTitles(){const e=this.editor.t;return{"Yellow marker":e("Yellow marker"),"Green marker":e("Green marker"),"Pink marker":e("Pink marker"),"Blue marker":e("Blue marker"),"Red pen":e("Red pen"),"Green pen":e("Green pen")}}static get pluginName(){return"HighlightUI"}init(){const e=this.editor.config.get("highlight.options");for(const t of e)this._addHighlighterButton(t);this._addRemoveHighlightButton(),this._addDropdown(e)}_addRemoveHighlightButton(){const e=this.editor.t;this._addButton("removeHighlight",e("Remove highlight"),Bu)}_addHighlighterButton(e){const t=this.editor.commands.get("highlight");this._addButton("highlight:"+e.model,e.title,Ad(e.type),e.model,(function(n){n.bind("isEnabled").to(t,"isEnabled"),n.bind("isOn").to(t,"value",t=>t===e.model),n.iconView.fillColor=e.color,n.isToggleable=!0}))}_addButton(e,t,n,o,i=(()=>{})){const r=this.editor;r.ui.componentFactory.add(e,e=>{const s=new jl(e),a=this.localizedOptionTitles[t]?this.localizedOptionTitles[t]:t;return s.set({label:a,icon:n,tooltip:!0}),s.on("execute",()=>{r.execute("highlight",{value:o}),r.editing.view.focus()}),i(s),s})}_addDropdown(e){const t=this.editor,n=t.t,o=t.ui.componentFactory,i=e[0],r=e.reduce((e,t)=>(e[t.model]=t,e),{});o.add("highlight",s=>{const a=t.commands.get("highlight"),l=Jl(s,Sd),c=l.buttonView;c.set({tooltip:n("Highlight"),lastExecuted:i.model,commandValue:i.model,isToggleable:!0}),c.bind("icon").to(a,"value",e=>Ad(d(e,"type"))),c.bind("color").to(a,"value",e=>d(e,"color")),c.bind("commandValue").to(a,"value",e=>d(e,"model")),c.bind("isOn").to(a,"value",e=>!!e),c.delegate("execute").to(l);const u=e.map(e=>{const t=o.create("highlight:"+e.model);return this.listenTo(t,"execute",()=>l.buttonView.set({lastExecuted:e.model})),t});function d(e,t){const n=e&&e!==c.lastExecuted?e:c.lastExecuted;return r[n][t]}return l.bind("isEnabled").toMany(u,"isEnabled",(...e)=>e.some(e=>e)),u.push(new Nl),u.push(o.create("removeHighlight")),Yl(l,u),function(e){e.buttonView.actionView.iconView.bind("fillColor").to(e.buttonView,"color")}(l),l.toolbarView.ariaLabel=n("Text highlight toolbar"),c.on("execute",()=>{t.execute("highlight",{value:c.commandValue}),t.editing.view.focus()}),l})}}function Ad(e){return"marker"===e?'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59L3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="M2.556 16.727l.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415l1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656l-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5L9.59 17h9.406v1.5H8.245z"/></svg>':'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268L2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="M4.5 18.088l-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166l-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5L9.59 17h9.406v1.5H8.245z"/></svg>'}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Rd{constructor(){this._stack=[]}add(e,t){const n=this._stack,o=n[0];this._insertDescriptor(e);const i=n[0];o===i||Od(o,i)||this.fire("change:top",{oldDescriptor:o,newDescriptor:i,writer:t})}remove(e,t){const n=this._stack,o=n[0];this._removeDescriptor(e);const i=n[0];o===i||Od(o,i)||this.fire("change:top",{oldDescriptor:o,newDescriptor:i,writer:t})}_insertDescriptor(e){const t=this._stack,n=t.findIndex(t=>t.id===e.id);if(Od(e,t[n]))return;n>-1&&t.splice(n,1);let o=0;for(;t[o]&&Nd(t[o],e);)o++;t.splice(o,0,e)}_removeDescriptor(e){const t=this._stack,n=t.findIndex(t=>t.id===e);n>-1&&t.splice(n,1)}}function Od(e,t){return e&&t&&e.priority==t.priority&&Id(e.classes)==Id(t.classes)}function Nd(e,t){return e.priority>t.priority||!(e.priority<t.priority)&&Id(e.classes)>Id(t.classes)}function Id(e){return Array.isArray(e)?e.sort().join(","):e}_n(Rd,fn);function Md(e){return!!e.is("element")&&!!e.getCustomProperty("widget")}function zd(e,t,n={}){return xo.isEdge||t.setAttribute("contenteditable","false",e),t.addClass("ck-widget",e),t.setCustomProperty("widget",!0,e),e.getFillerOffset=Fd,n.label&&function(e,t,n){n.setCustomProperty("widgetLabel",t,e)}(e,n.label,t),n.hasSelectionHandle&&function(e,t){const n=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(e){const t=this.toDomElement(e),n=new Fl;return n.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),n.render(),t.appendChild(n.element),t}));t.insert(t.createPositionAt(e,0),n),t.addClass(["ck-widget_with-selection-handle"],e)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(e,t),function(e,t,n,o){const i=new Rd;i.on("change:top",(t,i)=>{i.oldDescriptor&&o(e,i.oldDescriptor,i.writer),i.newDescriptor&&n(e,i.newDescriptor,i.writer)}),t.setCustomProperty("addHighlight",(e,t,n)=>i.add(t,n),e),t.setCustomProperty("removeHighlight",(e,t,n)=>i.remove(t,n),e)}(e,t,(e,t,n)=>n.addClass(o(t.classes),e),(e,t,n)=>n.removeClass(o(t.classes),e)),e;function o(e){return Array.isArray(e)?e:[e]}}function Dd(e){const t=e.getCustomProperty("widgetLabel");return t?"function"==typeof t?t():t:""}function Vd(e,t){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],e),xo.isEdge||(t.setAttribute("contenteditable",e.isReadOnly?"false":"true",e),e.on("change:isReadOnly",(n,o,i)=>{t.setAttribute("contenteditable",i?"false":"true",e)})),e.on("change:isFocused",(n,o,i)=>{i?t.addClass("ck-editor__nested-editable_focused",e):t.removeClass("ck-editor__nested-editable_focused",e)}),e}function Bd(e,t){const n=e.getSelectedElement();if(n&&t.schema.isBlock(n))return t.createPositionAfter(n);const o=e.getSelectedBlocks().next().value;if(o){if(o.isEmpty)return t.createPositionAt(o,0);const n=t.createPositionAfter(o);return e.focus.isTouching(n)?n:t.createPositionBefore(o)}return e.focus}function Fd(){return null}class Ld extends cc{refresh(){this.isEnabled=function(e){const t=e.schema,n=e.document.selection;return function(e,t,n){const o=function(e,t){const n=Bd(e,t).parent;if(n.isEmpty&&!n.is("$root"))return n.parent;return n}(e,n);return t.checkChild(o,"horizontalLine")}(n,t,e)&&!function(e,t){const n=e.getSelectedElement();return n&&t.isObject(n)}(n,t)}(this.editor.model)}execute(){const e=this.editor.model;e.change(t=>{const n=t.createElement("horizontalLine");e.insertContent(n);let o=n.nextSibling;!(o&&e.schema.checkChild(o,"$text"))&&e.schema.checkChild(n.parent,"paragraph")&&(o=t.createElement("paragraph"),t.insert(o,t.createPositionAfter(n))),o&&t.setSelection(o,0)})}}n(57);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jd extends ic{static get pluginName(){return"HorizontalLineEditing"}init(){const e=this.editor,t=e.model.schema,n=e.t,o=e.conversion;t.register("horizontalLine",{isObject:!0,allowWhere:"$block"}),o.for("dataDowncast").elementToElement({model:"horizontalLine",view:(e,t)=>t.createEmptyElement("hr")}),o.for("editingDowncast").elementToElement({model:"horizontalLine",view:(e,t)=>{const o=n("Horizontal line"),i=t.createContainerElement("div"),r=t.createEmptyElement("hr");return t.addClass("ck-horizontal-line",i),t.setCustomProperty("hr",!0,i),t.insert(t.createPositionAt(i,0),r),function(e,t,n){return t.setCustomProperty("horizontalLine",!0,e),zd(e,t,{label:n})}(i,t,o)}}),o.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),e.commands.add("horizontalLine",new Ld(e))}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Hd extends ic{init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("horizontalLine",n=>{const o=e.commands.get("horizontalLine"),i=new jl(n);return i.set({label:t("Horizontal line"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z" /></svg>\n',tooltip:!0}),i.bind("isEnabled").to(o,"isEnabled"),this.listenTo(i,"execute",()=>e.execute("horizontalLine")),i})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Wd extends yi{observe(e){this.listenTo(e,"load",(e,t)=>{"IMG"==t.target.tagName&&this._fireEvents(t)},{useCapture:!0})}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ud(e){return n=>{n.on(`attribute:${e}:image`,t)};function t(e,t,n){if(!n.consumable.consume(t.item,e.name))return;const o=n.writer,i=n.mapper.toViewElement(t.item).getChild(0);null!==t.attributeNewValue?o.setAttribute(t.attributeKey,t.attributeNewValue,i):o.removeAttribute(t.attributeKey,i)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function qd(e){const t=e.getSelectedElement();return t&&function(e){return!!e.getCustomProperty("image")&&Md(e)}(t)?t:null}function $d(e){return!!e&&e.is("image")}function Gd(e,t,n={}){const o=e.createElement("image",n),i=Bd(t.document.selection,t);t.insertContent(o,i),o.parent&&e.setSelection(o,"on")}function Kd(e){const t=e.schema,n=e.document.selection;return function(e,t,n){const o=function(e,t){const n=Bd(e,t).parent;if(n.isEmpty&&!n.is("$root"))return n.parent;return n}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(e,n);return t.checkChild(o,"image")}(n,t,e)&&!function(e,t){const n=e.getSelectedElement();return n&&t.isObject(n)}(n,t)&&function(e){return[...e.focus.getAncestors()].every(e=>!e.is("image"))}(n)}class Jd extends cc{refresh(){this.isEnabled=Kd(this.editor.model)}execute(e){const t=this.editor.model;t.change(n=>{const o=Array.isArray(e.source)?e.source:[e.source];for(const e of o)Gd(n,t,{src:e})})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Yd extends ic{static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.model.schema,n=e.t,o=e.conversion;e.editing.view.addObserver(Wd),t.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),o.for("dataDowncast").elementToElement({model:"image",view:(e,t)=>Qd(t)}),o.for("editingDowncast").elementToElement({model:"image",view:(e,t)=>{return o=Qd(t),i=t,r=n("image widget"),i.setCustomProperty("image",!0,o),zd(o,i,{label:function(){const e=o.getChild(0).getAttribute("alt");return e?`${e} ${r}`:r}});var o,i,r}}),o.for("downcast").add(Ud("src")).add(Ud("alt")).add(function(){return t=>{t.on("attribute:srcset:image",e)};function e(e,t,n){if(!n.consumable.consume(t.item,e.name))return;const o=n.writer,i=n.mapper.toViewElement(t.item).getChild(0);if(null===t.attributeNewValue){const e=t.attributeOldValue;e.data&&(o.removeAttribute("srcset",i),o.removeAttribute("sizes",i),e.width&&o.removeAttribute("width",i))}else{const e=t.attributeNewValue;e.data&&(o.setAttribute("srcset",e.data,i),o.setAttribute("sizes","100vw",i),e.width&&o.setAttribute("width",e.width,i))}}}()),o.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:(e,t)=>t.createElement("image",{src:e.getAttribute("src")})}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:e=>{const t={data:e.getAttribute("srcset")};return e.hasAttribute("width")&&(t.width=e.getAttribute("width")),t}}}).add(function(){return t=>{t.on("element:figure",e)};function e(e,t,n){if(!n.consumable.test(t.viewItem,{name:!0,classes:"image"}))return;const o=Array.from(t.viewItem.getChildren()).find(e=>e.is("img"));if(!o||!o.hasAttribute("src")||!n.consumable.test(o,{name:!0}))return;const i=n.convertItem(o,t.modelCursor),r=ru(i.modelRange.getItems());r&&(n.convertChildren(t.viewItem,n.writer.createPositionAt(r,0)),t.modelRange=i.modelRange,t.modelCursor=i.modelCursor)}}()),e.commands.add("imageInsert",new Jd(e))}}function Qd(e){const t=e.createEmptyElement("img"),n=e.createContainerElement("figure",{class:"image"});return e.insert(e.createPositionAt(n,0),t),n}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xd extends Wi{constructor(e){super(e),this.domEventType="mousedown"}onDomEvent(e){this.fire(e.type,e)}}n(59);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Zd=Po("Ctrl+A");class eh extends ic{static get pluginName(){return"Widget"}init(){const e=this.editor.editing.view,t=e.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(e,t,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const o=n.writer,i=o.document.selection,r=i.getSelectedElement();let s=null;for(const e of i.getRanges())for(const t of e){const e=t.item;Md(e)&&!th(e,s)&&(o.addClass("ck-widget_selected",e),this._previouslySelected.add(e),s=e,e==r&&o.setSelection(i.getRanges(),{fake:!0,label:Dd(r)}))}},{priority:"low"}),e.addObserver(Xd),this.listenTo(t,"mousedown",(...e)=>this._onMousedown(...e)),this.listenTo(t,"keydown",(...e)=>this._onKeydown(...e),{priority:"high"}),this.listenTo(t,"delete",(e,t)=>{this._handleDelete("forward"==t.direction)&&(t.preventDefault(),e.stop())},{priority:"high"})}_onMousedown(e,t){const n=this.editor,o=n.editing.view,i=o.document;let r=t.target;if(function(e){for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(Md(e))return!1;e=e.parent}return!1}(r)){if(xo.isSafari&&t.domEvent.detail>=3){const e=n.editing.mapper.toModelElement(r);this.editor.model.change(n=>{t.preventDefault(),n.setSelection(e,"in")})}return}if(!Md(r)&&(r=r.findAncestor(Md),!r))return;t.preventDefault(),i.isFocused||o.focus();const s=n.editing.mapper.toModelElement(r);this._setSelectionOverElement(s)}_onKeydown(e,t){const n=t.keyCode,o="ltr"===this.editor.locale.contentLanguageDirection,i=n==Eo.arrowdown||n==Eo[o?"arrowright":"arrowleft"];let r=!1;!function(e){return e==Eo.arrowright||e==Eo.arrowleft||e==Eo.arrowup||e==Eo.arrowdown}(n)?!function(e){return So(e)==Zd}(t)?n===Eo.enter&&(r=this._handleEnterKey(t.shiftKey)):r=this._selectAllNestedEditableContent()||this._selectAllContent():r=this._handleArrowKeys(i),r&&(t.preventDefault(),e.stop())}_handleDelete(e){if(this.editor.isReadOnly)return;const t=this.editor.model.document.selection;if(!t.isCollapsed)return;const n=this._getObjectElementNextToSelection(e);return n?(this.editor.model.change(e=>{let o=t.anchor.parent;for(;o.isEmpty;){const t=o;o=t.parent,e.remove(t)}this._setSelectionOverElement(n)}),!0):void 0}_handleArrowKeys(e){const t=this.editor.model,n=t.schema,o=t.document.selection,i=o.getSelectedElement();if(i&&n.isObject(i)){const i=e?o.getLastPosition():o.getFirstPosition(),r=n.getNearestSelectionRange(i,e?"forward":"backward");return r&&t.change(e=>{e.setSelection(r)}),!0}if(!o.isCollapsed)return;const r=this._getObjectElementNextToSelection(e);return r&&n.isObject(r)?(this._setSelectionOverElement(r),!0):void 0}_handleEnterKey(e){const t=this.editor.model,n=t.document.selection.getSelectedElement();if(o=n,i=t.schema,o&&i.isObject(o)&&!i.isInline(o))return t.change(o=>{let i=o.createPositionAt(n,e?"before":"after");const r=o.createElement("paragraph");if(t.schema.isBlock(n.parent)){const e=t.schema.findAllowedParent(i,r);i=o.split(i,e).position}o.insert(r,i),o.setSelection(r,"in")}),!0;var o,i;
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */}_selectAllNestedEditableContent(){const e=this.editor.model,t=e.document.selection,n=e.schema.getLimitElement(t);return t.getFirstRange().root!=n&&(e.change(e=>{e.setSelection(e.createRangeIn(n))}),!0)}_selectAllContent(){const e=this.editor.model,t=this.editor.editing,n=t.view.document.selection.getSelectedElement();if(n&&Md(n)){const o=t.mapper.toModelElement(n.parent);return e.change(e=>{e.setSelection(e.createRangeIn(o))}),!0}return!1}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,n=t.schema,o=t.document.selection,i=t.createSelection(o);t.modifySelection(i,{direction:e?"forward":"backward"});const r=e?i.focus.nodeBefore:i.focus.nodeAfter;return r&&n.isObject(r)?r:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass("ck-widget_selected",t);this._previouslySelected.clear()}}function th(e,t){return!!t&&Array.from(e.getAncestors()).includes(t)}class nh extends cc{refresh(){const e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=$d(e),$d(e)&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor.model,n=t.document.selection.getSelectedElement();t.change(t=>{t.setAttribute("alt",e.newValue,n)})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class oh extends ic{static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new nh(this.editor))}}n(61);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ih extends _l{constructor(e,t){super(e);const n=`ck-input-${un()}`,o=`ck-status-${un()}`;this.set("label"),this.set("value"),this.set("isReadOnly",!1),this.set("errorText",null),this.set("infoText",null),this.labelView=this._createLabelView(n),this.inputView=this._createInputView(t,n,o),this.statusView=this._createStatusView(o),this.bind("_statusText").to(this,"errorText",this,"infoText",(e,t)=>e||t);const i=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input",i.if("isReadOnly","ck-disabled")]},children:[this.labelView,this.inputView,this.statusView]})}_createLabelView(e){const t=new xl(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createInputView(e,t,n){const o=new e(this.locale,n);return o.id=t,o.ariaDescribedById=n,o.bind("value").to(this),o.bind("isReadOnly").to(this),o.bind("hasError").to(this,"errorText",e=>!!e),o.on("input",()=>{this.errorText=null}),o}_createStatusView(e){const t=new _l(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input__status",n.if("errorText","ck-labeled-input__status_error"),n.if("_statusText","ck-hidden",e=>!e)],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}select(){this.inputView.select()}focus(){this.inputView.focus()}}n(63);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rh extends _l{constructor(e){super(e),this.set("value"),this.set("id"),this.set("placeholder"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById");const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to("input")}})}render(){super.render();const e=e=>{this.element.value=e||0===e?e:""};e(this.value),this.on("change:value",(t,n,o)=>{e(o)})}select(){this.element.select()}focus(){this.element.focus()}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function sh({view:e}){e.listenTo(e.element,"submit",(t,n)=>{n.preventDefault(),e.fire("submit")},{useCapture:!0})}var ah='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',lh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';n(65);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class ch extends _l{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new Ga,this.keystrokes=new Ba,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),ah,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),lh,"ck-button-cancel","cancel"),this._focusables=new tl,this._focusCycler=new Rl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),sh({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}_createButton(e,t,n,o){const i=new jl(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),o&&i.delegate("execute").to(this,o),i}_createLabeledInputView(){const e=this.locale.t,t=new ih(this.locale,rh);return t.label=e("Text alternative"),t.inputView.placeholder=e("Text alternative"),t}}n(67);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */const uh=Sl("px"),dh=ui.document.body;class hh extends _l{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class"),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",e=>`ck-balloon-panel_${e}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",uh),left:t.to("left",uh)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=hh.defaultPositions,n=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast],limiter:dh,fitInViewport:!0},e),o=hh._getOptimalPosition(n),i=parseInt(o.left),r=parseInt(o.top),s=o.name;Object.assign(this,{top:r,left:i,position:s})}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=ph(e.target),n=e.limiter?ph(e.limiter):dh;this.listenTo(ui.document,"scroll",(o,i)=>{const r=i.target,s=t&&r.contains(t),a=n&&r.contains(n);!s&&!a&&t&&n||this.attachTo(e)},{useCapture:!0}),this.listenTo(ui.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(ui.document,"scroll"),this.stopListening(ui.window,"resize")}}function ph(e){return on(e)?e:ar(e)?e.commonAncestorContainer:"function"==typeof e?ph(e()):null}function fh(e,t){return e.top-t.height-hh.arrowVerticalOffset}function mh(e){return e.bottom+hh.arrowVerticalOffset}hh.arrowHorizontalOffset=25,hh.arrowVerticalOffset=10,hh._getOptimalPosition=zl,hh.defaultPositions={northArrowSouth:(e,t)=>({top:fh(e,t),left:e.left+e.width/2-t.width/2,name:"arrow_s"}),northArrowSouthEast:(e,t)=>({top:fh(e,t),left:e.left+e.width/2-t.width+hh.arrowHorizontalOffset,name:"arrow_se"}),northArrowSouthWest:(e,t)=>({top:fh(e,t),left:e.left+e.width/2-hh.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouth:(e,t)=>({top:fh(e,t),left:e.left-t.width/2,name:"arrow_s"}),northWestArrowSouthWest:(e,t)=>({top:fh(e,t),left:e.left-hh.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouthEast:(e,t)=>({top:fh(e,t),left:e.left-t.width+hh.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouth:(e,t)=>({top:fh(e,t),left:e.right-t.width/2,name:"arrow_s"}),northEastArrowSouthEast:(e,t)=>({top:fh(e,t),left:e.right-t.width+hh.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouthWest:(e,t)=>({top:fh(e,t),left:e.right-hh.arrowHorizontalOffset,name:"arrow_sw"}),southArrowNorth:(e,t)=>({top:mh(e),left:e.left+e.width/2-t.width/2,name:"arrow_n"}),southArrowNorthEast:(e,t)=>({top:mh(e),left:e.left+e.width/2-t.width+hh.arrowHorizontalOffset,name:"arrow_ne"}),southArrowNorthWest:(e,t)=>({top:mh(e),left:e.left+e.width/2-hh.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorth:(e,t)=>({top:mh(e),left:e.left-t.width/2,name:"arrow_n"}),southWestArrowNorthWest:(e,t)=>({top:mh(e),left:e.left-hh.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorthEast:(e,t)=>({top:mh(e),left:e.left-t.width+hh.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorth:(e,t)=>({top:mh(e),left:e.right-t.width/2,name:"arrow_n"}),southEastArrowNorthEast:(e,t)=>({top:mh(e),left:e.right-t.width+hh.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorthWest:(e,t)=>({top:mh(e),left:e.right-hh.arrowHorizontalOffset,name:"arrow_nw"})};n(69),n(71);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const gh=Sl("px");class bh extends ic{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this.positionLimiter=()=>{const e=this.editor.editing.view,t=e.document.selection.editableElement;return t?e.domConverter.mapViewToDom(t.root):null},this.set("visibleView",null),this.view=new hh(e.locale),e.ui.view.body.add(this.view),e.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this.hasView(e.view))throw new an.b("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));const n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new an.b("contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(1===t.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),1===t.size?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new an.b("contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(t=>t[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new wh(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(e,t)=>!t&&e>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(e,n)=>{if(n<2)return"";const o=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[o,n])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new kh(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(e,t)=>!t&&e>=2?Math.min(e-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:n=!0,singleViewMode:o=!1}){this.view.class=t,this.view.withArrow=n,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),o&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&!e.limiter&&(e=Object.assign({},e,{limiter:this.positionLimiter})),e}}class wh extends _l{constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Ga,this.buttonPrevView=this._createButtonView(t("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z" /></svg>\n'),this.buttonNextView=this._createButtonView(t("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>\n'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",e=>e?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new jl(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}class kh extends _l{constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",e=>e?"":"ck-hidden")],style:{top:n.to("top",gh),left:n.to("left",gh),width:n.to("width",gh),height:n.to("height",gh)}},children:this.content}),this.on("change:numberOfPanels",(e,t,n,o)=>{n>o?this._addPanels(n-o):this._removePanels(o-n),this.updatePosition()})}_addPanels(e){for(;e--;){const e=new _l;e.setTemplate({tag:"div"}),this.content.add(e),this.registerChild(e)}}_removePanels(e){for(;e--;){const e=this.content.last;this.content.remove(e),this.deregisterChild(e),e.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:n,height:o}=new ur(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:o})}}}function vh(e){const t=e.editing.view,n=hh.defaultPositions;return{target:t.domConverter.viewToDom(t.document.selection.getSelectedElement()),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _h extends ic{static get requires(){return[bh]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",n=>{const o=e.commands.get("imageTextAlternative"),i=new jl(n);return i.set({label:t("Change image text alternative"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',tooltip:!0}),i.bind("isEnabled").to(o,"isEnabled"),this.listenTo(i,"execute",()=>this._showForm()),i})}_createForm(){const e=this.editor,t=e.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new ch(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.inputView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(e,t)=>{this._hideForm(!0),t()}),this.listenTo(e.ui,"update",()=>{qd(t.selection)?this._isVisible&&
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function(e){const t=e.plugins.get("ContextualBalloon");if(qd(e.editing.view.document.selection)){const n=vh(e);t.updatePosition(n)}}(e):this._hideForm(!0)}),Kl({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;const e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._isInBalloon||this._balloon.add({view:this._form,position:vh(e)}),n.value=n.inputView.element.value=t.value||"",this._form.labeledInput.select()}_hideForm(e){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yh extends ic{static get requires(){return[oh,_h]}static get pluginName(){return"ImageTextAlternative"}}n(73);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class xh extends ic{static get requires(){return[bh]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",t=>{(function(e){const t=e.getSelectedElement();return!(!t||!Md(t))}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */)(e.editing.view.document.selection)&&t.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:n,getRelatedElement:o,balloonClassName:i="ck-toolbar-container"}){const r=this.editor,s=r.t,a=new Xl(r.locale);if(a.ariaLabel=t||s("Widget toolbar"),this._toolbarDefinitions.has(e))throw new an.b("widget-toolbar-duplicated: Toolbar with the given id was already added.",this,{toolbarId:e});a.fillFromConfig(n,r.ui.componentFactory),this._toolbarDefinitions.set(e,{view:a,getRelatedElement:o,balloonClassName:i})}_updateToolbarsVisibility(){let e=0,t=null,n=null;for(const o of this._toolbarDefinitions.values()){const i=o.getRelatedElement(this.editor.editing.view.document.selection);if(this.editor.ui.focusTracker.isFocused)if(i){const r=i.getAncestors().length;r>e&&(e=r,t=i,n=o)}else this._isToolbarInBalloon(o)&&this._hideToolbar(o);else this._isToolbarVisible(o)&&this._hideToolbar(o)}n&&this._showToolbar(n,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?Ch(this.editor,t):this._isToolbarInBalloon(e)||(this._balloon.add({view:e.view,position:Th(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const e of this._toolbarDefinitions.values())if(this._isToolbarVisible(e)){const t=e.getRelatedElement(this.editor.editing.view.document.selection);Ch(this.editor,t)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function Ch(e,t){const n=e.plugins.get("ContextualBalloon"),o=Th(e,t);n.updatePosition(o)}function Th(e,t){const n=e.editing.view,o=hh.defaultPositions;return{target:n.domConverter.mapViewToDom(t),positions:[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast]}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Eh extends _l{constructor(e){super(e),this.buttonView=new jl(e),this._fileInputView=new Sh(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class Sh extends _l{constructor(e){super(e),this.set("acceptedType"),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}var Ph='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>';
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ah(e){const t=e.map(e=>e.replace("+","\\+"));return new RegExp(`^image\\/(${t.join("|")})$`)}function Rh(e){return new Promise((t,n)=>{const o=e.getAttribute("src");fetch(o).then(e=>e.blob()).then(e=>{const i=function(e,t){return e.type?e.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}(e,o),r=function(e,t,n){try{return new File([e],t,{type:n})}catch(e){return null}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(e,`image.${i.replace("image/","")}`,i);r?t(r):n()}).catch(n)})}class Oh extends ic{init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageUpload",n=>{const o=new Eh(n),i=e.commands.get("imageUpload"),r=e.config.get("image.upload.types"),s=Ah(r);return o.set({acceptedType:r.map(e=>`image/${e}`).join(","),allowMultipleFiles:!0}),o.buttonView.set({label:t("Insert image"),icon:Ph,tooltip:!0}),o.buttonView.bind("isEnabled").to(i),o.on("done",(t,n)=>{const o=Array.from(n).filter(e=>s.test(e.type));o.length&&e.execute("imageUpload",{file:o})}),o})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Nh{constructor(){const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=e=>{this.loaded=e.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((n,o)=>{t.onload=()=>{const e=t.result;this._data=e,n(e)},t.onerror=()=>{o("error")},t.onabort=()=>{o("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}_n(Nh,Qn);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Ih extends ic{static get pluginName(){return"FileRepository"}static get requires(){return[mu]}init(){this.loaders=new mo,this.loaders.on("add",()=>this._updatePendingAction()),this.loaders.on("remove",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return console.warn(Object(an.a)("filerepository-no-upload-adapter: Upload adapter is not defined.")),null;const t=new Mh(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(e=>{this._loadersMap.set(e,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let e=0;for(const t of this.loaders)e+=t.uploaded;this.uploaded=e}),t.on("change:uploadTotal",()=>{let e=0;for(const t of this.loaders)t.uploadTotal&&(e+=t.uploadTotal);this.uploadTotal=e}),t}destroyLoader(e){const t=e instanceof Mh?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((e,n)=>{e===t&&this._loadersMap.delete(n)})}_updatePendingAction(){const e=this.editor.plugins.get(mu);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,n=e=>`${t("Upload in progress")} ${parseInt(e)}%.`;this._pendingAction=e.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else e.remove(this._pendingAction),this._pendingAction=null}}_n(Ih,Qn);class Mh{constructor(e,t){this.id=un(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new Nh,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new an.b("filerepository-read-wrong-status: You cannot call read if the status is different than idle.",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if("reading"!==this.status)throw this.status;return this.status="idle",e}).catch(e=>{if("aborted"===e)throw this.status="aborted","aborted";throw this.status="error",this._reader.error?this._reader.error:e})}upload(){if("idle"!=this.status)throw new an.b("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{if("aborted"===this.status)throw"aborted";throw this.status="error",e})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==e?this._reader.abort():"uploading"==e&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((n,o)=>{t.rejecter=o,t.isFulfilled=!1,e.then(e=>{t.isFulfilled=!0,n(e)}).catch(e=>{t.isFulfilled=!0,o(e)})}),t}}_n(Mh,Qn);n(75),n(77),n(79);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class zh extends ic{constructor(e){super(e),this.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>')}init(){this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",(...e)=>this.uploadStatusChange(...e))}uploadStatusChange(e,t,n){const o=this.editor,i=t.item,r=i.getAttribute("uploadId");if(!n.consumable.consume(t.item,e.name))return;const s=o.plugins.get(Ih),a=r?t.attributeNewValue:null,l=this.placeholder,c=o.editing.mapper.toViewElement(i),u=n.writer;if("reading"==a)return Dh(c,u),void Vh(l,c,u);if("uploading"==a){const e=s.loaders.get(r);return Dh(c,u),void(e?(Bh(c,u),function(e,t,n,o){const i=function(e){const t=e.createUIElement("div",{class:"ck-progress-bar"});return e.setCustomProperty("progressBar",!0,t),t}(t);t.insert(t.createPositionAt(e,"end"),i),n.on("change:uploadedPercent",(e,t,n)=>{o.change(e=>{e.setStyle("width",n+"%",i)})})}(c,u,e,o.editing.view),function(e,t,n){if(n.data){const o=e.getChild(0);t.setAttribute("src",n.data,o)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(c,u,e)):Vh(l,c,u))}"complete"==a&&s.loaders.get(r)&&!xo.isEdge&&function(e,t,n){const o=t.createUIElement("div",{class:"ck-image-upload-complete-icon"});t.insert(t.createPositionAt(e,"end"),o),setTimeout(()=>{n.change(e=>e.remove(e.createRangeOn(o)))},3e3)}(c,u,o.editing.view),function(e,t){Lh(e,t,"progressBar")}(c,u),Bh(c,u),function(e,t){t.removeClass("ck-appear",e)}(c,u)}}function Dh(e,t){e.hasClass("ck-appear")||t.addClass("ck-appear",e)}function Vh(e,t,n){t.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",t);const o=t.getChild(0);o.getAttribute("src")!==e&&n.setAttribute("src",e,o),Fh(t,"placeholder")||n.insert(n.createPositionAfter(o),function(e){const t=e.createUIElement("div",{class:"ck-upload-placeholder-loader"});return e.setCustomProperty("placeholder",!0,t),t}(n))}function Bh(e,t){e.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",e),Lh(e,t,"placeholder")}function Fh(e,t){for(const n of e.getChildren())if(n.getCustomProperty(t))return n}function Lh(e,t,n){const o=Fh(e,n);o&&t.remove(t.createRangeOn(o))}class jh extends ic{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=`show:${e.type}`+(e.namespace?`:${e.namespace}`:"");this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hh{createDocumentFragment(e){return new Mo(e)}createElement(e,t,n){return new On(e,t,n)}createText(e){return new Tn(e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const n=e.parent;if(n){const o=n.getChildIndex(e);return this.removeChildren(o,1,n),this.insertChild(o,t,n),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}rename(e,t){const n=new On(e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){y(e)&&void 0===n&&(n=t),n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return lo._createAt(e,t)}createPositionAfter(e){return lo._createAfter(e)}createPositionBefore(e){return lo._createBefore(e)}createRange(e,t){return new co(e,t)}createRangeOn(e){return co._createOn(e)}createRangeIn(e){return co._createIn(e)}createSelection(e,t,n){return new po(e,t,n)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wh extends cc{refresh(){this.isEnabled=Kd(this.editor.model)}execute(e){const t=this.editor,n=t.model,o=t.plugins.get(Ih);n.change(t=>{const i=Array.isArray(e.file)?e.file:[e.file];for(const e of i)Uh(t,n,o,e)})}}function Uh(e,t,n,o){const i=n.createLoader(o);i&&Gd(e,t,{uploadId:i.id})}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qh extends ic{static get requires(){return[Ih,jh,lc]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}})}init(){const e=this.editor,t=e.model.document,n=e.model.schema,o=e.conversion,i=e.plugins.get(Ih),r=Ah(e.config.get("image.upload.types"));n.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),e.commands.add("imageUpload",new Wh(e)),o.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(t,n)=>{if(o=n.dataTransfer,Array.from(o.types).includes("text/html")&&""!==o.getData("text/html"))return;var o;const i=Array.from(n.dataTransfer.files).filter(e=>!!e&&r.test(e.type)),s=n.targetRanges.map(t=>e.editing.mapper.toModelRange(t));e.model.change(n=>{n.setSelection(s),i.length&&(t.stop(),e.model.enqueueChange("default",()=>{e.execute("imageUpload",{file:i})}))})}),this.listenTo(e.plugins.get(lc),"inputTransformation",(t,n)=>{const o=Array.from(e.editing.view.createRangeIn(n.content)).filter(e=>{return!(!(t=e.item).is("element","img")||!t.getAttribute("src"))&&(t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||t.getAttribute("src").match(/^blob:/g))&&!e.item.getAttribute("uploadProcessed");var t}).map(e=>({promise:Rh(e.item),imageElement:e.item}));if(!o.length)return;const r=new Hh;for(const e of o){r.setAttribute("uploadProcessed",!0,e.imageElement);const t=i.createLoader(e.promise);t&&(r.setAttribute("src","",e.imageElement),r.setAttribute("uploadId",t.id,e.imageElement))}}),e.editing.view.document.on("dragover",(e,t)=>{t.preventDefault()}),t.on("change",()=>{const n=t.differ.getChanges({includeChangesInGraveyard:!0});for(const t of n)if("insert"==t.type&&"$text"!=t.name){const n=t.position.nodeAfter,o="$graveyard"==t.position.root.rootName;for(const t of $h(e,n)){const e=t.getAttribute("uploadId");if(!e)continue;const n=i.loaders.get(e);n&&(o?n.abort():"idle"==n.status&&this._readAndUpload(n,t))}}})}_readAndUpload(e,t){const n=this.editor,o=n.model,i=n.locale.t,r=n.plugins.get(Ih),s=n.plugins.get(jh);return o.enqueueChange("transparent",e=>{e.setAttribute("uploadStatus","reading",t)}),e.read().then(()=>{const i=e.upload();if(xo.isSafari){const e=n.editing.mapper.toViewElement(t).getChild(0);n.editing.view.once("render",()=>{if(!e.parent)return;const t=n.editing.view.domConverter.mapViewToDom(e.parent);if(!t)return;const o=t.style.display;t.style.display="none",t._ckHack=t.offsetHeight,t.style.display=o})}return o.enqueueChange("transparent",e=>{e.setAttribute("uploadStatus","uploading",t)}),i}).then(e=>{o.enqueueChange("transparent",n=>{n.setAttributes({uploadStatus:"complete",src:e.default},t),this._parseAndSetSrcsetAttributeOnImage(e,t,n)}),a()}).catch(n=>{if("error"!==e.status&&"aborted"!==e.status)throw n;"error"==e.status&&n&&s.showWarning(n,{title:i("Upload failed"),namespace:"upload"}),a(),o.enqueueChange("transparent",e=>{e.remove(t)})});function a(){o.enqueueChange("transparent",e=>{e.removeAttribute("uploadId",t),e.removeAttribute("uploadStatus",t)}),r.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,n){let o=0;const i=Object.keys(e).filter(e=>{const t=parseInt(e,10);if(!isNaN(t))return o=Math.max(o,t),!0}).map(t=>`${e[t]} ${t}w`).join(", ");""!=i&&n.setAttribute("srcset",{data:i,width:o},t)}}function $h(e,t){return Array.from(e.model.createRangeOn(t)).filter(e=>e.item.is("image")).map(e=>e.item)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Gh extends cc{constructor(e){super(e),this._childCommands=[]}refresh(){}execute(...e){this._getFirstEnabledCommand().execute(e)}registerChildCommand(e){this._childCommands.push(e),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){return this._childCommands.find(e=>e.isEnabled)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Kh extends ic{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new Gh(e)),e.commands.add("outdent",new Gh(e))}}var Jh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5z"/><path d="M1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>\n',Yh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5z"/><path d="M4.368 6.95L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>\n';
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Qh extends ic{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,n=e.t,o="ltr"==t.uiLanguageDirection?Jh:Yh,i="ltr"==t.uiLanguageDirection?Yh:Jh;this._defineButton("indent",n("Increase indent"),o),this._defineButton("outdent",n("Decrease indent"),i)}_defineButton(e,t,n){const o=this.editor;o.ui.componentFactory.add(e,i=>{const r=o.commands.get(e),s=new jl(i);return s.set({label:t,icon:n,tooltip:!0}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),this.listenTo(s,"execute",()=>o.execute(e)),s})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Xh extends cc{constructor(e,t){super(e),this._indentBehavior=t}refresh(){const e=this.editor.model,t=ru(e.document.selection.getSelectedBlocks());t&&e.schema.checkAttribute(t,"blockIndent")?this.isEnabled=this._indentBehavior.checkEnabled(t.getAttribute("blockIndent")):this.isEnabled=!1}execute(){const e=this.editor.model,t=function(e){const t=e.document.selection,n=e.schema;return Array.from(t.getSelectedBlocks()).filter(e=>n.checkAttribute(e,"blockIndent"))}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(e);e.change(e=>{for(const n of t){const t=n.getAttribute("blockIndent"),o=this._indentBehavior.getNextIndent(t);o?e.setAttribute("blockIndent",o,n):e.removeAttribute("blockIndent",n)}})}}class Zh{constructor(e){this.isForward="forward"===e.direction,this.offset=e.offset,this.unit=e.unit}checkEnabled(e){const t=parseFloat(e||0);return this.isForward||t>0}getNextIndent(e){const t=parseFloat(e||0);if(!(!e||e.endsWith(this.unit)))return this.isForward?this.offset+this.unit:void 0;const n=t+(this.isForward?this.offset:-this.offset);return n>0?n+this.unit:void 0}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ep{constructor(e){this.isForward="forward"===e.direction,this.classes=e.classes}checkEnabled(e){const t=this.classes.indexOf(e);return this.isForward?t<this.classes.length-1:t>=0}getNextIndent(e){const t=this.classes.indexOf(e),n=this.isForward?1:-1;return this.classes[t+n]}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function tp(e,t,n){return n.createRange(np(e,t,!0,n),np(e,t,!1,n))}function np(e,t,n,o){let i=e.textNode||(n?e.nodeBefore:e.nodeAfter),r=null;for(;i&&i.getAttribute("linkHref")==t;)r=i,i=n?i.previousSibling:i.nextSibling;return r?o.createPositionAt(r,n?"before":"after"):e}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class op extends cc{constructor(e){super(e),this.manualDecorators=new mo}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document;this.value=t.selection.getAttribute("linkHref");for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id);this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"linkHref")}execute(e,t={}){const n=this.editor.model,o=n.document.selection,i=[],r=[];for(const e in t)t[e]?i.push(e):r.push(e);n.change(t=>{if(o.isCollapsed){const s=o.getFirstPosition();if(o.hasAttribute("linkHref")){const a=tp(s,o.getAttribute("linkHref"),n);t.setAttribute("linkHref",e,a),i.forEach(e=>{t.setAttribute(e,!0,a)}),r.forEach(e=>{t.removeAttribute(e,a)}),t.setSelection(a)}else if(""!==e){const r=Cr(o.getAttributes());r.set("linkHref",e),i.forEach(e=>{r.set(e,!0)});const a=t.createText(e,r);n.insertContent(a,s),t.setSelection(t.createRangeOn(a))}}else{const s=n.schema.getValidRanges(o.getRanges(),"linkHref");for(const n of s)t.setAttribute("linkHref",e,n),i.forEach(e=>{t.setAttribute(e,!0,n)}),r.forEach(e=>{t.removeAttribute(e,n)})}})}_getDecoratorStateFromModel(e){return this.editor.model.document.selection.getAttribute(e)||!1}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ip extends cc{refresh(){this.isEnabled=this.editor.model.document.selection.hasAttribute("linkHref")}execute(){const e=this.editor,t=this.editor.model,n=t.document.selection,o=e.commands.get("link");t.change(e=>{const i=n.isCollapsed?[tp(n.getFirstPosition(),n.getAttribute("linkHref"),t)]:n.getRanges();for(const t of i)if(e.removeAttribute("linkHref",t),o)for(const n of o.manualDecorators)e.removeAttribute(n.id,t)})}}var rp=function(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var r=Array(i);++o<i;)r[o]=e[o+t];return r};var sp=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:rp(e,t,n)},ap=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var lp=function(e){return ap.test(e)};var cp=function(e){return e.split("")},up="[\\ud800-\\udfff]",dp="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",hp="\\ud83c[\\udffb-\\udfff]",pp="[^\\ud800-\\udfff]",fp="(?:\\ud83c[\\udde6-\\uddff]){2}",mp="[\\ud800-\\udbff][\\udc00-\\udfff]",gp="(?:"+dp+"|"+hp+")"+"?",bp="[\\ufe0e\\ufe0f]?"+gp+("(?:\\u200d(?:"+[pp,fp,mp].join("|")+")[\\ufe0e\\ufe0f]?"+gp+")*"),wp="(?:"+[pp+dp+"?",dp,fp,mp,up].join("|")+")",kp=RegExp(hp+"(?="+hp+")|"+wp+bp,"g");var vp=function(e){return e.match(kp)||[]};var _p=function(e){return lp(e)?vp(e):cp(e)};var yp=function(e,t){for(var n=-1,o=null==e?0:e.length,i=Array(o);++n<o;)i[n]=t(e[n],n,e);return i},xp=i?i.prototype:void 0,Cp=xp?xp.toString:void 0;var Tp=function e(t){if("string"==typeof t)return t;if(De(t))return yp(t,e)+"";if($i(t))return Cp?Cp.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};var Ep=function(e){return null==e?"":Tp(e)};var Sp=function(e){return function(t){t=Ep(t);var n=lp(t)?_p(t):void 0,o=n?n[0]:t.charAt(0),i=n?sp(n,1).join(""):t.slice(1);return o[e]()+i}}("toUpperCase");
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const Pp=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Ap=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function Rp(e,t){const n=t.createAttributeElement("a",{href:e},{priority:5});return t.setCustomProperty("link",!0,n),n}function Op(e){return function(e){return e.replace(Pp,"").match(Ap)}(e=String(e))?e:"#"}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
class Np{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(e=>this._definitions.add(e)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(e,t,n)=>{if(!n.consumable.test(t.item,"attribute:linkHref"))return;const o=n.writer,i=o.document.selection;for(const e of this._definitions){const r=o.createAttributeElement("a",e.attributes,{priority:5});o.setCustomProperty("link",!0,r),e.callback(t.attributeNewValue)?t.item.is("selection")?o.wrap(i.getFirstRange(),r):o.wrap(n.mapper.toViewRange(t.range),r):o.unwrap(n.mapper.toViewRange(t.range),r)}},{priority:"high"})}}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ip{constructor({id:e,label:t,attributes:n}){this.id=e,this.set("value"),this.label=t,this.attributes=n}}_n(Ip,Qn);class Mp{constructor(e,t,n){this.model=e,this.attribute=n,this._modelSelection=e.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,t.listenTo(this._modelSelection,"change:range",(e,t)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!t.directChange&&zp(this._modelSelection.getFirstPosition(),n)||this._restoreGravity())})}handleForwardMovement(e,t){const n=this.attribute;if(!(this._isGravityOverridden||e.isAtStart&&this._hasSelectionAttribute))return Bp(e,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._removeSelectionAttribute(),!0):Dp(e,n)?(this._preventCaretMovement(t),this._overrideGravity(),!0):Vp(e,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._overrideGravity(),!0):void 0}handleBackwardMovement(e,t){const n=this.attribute;return this._isGravityOverridden?Bp(e,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(t),this._restoreGravity(),e.isAtStart&&this._removeSelectionAttribute(),!0):Bp(e,n)&&!this._hasSelectionAttribute?(this._preventCaretMovement(t),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtEnd&&Vp(e,n)?this._hasSelectionAttribute?void(Fp(e,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(t),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(t),!0):void 0:void(Fp(e,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()))}get _isGravityOverridden(){return!!this._overrideUid}get _hasSelectionAttribute(){return this._modelSelection.hasAttribute(this.attribute)}_overrideGravity(){this._overrideUid=this.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}_preventCaretMovement(e){e.preventDefault()}_removeSelectionAttribute(){this.model.change(e=>{e.removeSelectionAttribute(this.attribute)})}_setSelectionAttributeFromTheNodeBefore(e){const t=this.attribute;this.model.change(n=>{n.setSelectionAttribute(this.attribute,e.nodeBefore.getAttribute(t))})}_skipNextAutomaticGravityRestoration(){this._isNextGravityRestorationSkipped=!0}}function zp(e,t){return Dp(e,t)||Vp(e,t)}function Dp(e,t){const{nodeBefore:n,nodeAfter:o}=e,i=!!n&&n.hasAttribute(t);return!!o&&o.hasAttribute(t)&&(!i||n.getAttribute(t)!==o.getAttribute(t))}function Vp(e,t){const{nodeBefore:n,nodeAfter:o}=e,i=!!n&&n.hasAttribute(t),r=!!o&&o.hasAttribute(t);return i&&(!r||n.getAttribute(t)!==o.getAttribute(t))}function Bp(e,t){const{nodeBefore:n,nodeAfter:o}=e,i=!!n&&n.hasAttribute(t);if(!!o&&o.hasAttribute(t)&&i)return o.getAttribute(t)!==n.getAttribute(t)}function Fp(e,t){return zp(e.getShiftedBy(-1),t)}n(81);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Lp=/^(https?:)?\/\//;class jp extends ic{static get pluginName(){return"LinkEditing"}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor,t=e.locale;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Rp}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(e,t)=>Rp(Op(e),t)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:e=>e.getAttribute("href")}}),e.commands.add("link",new op(e)),e.commands.add("unlink",new ip(e));const n=function(e,t){const n={"Open in a new tab":e("Open in a new tab"),Downloadable:e("Downloadable")};return t.forEach(e=>(e.label&&n[e.label]&&(e.label=n[e.label]),e)),t}(e.t,function(e){const t=[];if(e)for(const[n,o]of Object.entries(e)){const e=Object.assign({},o,{id:`link${Sp(n)}`});t.push(e)}return t}(e.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter(e=>"automatic"===e.mode)),this._enableManualDecorators(n.filter(e=>"manual"===e.mode)),
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function({view:e,model:t,emitter:n,attribute:o,locale:i}){const r=new Mp(t,n,o),s=t.document.selection;n.listenTo(e.document,"keydown",(e,t)=>{if(!s.isCollapsed)return;if(t.shiftKey||t.altKey||t.ctrlKey)return;const n=t.keyCode==Eo.arrowright,o=t.keyCode==Eo.arrowleft;if(!n&&!o)return;const a=s.getFirstPosition(),l=i.contentLanguageDirection;let c;c="ltr"===l&&n||"rtl"===l&&o?r.handleForwardMovement(a,t):r.handleBackwardMovement(a,t),c&&e.stop()},{priority:dn.get("high")+1})}({view:e.editing.view,model:e.model,emitter:this,attribute:"linkHref",locale:t}),this._setupLinkHighlight()}_enableAutomaticDecorators(e){const t=this.editor,n=new Np;t.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:"automatic",callback:e=>Lp.test(e),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(e),n.length&&t.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,n=t.commands.get("link").manualDecorators;e.forEach(e=>{t.model.schema.extend("$text",{allowAttributes:e.id}),n.add(new Ip(e)),t.conversion.for("downcast").attributeToElement({model:e.id,view:(t,o)=>{if(t){const t=n.get(e.id).attributes,i=o.createAttributeElement("a",t,{priority:5});return o.setCustomProperty("link",!0,i),i}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:n.get(e.id).attributes},model:{key:e.id}})})}_setupLinkHighlight(){const e=this.editor,t=e.editing.view,n=new Set;t.document.registerPostFixer(t=>{const o=e.model.document.selection;let i=!1;if(o.hasAttribute("linkHref")){const r=tp(o.getFirstPosition(),o.getAttribute("linkHref"),e.model),s=e.editing.mapper.toViewRange(r);for(const e of s.getItems())e.is("a")&&!e.hasClass("ck-link_selected")&&(t.addClass("ck-link_selected",e),n.add(e),i=!0)}return i}),e.conversion.for("editingDowncast").add(e=>{function o(){t.change(e=>{for(const t of n.values())e.removeClass("ck-link_selected",t),n.delete(t)})}e.on("insert",o,{priority:"highest"}),e.on("remove",o,{priority:"highest"}),e.on("attribute",o,{priority:"highest"}),e.on("selection",o,{priority:"highest"})})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hp extends Wi{constructor(e){super(e),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}n(83);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wp extends _l{constructor(e,t=[]){super(e);const n=e.t;this.focusTracker=new Ga,this.keystrokes=new Ba,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),ah,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),lh,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t),this._focusables=new tl,this._focusCycler=new Rl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const o=["ck","ck-link-form"];t.length&&o.push("ck-link-form_layout-vertical"),this.setTemplate({tag:"form",attributes:{class:o,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),sh({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new ih(this.locale,rh);return t.label=e("Link URL"),t.inputView.placeholder="https://example.com",t}_createButton(e,t,n,o){const i=new jl(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),o&&i.delegate("execute").to(this,o),i}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e){const e=new Gl(this.locale);e.set({name:n.id,label:n.label,withText:!0}),e.bind("isOn").to(n,"value"),e.on("execute",()=>{n.set("value",!e.isOn)}),t.add(e)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const e=new _l;e.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(e=>({tag:"li",children:[e],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(e)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}n(85);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Up extends _l{constructor(e){super(e);const t=e.t;this.focusTracker=new Ga,this.keystrokes=new Ba,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(t("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(t("Edit link"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>',"edit"),this.set("href"),this._focusables=new tl,this._focusCycler=new Rl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const o=new jl(this.locale);return o.set({label:e,icon:t,tooltip:!0}),o.delegate("execute").to(this,n),o}_createPreviewButton(){const e=new jl(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",e=>e&&Op(e)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",e=>e||n("This link has no URL")),e.bind("isEnabled").to(this,"href",e=>!!e),e.template.tag="a",e.template.eventListeners={},e}}class qp extends ic{static get requires(){return[bh]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(Hp),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=e.plugins.get(bh),this._createToolbarLinkButton(),this._enableUserBalloonInteractions()}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const e=this.editor,t=new Up(e.locale),n=e.commands.get("link"),o=e.commands.get("unlink");return t.bind("href").to(n,"value"),t.editButtonView.bind("isEnabled").to(n),t.unlinkButtonView.bind("isEnabled").to(o),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(e,t)=>{this._hideUI(),t()}),t.keystrokes.set("Ctrl+K",(e,t)=>{this._addFormView(),t()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),n=new Wp(e.locale,t.manualDecorators);return n.urlInputView.bind("value").to(t,"value"),n.urlInputView.bind("isReadOnly").to(t,"isEnabled",e=>!e),n.saveButtonView.bind("isEnabled").to(t),this.listenTo(n,"submit",()=>{e.execute("link",n.urlInputView.inputView.element.value,n.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(n,"cancel",()=>{this._closeFormView()}),n.keystrokes.set("Esc",(e,t)=>{this._closeFormView(),t()}),n}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link"),n=e.t;e.keystrokes.set("Ctrl+K",(e,n)=>{n(),t.isEnabled&&this._showUI(!0)}),e.ui.componentFactory.add("link",e=>{const o=new jl(e);return o.isEnabled=!0,o.label=n("Link"),o.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',o.keystroke="Ctrl+K",o.tooltip=!0,o.isToggleable=!0,o.bind("isEnabled").to(t,"isEnabled"),o.bind("isOn").to(t,"value",e=>!!e),this.listenTo(o,"execute",()=>this._showUI(!0)),o})}_enableUserBalloonInteractions(){const e=this.editor.editing.view.document;this.listenTo(e,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),Kl({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const e=this.editor.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.select(),this.formView.urlInputView.inputView.element.value=e.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),void 0!==e.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus())}_showUI(e=!1){this.editor.commands.get("link").isEnabled&&(this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI())}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView)}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let n=this._getSelectedLinkElement(),o=r();const i=()=>{const e=this._getSelectedLinkElement(),t=r();n&&!e||!n&&t!==o?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=e,o=t};function r(){return t.selection.focus.getAncestors().reverse().find(e=>e.is("element"))}this.listenTo(e.ui,"update",i),this.listenTo(this._balloon,"change:visibleView",i)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=e.document,n=this._getSelectedLinkElement();return{target:n?e.domConverter.mapViewToDom(n):e.domConverter.viewRangeToDom(t.selection.getFirstRange())}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection;if(t.isCollapsed)return $p(t.getFirstPosition());{const n=t.getFirstRange().getTrimmed(),o=$p(n.start),i=$p(n.end);return o&&o==i&&e.createRangeIn(o).getTrimmed().isEqual(n)?o:null}}}function $p(e){return e.getAncestors().find(e=>{return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t})}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Gp extends cc{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document,n=Array.from(t.selection.getSelectedBlocks()).filter(t=>Jp(t,e.schema)),o=!0===this.value;e.change(e=>{if(o){let t=n[n.length-1].nextSibling,o=Number.POSITIVE_INFINITY,i=[];for(;t&&"listItem"==t.name&&0!==t.getAttribute("listIndent");){const e=t.getAttribute("listIndent");e<o&&(o=e);const n=e-o;i.push({element:t,listIndent:n}),t=t.nextSibling}i=i.reverse();for(const t of i)e.setAttribute("listIndent",t.listIndent,t.element)}if(!o){let e=Number.POSITIVE_INFINITY;for(const t of n)t.is("listItem")&&t.getAttribute("listIndent")<e&&(e=t.getAttribute("listIndent"));e=0===e?1:e,Kp(n,!0,e),Kp(n,!1,e)}for(const t of n.reverse())o&&"listItem"==t.name?e.rename(t,"paragraph"):o||"listItem"==t.name?o||"listItem"!=t.name||t.getAttribute("listType")==this.type||e.setAttribute("listType",this.type,t):(e.setAttributes({listType:this.type,listIndent:0},t),e.rename(t,"listItem"))})}_getValue(){const e=ru(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=ru(e.getSelectedBlocks());return!!n&&Jp(n,t)}}function Kp(e,t,n){const o=t?e[0]:e[e.length-1];if(o.is("listItem")){let i=o[t?"previousSibling":"nextSibling"],r=o.getAttribute("listIndent");for(;i&&i.is("listItem")&&i.getAttribute("listIndent")>=n;)r>i.getAttribute("listIndent")&&(r=i.getAttribute("listIndent")),i.getAttribute("listIndent")==r&&e[t?"unshift":"push"](i),i=i[t?"previousSibling":"nextSibling"]}}function Jp(e,t){return t.checkChild(e.parent,"listItem")&&!t.isObject(e)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Yp extends cc{constructor(e,t){super(e),this._indentBy="forward"==t?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document;let n=Array.from(t.selection.getSelectedBlocks());e.change(e=>{const t=n[n.length-1];let o=t.nextSibling;for(;o&&"listItem"==o.name&&o.getAttribute("listIndent")>t.getAttribute("listIndent");)n.push(o),o=o.nextSibling;this._indentBy<0&&(n=n.reverse());for(const t of n){const n=t.getAttribute("listIndent")+this._indentBy;n<0?e.rename(t,"paragraph"):e.setAttribute("listIndent",n,t)}})}_checkEnabled(){const e=ru(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("listItem"))return!1;if(this._indentBy>0){const t=e.getAttribute("listIndent"),n=e.getAttribute("listType");let o=e.previousSibling;for(;o&&o.is("listItem")&&o.getAttribute("listIndent")>=t;){if(o.getAttribute("listIndent")==t)return o.getAttribute("listType")==n;o=o.previousSibling}return!1}return!0}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Qp(e,t){const n=t.mapper,o=t.writer,i="numbered"==e.getAttribute("listType")?"ol":"ul",r=function(e){const t=e.createContainerElement("li");return t.getFillerOffset=of,t}(o),s=o.createContainerElement(i,null);return o.insert(o.createPositionAt(s,0),r),n.bindElements(e,r),r}function Xp(e,t,n,o){const i=t.parent,r=n.mapper,s=n.writer;let a=r.toViewPosition(o.createPositionBefore(e));const l=tf(e.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:e.getAttribute("listIndent")}),c=e.previousSibling;if(l&&l.getAttribute("listIndent")==e.getAttribute("listIndent")){const e=r.toViewElement(l);a=s.breakContainer(s.createPositionAfter(e))}else a=c&&"listItem"==c.name?r.toViewPosition(o.createPositionAt(c,"end")):r.toViewPosition(o.createPositionBefore(e));if(a=ef(a),s.insert(a,i),c&&"listItem"==c.name){const e=r.toViewElement(c),n=s.createRange(s.createPositionAt(e,0),a).getWalker({ignoreElementEnd:!0});for(const e of n)if(e.item.is("li")){const o=s.breakContainer(s.createPositionBefore(e.item)),i=e.item.parent,r=s.createPositionAt(t,"end");Zp(s,r.nodeBefore,r.nodeAfter),s.move(s.createRangeOn(i),r),n.position=o}}else{const n=i.nextSibling;if(n&&(n.is("ul")||n.is("ol"))){let o=null;for(const t of n.getChildren()){const n=r.toModelElement(t);if(!(n&&n.getAttribute("listIndent")>e.getAttribute("listIndent")))break;o=t}o&&(s.breakContainer(s.createPositionAfter(o)),s.move(s.createRangeOn(o.parent),s.createPositionAt(t,"end")))}}Zp(s,i,i.nextSibling),Zp(s,i.previousSibling,i)}function Zp(e,t,n){return!t||!n||"ul"!=t.name&&"ol"!=t.name?null:t.name!=n.name||t.getAttribute("class")!==n.getAttribute("class")?null:e.mergeContainers(e.createPositionAfter(t))}function ef(e){return e.getLastMatchingPosition(e=>e.item.is("uiElement"))}function tf(e,t){const n=!!t.sameIndent,o=!!t.smallerIndent,i=t.listIndent;let r=e;for(;r&&"listItem"==r.name;){const e=r.getAttribute("listIndent");if(n&&i==e||o&&i>e)return r;r=r.previousSibling}return null}function nf(e,t,n,o){e.ui.componentFactory.add(t,i=>{const r=e.commands.get(t),s=new jl(i);return s.set({label:n,icon:o,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),s.on("execute",()=>e.execute(t)),s})}function of(){const e=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||e?0:zn.call(this)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function rf(e){return(t,n,o)=>{const i=o.consumable;if(!i.test(n.item,"insert")||!i.test(n.item,"attribute:listType")||!i.test(n.item,"attribute:listIndent"))return;i.consume(n.item,"insert"),i.consume(n.item,"attribute:listType"),i.consume(n.item,"attribute:listIndent");const r=n.item;Xp(r,Qp(r,o),o,e)}}function sf(e,t,n){if(!n.consumable.consume(t.item,"attribute:listType"))return;const o=n.mapper.toViewElement(t.item),i=n.writer;i.breakContainer(i.createPositionBefore(o)),i.breakContainer(i.createPositionAfter(o));const r=o.parent,s="numbered"==t.attributeNewValue?"ol":"ul";i.rename(s,r)}function af(e,t,n){const o=n.mapper.toViewElement(t.item).parent,i=n.writer;Zp(i,o,o.nextSibling),Zp(i,o.previousSibling,o);for(const e of t.item.getChildren())n.consumable.consume(e,"insert")}function lf(e,t,n){if("listItem"!=t.item.name){let e=n.mapper.toViewPosition(t.range.start);const o=n.writer,i=[];for(;("ul"==e.parent.name||"ol"==e.parent.name)&&(e=o.breakContainer(e),"li"==e.parent.name);){const t=e,n=o.createPositionAt(e.parent,"end");if(!t.isEqual(n)){const e=o.remove(o.createRange(t,n));i.push(e)}e=o.createPositionAfter(e.parent)}if(i.length>0){for(let t=0;t<i.length;t++){const n=e.nodeBefore;if(e=o.insert(e,i[t]).end,t>0){const t=Zp(o,n,n.nextSibling);t&&t.parent==n&&e.offset--}}Zp(o,e.nodeBefore,e.nodeAfter)}}}function cf(e,t,n){const o=n.mapper.toViewPosition(t.position),i=o.nodeBefore,r=o.nodeAfter;Zp(n.writer,i,r)}function uf(e,t,n){if(n.consumable.consume(t.viewItem,{name:!0})){const e=n.writer,o=e.createElement("listItem"),i=function(e){let t=0,n=e.parent;for(;n;){if(n.is("li"))t++;else{const e=n.previousSibling;e&&e.is("li")&&t++}n=n.parent}return t}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(t.viewItem);e.setAttribute("listIndent",i,o);const r=t.viewItem.parent&&"ol"==t.viewItem.parent.name?"numbered":"bulleted";e.setAttribute("listType",r,o);const s=n.splitToAllowedParent(o,t.modelCursor);if(!s)return;e.insert(o,s.position);const a=function(e,t,n){const{writer:o,schema:i}=n;let r=o.createPositionAfter(e);for(const s of t)if("ul"==s.name||"ol"==s.name)r=n.convertItem(s,r).modelCursor;else{const t=n.convertItem(s,o.createPositionAt(e,"end")),a=t.modelRange.start.nodeAfter;a&&a.is("element")&&!i.checkChild(e,a.name)&&(e=t.modelCursor.parent.is("listItem")?t.modelCursor.parent:mf(t.modelCursor),r=o.createPositionAfter(e))}return r}(o,t.viewItem.getChildren(),n);t.modelRange=e.createRange(t.modelCursor,a),s.cursorParent?t.modelCursor=e.createPositionAt(s.cursorParent,0):t.modelCursor=t.modelRange.end}}function df(e,t,n){if(n.consumable.test(t.viewItem,{name:!0})){const e=Array.from(t.viewItem.getChildren());for(const t of e){!(t.is("li")||bf(t))&&t._remove()}}}function hf(e,t,n){if(n.consumable.test(t.viewItem,{name:!0})){if(0===t.viewItem.childCount)return;const e=[...t.viewItem.getChildren()];let n=!1,o=!0;for(const t of e)n&&!bf(t)&&t._remove(),t.is("text")?(o&&(t._data=t.data.replace(/^\s+/,"")),t.nextSibling&&!bf(t.nextSibling)||(t._data=t.data.replace(/\s+$/,""))):bf(t)&&(n=!0),o=!1}}function pf(e){return(t,n)=>{if(n.isPhantom)return;const o=n.modelPosition.nodeBefore;if(o&&o.is("listItem")){const t=n.mapper.toViewElement(o),i=t.getAncestors().find(bf),r=e.createPositionAt(t,0).getWalker();for(const e of r){if("elementStart"==e.type&&e.item.is("li")){n.viewPosition=e.previousPosition;break}if("elementEnd"==e.type&&e.item==i){n.viewPosition=e.nextPosition;break}}}}}function ff(e,[t,n]){let o,i=t.is("documentFragment")?t.getChild(0):t;if(o=n?this.createSelection(n):this.document.selection,i&&i.is("listItem")){const e=o.getFirstPosition();let t=null;if(e.parent.is("listItem")?t=e.parent:e.nodeBefore&&e.nodeBefore.is("listItem")&&(t=e.nodeBefore),t){const e=t.getAttribute("listIndent");if(e>0)for(;i&&i.is("listItem");)i._setAttribute("listIndent",i.getAttribute("listIndent")+e),i=i.nextSibling}}}function mf(e){const t=new Rr({startPosition:e});let n;do{n=t.next()}while(!n.value.item.is("listItem"));return n.value.item}function gf(e,t,n,o,i,r){const s=tf(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:e,foo:"b"}),a=i.mapper,l=i.writer,c=s?s.getAttribute("listIndent"):null;let u;if(s)if(c==e){const e=a.toViewElement(s).parent;u=l.createPositionAfter(e)}else{const e=r.createPositionAt(s,"end");u=a.toViewPosition(e)}else u=n;u=ef(u);for(const e of[...o.getChildren()])bf(e)&&(u=l.move(l.createRangeOn(e),u).end,Zp(l,e,e.nextSibling),Zp(l,e.previousSibling,e))}function bf(e){return e.is("ol")||e.is("ul")}class wf extends ic{static get pluginName(){return"ListEditing"}static get requires(){return[gd]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const t=e.data,n=e.editing;var o;e.model.document.registerPostFixer(t=>function(e,t){const n=e.document.differ.getChanges(),o=new Map;let i=!1;for(const o of n)if("insert"==o.type&&"listItem"==o.name)r(o.position);else if("insert"==o.type&&"listItem"!=o.name){if("$text"!=o.name){const n=o.position.nodeAfter;n.hasAttribute("listIndent")&&(t.removeAttribute("listIndent",n),i=!0),n.hasAttribute("listType")&&(t.removeAttribute("listType",n),i=!0);for(const t of Array.from(e.createRangeIn(n)).filter(e=>e.item.is("listItem")))r(t.previousPosition)}r(o.position.getShiftedBy(o.length))}else"remove"==o.type&&"listItem"==o.name?r(o.position):"attribute"==o.type&&"listIndent"==o.attributeKey?r(o.range.start):"attribute"==o.type&&"listType"==o.attributeKey&&r(o.range.start);for(const e of o.values())s(e),a(e);return i;function r(e){const t=e.nodeBefore;if(t&&t.is("listItem")){let n=t;if(o.has(n))return;for(;n.previousSibling&&n.previousSibling.is("listItem");)if(n=n.previousSibling,o.has(n))return;o.set(e.nodeBefore,n)}else{const t=e.nodeAfter;t&&t.is("listItem")&&o.set(t,t)}}function s(e){let n=0,o=null;for(;e&&e.is("listItem");){const r=e.getAttribute("listIndent");if(r>n){let s;null===o?(o=r-n,s=n):(o>r&&(o=r),s=r-o),t.setAttribute("listIndent",s,e),i=!0}else o=null,n=e.getAttribute("listIndent")+1;e=e.nextSibling}}function a(e){let n=[],o=null;for(;e&&e.is("listItem");){const r=e.getAttribute("listIndent");if(o&&o.getAttribute("listIndent")>r&&(n=n.slice(0,r+1)),0!=r)if(n[r]){const o=n[r];e.getAttribute("listType")!=o&&(t.setAttribute("listType",o,e),i=!0)}else n[r]=e.getAttribute("listType");o=e,e=e.nextSibling}}}(e.model,t)),n.mapper.registerViewToModelLength("li",kf),t.mapper.registerViewToModelLength("li",kf),n.mapper.on("modelToViewPosition",pf(n.view)),n.mapper.on("viewToModelPosition",(o=e.model,(e,t)=>{const n=t.viewPosition,i=n.parent,r=t.mapper;if("ul"==i.name||"ol"==i.name){if(n.isAtEnd){const e=r.toModelElement(n.nodeBefore),i=r.getModelLength(n.nodeBefore);t.modelPosition=o.createPositionBefore(e).getShiftedBy(i)}else{const e=r.toModelElement(n.nodeAfter);t.modelPosition=o.createPositionBefore(e)}e.stop()}else if("li"==i.name&&n.nodeBefore&&("ul"==n.nodeBefore.name||"ol"==n.nodeBefore.name)){const s=r.toModelElement(i);let a=1,l=n.nodeBefore;for(;l&&bf(l);)a+=r.getModelLength(l),l=l.previousSibling;t.modelPosition=o.createPositionBefore(s).getShiftedBy(a),e.stop()}})),t.mapper.on("modelToViewPosition",pf(n.view)),e.conversion.for("editingDowncast").add(t=>{t.on("insert",lf,{priority:"high"}),t.on("insert:listItem",rf(e.model)),t.on("attribute:listType:listItem",sf,{priority:"high"}),t.on("attribute:listType:listItem",af,{priority:"low"}),t.on("attribute:listIndent:listItem",function(e){return(t,n,o)=>{if(!o.consumable.consume(n.item,"attribute:listIndent"))return;const i=o.mapper.toViewElement(n.item),r=o.writer;r.breakContainer(r.createPositionBefore(i)),r.breakContainer(r.createPositionAfter(i));const s=i.parent,a=s.previousSibling,l=r.createRangeOn(s);r.remove(l),a&&a.nextSibling&&Zp(r,a,a.nextSibling),gf(n.attributeOldValue+1,n.range.start,l.start,i,o,e),Xp(n.item,i,o,e);for(const e of n.item.getChildren())o.consumable.consume(e,"insert")}}(e.model)),t.on("remove:listItem",function(e){return(t,n,o)=>{const i=o.mapper.toViewPosition(n.position).getLastMatchingPosition(e=>!e.item.is("li")).nodeAfter,r=o.writer;r.breakContainer(r.createPositionBefore(i)),r.breakContainer(r.createPositionAfter(i));const s=i.parent,a=s.previousSibling,l=r.createRangeOn(s),c=r.remove(l);a&&a.nextSibling&&Zp(r,a,a.nextSibling),gf(o.mapper.toModelElement(i).getAttribute("listIndent")+1,n.position,l.start,i,o,e);for(const e of r.createRangeIn(c).getItems())o.mapper.unbindViewElement(e);t.stop()}}(e.model)),t.on("remove",cf,{priority:"low"})}),e.conversion.for("dataDowncast").add(t=>{t.on("insert",lf,{priority:"high"}),t.on("insert:listItem",rf(e.model))}),e.conversion.for("upcast").add(e=>{e.on("element:ul",df,{priority:"high"}),e.on("element:ol",df,{priority:"high"}),e.on("element:li",hf,{priority:"high"}),e.on("element:li",uf)}),e.model.on("insertContent",ff,{priority:"high"}),e.commands.add("numberedList",new Gp(e,"numbered")),e.commands.add("bulletedList",new Gp(e,"bulleted")),e.commands.add("indentList",new Yp(e,"forward")),e.commands.add("outdentList",new Yp(e,"backward"));const i=n.view.document;this.listenTo(i,"enter",(e,t)=>{const n=this.editor.model.document,o=n.selection.getLastPosition().parent;n.selection.isCollapsed&&"listItem"==o.name&&o.isEmpty&&(this.editor.execute("outdentList"),t.preventDefault(),e.stop())}),this.listenTo(i,"delete",(e,t)=>{if("backward"!==t.direction)return;const n=this.editor.model.document.selection;if(!n.isCollapsed)return;const o=n.getFirstPosition();if(!o.isAtStart)return;const i=o.parent;"listItem"===i.name&&(i.previousSibling&&"listItem"===i.previousSibling.name||(this.editor.execute("outdentList"),t.preventDefault(),e.stop()))},{priority:"high"});const r=e=>(t,n)=>{this.editor.commands.get(e).isEnabled&&(this.editor.execute(e),n())};e.keystrokes.set("Tab",r("indentList")),e.keystrokes.set("Shift+Tab",r("outdentList"))}afterInit(){const e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),n&&n.registerChildCommand(e.get("outdentList"))}}function kf(e){let t=1;for(const n of e.getChildren())if("ul"==n.name||"ol"==n.name)for(const e of n.getChildren())t+=kf(e);return t}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class vf extends ic{init(){const e=this.editor.t;nf(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),nf(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class _f extends cc{refresh(){this.isEnabled=function(e){const t=e.schema,n=e.document.selection;return function(e,t,n){const o=function(e,t){const n=Bd(e,t).parent;if(n.isEmpty&&!n.is("$root"))return n.parent;return n}(e,n);return t.checkChild(o,"pageBreak")}(n,t,e)&&!function(e,t){const n=e.getSelectedElement();return n&&t.isObject(n)}(n,t)}(this.editor.model)}execute(){const e=this.editor.model;e.change(t=>{const n=t.createElement("pageBreak");e.insertContent(n);let o=n.nextSibling;!(o&&e.schema.checkChild(o,"$text"))&&e.schema.checkChild(n.parent,"paragraph")&&(o=t.createElement("paragraph"),t.insert(o,t.createPositionAfter(n))),o&&t.setSelection(o,0)})}}n(87);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yf extends ic{static get pluginName(){return"PageBreakEditing"}init(){const e=this.editor,t=e.model.schema,n=e.t,o=e.conversion;t.register("pageBreak",{isObject:!0,allowWhere:"$block"}),o.for("dataDowncast").elementToElement({model:"pageBreak",view:(e,t)=>{const n=t.createContainerElement("div",{class:"page-break",style:"page-break-after: always"}),o=t.createContainerElement("span",{style:"display: none"});return t.insert(t.createPositionAt(n,0),o),n}}),o.for("editingDowncast").elementToElement({model:"pageBreak",view:(e,t)=>{const o=n("Page break"),i=t.createContainerElement("div"),r=t.createContainerElement("span"),s=t.createText(n("Page break"));return t.addClass("page-break",i),t.setCustomProperty("pageBreak",!0,i),t.addClass("page-break__label",r),t.insert(t.createPositionAt(i,0),r),t.insert(t.createPositionAt(r,0),s),function(e,t,n){return t.setCustomProperty("pageBreak",!0,e),zd(e,t,{label:n})}(i,t,o)}}),o.for("upcast").elementToElement({view:e=>{if(!e.is("div")||"always"!=e.getStyle("page-break-after")||1!=e.childCount)return;const t=ru(e.getChildren());if(!t.is("span")||"none"!=t.getStyle("display")||1!=t.childCount)return;const n=ru(t.getChildren());return n.is("text")&&" "===n.data?{name:!0}:void 0},model:"pageBreak"}),e.commands.add("pageBreak",new _f(e))}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class xf extends ic{init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("pageBreak",n=>{const o=e.commands.get("pageBreak"),i=new jl(n);return i.set({label:t("Page break"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.598.6866h1.5v5h-1.5zm14.5 0h1.5v5h-1.5z"/><path d="M19.598 4.1866v1.5h-16v-1.5zm-16 14.5694h1.5v-5h-1.5zm14.5 0h1.5v-5h-1.5z"/><path d="M19.598 15.256v-1.5h-16v1.5zM5.0812 9h6v2h-6zm8 0h6v2h-6zM3.598 10L0 12.5v-5z"/></svg>',tooltip:!0}),i.bind("isEnabled").to(o,"isEnabled"),this.listenTo(i,"execute",()=>e.execute("pageBreak")),i})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function Cf(e,t){if(!e.childCount)return;const n=new Hh,o=function(e,t){const n=t.createRangeIn(e),o=new An({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),i=[];for(const e of n)if("elementStart"===e.type&&o.match(e.item)){const t=Tf(e.item);i.push({element:e.item,id:t.id,order:t.order,indent:t.indent})}return i}(e,n);if(!o.length)return;let i=null;o.forEach((e,r)=>{if(!i||function(e,t){if(e.id!==t.id)return!0;const n=t.element.previousSibling;if(!n)return!0;return o=n,!(o.is("ol")||o.is("ul"));var o;
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */}(o[r-1],e)){const o=function(e,t){const n=new RegExp(`@list l${e.id}:level${e.indent}\\s*({[^}]*)`,"gi"),o=/mso-level-number-format:([^;]*);/gi,i=n.exec(t);let r="decimal";if(i&&i[1]){const e=o.exec(i[1]);e&&e[1]&&(r=e[1].trim())}return{type:"bullet"!==r&&"image"!==r?"ol":"ul",style:r}}(e,t);i=function(e,t,n){const o=new On(e.type),i=t.parent.getChildIndex(t);return n.insertChild(i,o,t.parent),o}(o,e.element,n)}const s=function(e,t){return function(e,t){const n=new An({name:"span",styles:{"mso-list":"Ignore"}}),o=t.createRangeIn(e);for(const e of o)"elementStart"===e.type&&n.match(e.item)&&t.remove(e.item)}(e,t),t.rename("li",e)}(e.element,n);n.appendChild(s,i)})}function Tf(e){const t={},n=e.getStyle("mso-list");if(n){const e=n.match(/(^|\s+)l(\d+)/i),o=n.match(/\s*lfo(\d+)/i),i=n.match(/\s*level(\d+)/i);e&&o&&i&&(t.id=e[2],t.order=o[1],t.indent=i[1])}return t}const Ef=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class Sf{isActive(e){return Ef.test(e)}execute(e){const t=new Hh;!
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function(e,t){for(const n of e.getChildren())if(n.is("b")&&"normal"===n.getStyle("font-weight")){const o=e.getChildIndex(n);t.remove(n),t.insertChild(o,n.getChildren(),e)}}(e.content,t),function(e,t){for(const n of t.createRangeIn(e)){const e=n.item;if(e.is("li")){const n=e.getChild(0);n.is("p")&&t.unwrapElement(n)}}}(e.content,t)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Pf(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>1===t.length?" ":Array(t.length+1).join(" ").substr(0,t.length))}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Af(e){const t=new DOMParser,n=function(e){return Pf(Pf(e)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>(\s*[\r\n]\s*)</g,"><")}(function(e){const t=e.match(/<\/body>(.*?)(<\/html>|$)/);t&&t[1]&&(e=e.slice(0,t.index)+e.slice(t.index).replace(t[1],""));return e}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(e=e.replace(/<!--\[if gte vml 1]>/g,""))),o=t.parseFromString(n,"text/html");!function(e){e.querySelectorAll("span[style*=spacerun]").forEach(e=>{const t=e.childNodes&&e.childNodes[0]&&e.childNodes[0].data&&e.childNodes[0].data.length||0;e.innerHTML=Array(t+1).join(" ").substr(0,t)})}(o);const i=o.body.innerHTML,r=function(e){const t=new fi({blockFillerMode:"nbsp"}),n=e.createDocumentFragment(),o=e.body.childNodes;for(;o.length>0;)n.appendChild(o[0]);return t.domToView(n)}(o),s=function(e){const t=[],n=[],o=Array.from(e.getElementsByTagName("style"));for(const e of o)e.sheet&&e.sheet.cssRules&&e.sheet.cssRules.length&&(t.push(e.sheet),n.push(e.innerHTML));return{styles:t,stylesString:n.join(" ")}}(o);return{body:r,bodyString:i,styles:s.styles,stylesString:s.stylesString}}function Rf(e,t){if(!e.childCount)return;const n=new Hh;!function(e,t,n){const o=n.createRangeIn(t),i=new An({name:"img"}),r=[];for(const t of o)if(i.match(t.item)){const n=t.item,o=n.getAttribute("v:shapes")?n.getAttribute("v:shapes").split(" "):[];o.length&&o.every(t=>e.indexOf(t)>-1)?r.push(n):n.getAttribute("src")||r.push(n)}for(const e of r)n.remove(e)}(function(e,t){const n=t.createRangeIn(e),o=new An({name:/v:(.+)/}),i=[];for(const e of n){const t=e.item,n=t.previousSibling&&t.previousSibling.name||null;o.match(t)&&t.getAttribute("o:gfxdata")&&"v:shapetype"!==n&&i.push(e.item.getAttribute("id"))}return i}(e,n),e,n),function(e,t){const n=t.createRangeIn(e),o=new An({name:/v:(.+)/}),i=[];for(const e of n)o.match(e.item)&&i.push(e.item);for(const e of i)t.remove(e)}(e,n);const o=function(e,t){const n=t.createRangeIn(e),o=new An({name:"img"}),i=[];for(const e of n)o.match(e.item)&&e.item.getAttribute("src").startsWith("file://")&&i.push(e.item);return i}(e,n);o.length&&function(e,t,n){if(e.length===t.length)for(let i=0;i<e.length;i++){const r=`data:${t[i].type};base64,${o=t[i].hex,btoa(o.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}`;n.setAttribute("src",r,e[i])}var o}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(o,function(e){if(!e)return[];const t=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+t.source+"))([\\da-fA-F\\s]+)\\}","g"),o=e.match(n),i=[];if(o)for(const e of o){let n=!1;e.includes("\\pngblip")?n="image/png":e.includes("\\jpegblip")&&(n="image/jpeg"),n&&i.push({hex:e.replace(t,"").replace(/[^\da-fA-F]/g,""),type:n})}return i}(t),n)}const Of=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,Nf=/xmlns:o="urn:schemas-microsoft-com/i;class If{isActive(e){return Of.test(e)||Nf.test(e)}execute(e){const{body:t,stylesString:n}=Af(e.dataTransfer.getData("text/html"));Cf(t,n),Rf(t,e.dataTransfer.getData("text/rtf")),e.content=t}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Mf extends ic{static get pluginName(){return"RemoveFormatUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("removeFormat",n=>{const o=e.commands.get("removeFormat"),i=new jl(n);return i.set({label:t("Remove Format"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>',tooltip:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(i,"execute",()=>e.execute("removeFormat")),i})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zf extends cc{refresh(){const e=this.editor.model;this.isEnabled=!!ru(this._getFormattingItems(e.document.selection,e.schema))}execute(){const e=this.editor.model,t=e.schema;e.change(n=>{for(const o of this._getFormattingItems(e.document.selection,t))if(o.is("selection"))for(const e of this._getFormattingAttributes(o,t))n.removeSelectionAttribute(e);else{const e=n.createRangeOn(o);for(const i of this._getFormattingAttributes(o,t))n.removeAttribute(i,e)}})}*_getFormattingItems(e,t){const n=e=>!!ru(this._getFormattingAttributes(e,t));for(const t of e.getRanges())for(const e of t.getItems())n(e)&&(yield e);n(e)&&(yield e)}*_getFormattingAttributes(e,t){for(const[n]of e.getAttributes()){const e=t.getAttributeProperties(n);e&&e.isFormatting&&(yield n)}}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Df extends ic{static get pluginName(){return"RemoveFormatEditing"}init(){const e=this.editor;e.commands.add("removeFormat",new zf(e))}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function Vf(e,t){let n=t.parent;for(;n;){if(n.name===e)return n;n=n.parent}}function Bf(e,t,n,o,i=1){t>i?o.setAttribute(e,t,n):o.removeAttribute(e,n)}function Ff(e,t,n={}){const o=e.createElement("tableCell",n);e.insertElement("paragraph",o),e.insert(o,t)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Lf(){return e=>{e.on("element:table",(e,t,n)=>{const o=t.viewItem;if(!n.consumable.test(o,{name:!0}))return;const{rows:i,headingRows:r,headingColumns:s}=function(e){const t={headingRows:0,headingColumns:0},n=[],o=[];let i;for(const r of Array.from(e.getChildren()))if("tbody"===r.name||"thead"===r.name||"tfoot"===r.name){"thead"!==r.name||i||(i=r);const e=Array.from(r.getChildren()).filter(e=>e.is("element","tr"));for(const r of e)if("thead"===r.parent.name&&r.parent===i)t.headingRows++,n.push(r);else{o.push(r);const e=Hf(r);e>t.headingColumns&&(t.headingColumns=e)}}return t.rows=[...n,...o],t}(o),a={};s&&(a.headingColumns=s),r&&(a.headingRows=r);const l=n.writer.createElement("table",a),c=n.splitToAllowedParent(l,t.modelCursor);if(c){if(n.writer.insert(l,c.position),n.consumable.consume(o,{name:!0}),i.length)i.forEach(e=>n.convertItem(e,n.writer.createPositionAt(l,"end")));else{const e=n.writer.createElement("tableRow");n.writer.insert(e,n.writer.createPositionAt(l,"end")),Ff(n.writer,n.writer.createPositionAt(e,"end"))}t.modelRange=n.writer.createRange(n.writer.createPositionBefore(l),n.writer.createPositionAfter(l)),c.cursorParent?t.modelCursor=n.writer.createPositionAt(c.cursorParent,0):t.modelCursor=t.modelRange.end}})}}function jf(e){return t=>{t.on(`element:${e}`,(e,t,n)=>{const o=t.viewItem;if(!n.consumable.test(o,{name:!0}))return;const i=n.writer.createElement("tableCell"),r=n.splitToAllowedParent(i,t.modelCursor);if(!r)return;n.writer.insert(i,r.position),n.consumable.consume(o,{name:!0});const s=n.writer.createPositionAt(i,0);n.convertChildren(o,s),i.childCount||n.writer.insertElement("paragraph",s),t.modelRange=n.writer.createRange(n.writer.createPositionBefore(i),n.writer.createPositionAfter(i)),t.modelCursor=t.modelRange.end})}}function Hf(e){let t=0,n=0;const o=Array.from(e.getChildren()).filter(e=>"th"===e.name||"td"===e.name);for(;n<o.length&&"th"===o[n].name;){const e=o[n];t+=parseInt(e.getAttribute("colspan")||1),n++}return t}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wf{constructor(e,t={}){this.table=e,this.startRow=t.startRow||0,this.endRow="number"==typeof t.endRow?t.endRow:void 0,this.includeSpanned=!!t.includeSpanned,this.column="number"==typeof t.column?t.column:void 0,this._skipRows=new Set,this._row=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const e=this.table.getChild(this._row);if(!e||this._isOverEndRow())return{done:!0};let t,n,o;if(this._isSpanned(this._row,this._column))t=this._getSpanned(this._row,this._column),n=!this.includeSpanned||this._shouldSkipRow()||this._shouldSkipColumn(),o=this._formatOutValue(t,this._column,!0);else{if(t=e.getChild(this._cellIndex),!t)return this._row++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next();const i=parseInt(t.getAttribute("colspan")||1),r=parseInt(t.getAttribute("rowspan")||1);(i>1||r>1)&&this._recordSpans(this._row,this._column,r,i,t),this._nextCellAtColumn=this._column+i,n=this._shouldSkipRow()||this._shouldSkipColumn(),o=this._formatOutValue(t,this._column,!1,r,i)}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,n?this.next():o}skipRow(e){this._skipRows.add(e)}_isOverEndRow(){return void 0!==this.endRow&&this._row>this.endRow}_formatOutValue(e,t,n,o=1,i=1){return{done:!1,value:{cell:e,row:this._row,column:t,isSpanned:n,rowspan:o,colspan:i,cellIndex:this._cellIndex}}}_shouldSkipRow(){const e=this._row<this.startRow,t=this._skipRows.has(this._row);return e||t}_shouldSkipColumn(){return void 0!==this.column&&this.column!=this._column}_isSpanned(e,t){if(!this._spannedCells.has(e))return!1;return this._spannedCells.get(e).has(t)}_getSpanned(e,t){return this._spannedCells.get(e).get(t)}_recordSpans(e,t,n,o,i){for(let n=t+1;n<=t+o-1;n++)this._markSpannedCell(e,n,i);for(let r=e+1;r<e+n;r++)for(let e=t;e<=t+o-1;e++)this._markSpannedCell(r,e,i)}_markSpannedCell(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Uf(e){return!!e.getCustomProperty("table")&&Md(e)}function qf(e){const t=e.getSelectedElement();return t&&Uf(t)?t:null}function $f(e){const t=Vf("table",e.getFirstPosition());return t&&Uf(t.parent)?t.parent:null}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Gf(e={}){return t=>t.on("insert:table",(t,n,o)=>{const i=n.item;if(!o.consumable.consume(i,"insert"))return;o.consumable.consume(i,"attribute:headingRows:table"),o.consumable.consume(i,"attribute:headingColumns:table");const r=e&&e.asWidget,s=o.writer.createContainerElement("figure",{class:"table"}),a=o.writer.createContainerElement("table");let l;var c,u;o.writer.insert(o.writer.createPositionAt(s,0),a),r&&(c=s,(u=o.writer).setCustomProperty("table",!0,c),l=zd(c,u,{hasSelectionHandle:!0}));const d=new Wf(i),h={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0},p=new Map;for(const t of d){const{row:n,cell:r}=t,s=im(om(n,h),a,o),l=i.getChild(n),c=p.get(n)||tm(l,n,s,o);p.set(n,c),o.consumable.consume(r,"insert"),em(t,h,o.writer.createPositionAt(c,"end"),o,e)}const f=o.mapper.toViewPosition(n.range.start);o.mapper.bindElements(i,r?l:s),o.writer.insert(f,r?l:s)})}function Kf(e={}){return t=>t.on("insert:tableRow",(t,n,o)=>{const i=n.item;if(!o.consumable.consume(i,"insert"))return;const r=i.parent,s=lm(o.mapper.toViewElement(r)),a=r.getChildIndex(i),l=new Wf(r,{startRow:a,endRow:a}),c={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0},u=new Map;for(const t of l){const n=im(om(a,c),s,o),r=u.get(a)||tm(i,a,n,o);u.set(a,r),o.consumable.consume(t.cell,"insert"),em(t,c,o.writer.createPositionAt(r,"end"),o,e)}})}function Jf(e={}){return t=>t.on("insert:tableCell",(t,n,o)=>{const i=n.item;if(!o.consumable.consume(i,"insert"))return;const r=i.parent,s=r.parent,a=s.getChildIndex(r),l=new Wf(s,{startRow:a,endRow:a}),c={headingRows:s.getAttribute("headingRows")||0,headingColumns:s.getAttribute("headingColumns")||0};for(const t of l)if(t.cell===i){const n=o.mapper.toViewElement(r);return void em(t,c,o.writer.createPositionAt(n,r.getChildIndex(i)),o,e)}})}function Yf(e={}){const t=!!e.asWidget;return e=>e.on("attribute:headingRows:table",(e,n,o)=>{const i=n.item;if(!o.consumable.consume(n.item,e.name))return;const r=lm(o.mapper.toViewElement(i)),s=n.attributeOldValue,a=n.attributeNewValue;if(a>s){const e=Array.from(i.getChildren()).filter(({index:e})=>l(e,s-1,a));am(e,im("thead",r,o),o,"end");for(const n of e)for(const e of n.getChildren())Xf(e,"th",o,t);sm("tbody",r,o)}else{am(Array.from(i.getChildren()).filter(({index:e})=>l(e,a-1,s)).reverse(),im("tbody",r,o),o,0);const e=new Wf(i,{startRow:a?a-1:a,endRow:s-1}),n={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0};for(const i of e)Zf(i,n,o,t);sm("thead",r,o)}function l(e,t,n){return e>t&&e<n}})}function Qf(e={}){const t=!!e.asWidget;return e=>e.on("attribute:headingColumns:table",(e,n,o)=>{const i=n.item;if(!o.consumable.consume(n.item,e.name))return;const r={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0},s=n.attributeOldValue,a=n.attributeNewValue,l=(s>a?s:a)-1;for(const e of new Wf(i))e.column>l||Zf(e,r,o,t)})}function Xf(e,t,n,o){const i=n.writer,r=n.mapper.toViewElement(e);if(!r)return;let s;if(o){s=Vd(i.createEditableElement(t,r.getAttributes()),i),i.insert(i.createPositionAfter(r),s),i.move(i.createRangeIn(r),i.createPositionAt(s,0)),i.remove(i.createRangeOn(r))}else s=i.rename(t,r);n.mapper.unbindViewElement(r),n.mapper.bindElements(e,s)}function Zf(e,t,n,o){const{cell:i}=e,r=nm(e,t),s=n.mapper.toViewElement(i);s&&s.name!==r&&Xf(i,r,n,o)}function em(e,t,n,o,i){const r=i&&i.asWidget,s=nm(e,t),a=r?Vd(o.writer.createEditableElement(s),o.writer):o.writer.createContainerElement(s),l=e.cell,c=l.getChild(0),u=1===l.childCount&&"paragraph"===c.name;if(o.writer.insert(n,a),u&&![...c.getAttributeKeys()].length){const e=l.getChild(0),t=o.writer.createPositionAt(a,"end");if(o.consumable.consume(e,"insert"),i.asWidget){const n=o.writer.createContainerElement("span");o.mapper.bindElements(e,n),o.writer.insert(t,n),o.mapper.bindElements(l,a)}else o.mapper.bindElements(l,a),o.mapper.bindElements(e,a)}else o.mapper.bindElements(l,a)}function tm(e,t,n,o){o.consumable.consume(e,"insert");const i=o.writer.createContainerElement("tr");o.mapper.bindElements(e,i);const r=e.parent.getAttribute("headingRows")||0,s=r>0&&t>=r?t-r:t,a=o.writer.createPositionAt(n,s);return o.writer.insert(a,i),i}function nm(e,t){const{row:n,column:o}=e,{headingColumns:i,headingRows:r}=t;return r&&r>n?"th":i&&i>o?"th":"td"}function om(e,t){return e<t.headingRows?"thead":"tbody"}function im(e,t,n){const o=rm(e,t);return o||function(e,t,n){const o=n.writer.createContainerElement(e),i=n.writer.createPositionAt(t,"tbody"==e?"end":0);return n.writer.insert(i,o),o}(e,t,n)}function rm(e,t){for(const n of t.getChildren())if(n.name==e)return n}function sm(e,t,n){const o=rm(e,t);o&&0===o.childCount&&n.writer.remove(n.writer.createRangeOn(o))}function am(e,t,n,o){for(const i of e){const e=n.mapper.toViewElement(i);e&&n.writer.move(n.writer.createRangeOn(e),n.writer.createPositionAt(t,o))}}function lm(e){for(const t of e.getChildren())if("table"===t.name)return t}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class cm extends cc{refresh(){const e=this.editor.model,t=e.document.selection,n=e.schema,o=function(e){const t=e.parent;return t===t.root?t:t.parent}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(t.getFirstPosition());this.isEnabled=n.checkChild(o,"table")}execute(e={}){const t=this.editor.model,n=t.document.selection,o=this.editor.plugins.get("TableUtils"),i=parseInt(e.rows)||2,r=parseInt(e.columns)||2,s=Bd(n,t);t.change(e=>{const n=o.createTable(e,i,r);t.insertContent(n,s),e.setSelection(e.createPositionAt(n.getNodeByPath([0,0,0]),0))})}}class um extends cc{constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){const e=Vf("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!e}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),o=Vf("tableCell",t.getFirstPosition()).parent,i=o.parent,r=i.getChildIndex(o),s="below"===this.order?r+1:r;n.insertRows(i,{rows:1,at:s})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dm extends cc{constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){const e=Vf("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!e}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),o=Vf("tableCell",t.getFirstPosition()),i=o.parent.parent,{column:r}=n.getCellLocation(o),s="right"===this.order?r+1:r;n.insertColumns(i,{columns:1,at:s})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hm extends cc{constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){const e=Vf("tableCell",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!e}execute(){const e=Vf("tableCell",this.editor.model.document.selection.getFirstPosition()),t="horizontally"===this.direction,n=this.editor.plugins.get("TableUtils");t?n.splitCellHorizontally(e,2):n.splitCellVertically(e,2)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pm extends cc{constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=Vf("tableCell",e.document.selection.getFirstPosition()),n=this.value,o=this.direction;e.change(e=>{const i="right"==o||"down"==o,r=i?t:n,s=i?n:t,a=s.parent;!function(e,t,n){fm(e)||(fm(t)&&n.remove(n.createRangeIn(t)),n.move(n.createRangeIn(e),n.createPositionAt(t,"end")));n.remove(e)}(s,r,e);const l=this.isHorizontal?"colspan":"rowspan",c=parseInt(t.getAttribute(l)||1),u=parseInt(n.getAttribute(l)||1);e.setAttribute(l,c+u,r),e.setSelection(e.createRangeIn(r)),a.childCount||function(e,t){const n=e.parent,o=n.getChildIndex(e);for(const{cell:e,row:i,rowspan:r}of new Wf(n,{endRow:o})){i+r-1>=o&&Bf("rowspan",r-1,e,t)}t.remove(e)}(a,e)})}_getMergeableCell(){const e=Vf("tableCell",this.editor.model.document.selection.getFirstPosition());if(!e)return;const t=this.editor.plugins.get("TableUtils"),n=this.isHorizontal?function(e,t,n){const o=e.parent.parent,i="right"==t?e.nextSibling:e.previousSibling,r=o.getAttribute("headingColumns")||0;if(!i)return;const s="right"==t?e:i,a="right"==t?i:e,{column:l}=n.getCellLocation(s),{column:c}=n.getCellLocation(a),u=parseInt(s.getAttribute("colspan")||1),d=parseInt(a.getAttribute("colspan")||1),h="right"==t&&c+d>r,p="left"==t&&l+u>r-1;if(r&&(h||p))return;return l+u===c?i:void 0}(e,this.direction,t):function(e,t){const n=e.parent,o=n.parent,i=o.getChildIndex(n);if("down"==t&&i===o.childCount-1||"up"==t&&0===i)return;const r=parseInt(e.getAttribute("rowspan")||1),s=o.getAttribute("headingRows")||0,a="down"==t&&i+r===s,l="up"==t&&i===s;if(s&&(a||l))return;const c=parseInt(e.getAttribute("rowspan")||1),u="down"==t?i+c:i,d=[...new Wf(o,{endRow:u})],h=d.find(t=>t.cell===e).column,p=d.find(({row:e,rowspan:n,column:o})=>o===h&&("down"==t?e===u:u===e+n));return p&&p.cell}(e,this.direction);if(!n)return;const o=this.isHorizontal?"rowspan":"colspan",i=parseInt(e.getAttribute(o)||1);return parseInt(n.getAttribute(o)||1)===i?n:void 0}}function fm(e){return 1==e.childCount&&e.getChild(0).is("paragraph")&&e.getChild(0).isEmpty}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mm extends cc{refresh(){const e=Vf("tableCell",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!e&&e.parent.parent.childCount>1}execute(){const e=this.editor.model,t=Vf("tableCell",e.document.selection.getFirstPosition()).parent,n=t.parent,o=n.getChildIndex(t),i=n.getAttribute("headingRows")||0;e.change(e=>{i&&o<=i&&Bf("headingRows",i-1,n,e,0);const r=[...new Wf(n,{endRow:o})],s=new Map;r.filter(({row:e,rowspan:t})=>e===o&&t>1).forEach(({column:e,cell:t,rowspan:n})=>s.set(e,{cell:t,rowspanToSet:n-1})),r.filter(({row:e,rowspan:t})=>e<=o-1&&e+t>o).forEach(({cell:t,rowspan:n})=>Bf("rowspan",n-1,t,e));const a=o+1,l=new Wf(n,{includeSpanned:!0,startRow:a,endRow:a});let c;for(const{row:t,column:o,cell:i}of[...l])if(s.has(o)){const{cell:i,rowspanToSet:r}=s.get(o),a=c?e.createPositionAfter(c):e.createPositionAt(n.getChild(t),0);e.move(e.createRangeOn(i),a),Bf("rowspan",r,i,e),c=i}else c=i;e.remove(t)})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gm extends cc{refresh(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),o=Vf("tableCell",t.getFirstPosition());this.isEnabled=!!o&&n.getColumns(o.parent.parent)>1}execute(){const e=this.editor.model,t=Vf("tableCell",e.document.selection.getFirstPosition()),n=t.parent,o=n.parent,i=o.getAttribute("headingColumns")||0,r=o.getChildIndex(n),s=[...new Wf(o)],a=s.find(e=>e.cell===t).column;e.change(e=>{i&&r<=i&&e.setAttribute("headingColumns",i-1,o);for(const{cell:t,column:n,colspan:o}of s)n<=a&&o>1&&n+o>a?Bf("colspan",o-1,t,e):n===a&&e.remove(t)})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bm extends cc{refresh(){const e=Vf("tableCell",this.editor.model.document.selection.getFirstPosition()),t=!!e;this.isEnabled=t,this.value=t&&this._isInHeading(e,e.parent.parent)}execute(e={}){const t=this.editor.model,n=Vf("tableCell",t.document.selection.getFirstPosition()).parent,o=n.parent,i=o.getAttribute("headingRows")||0,r=n.index;if(e.forceValue===this.value)return;const s=this.value?r:r+1;t.change(e=>{if(s){const t=function(e,t,n){const o=[],i=new Wf(e,{startRow:t>n?n:0,endRow:t-1});for(const{row:e,rowspan:n,cell:r}of i)n>1&&e+n>t&&o.push(r);return o}(o,s,i);for(const n of t)wm(n,s,e)}Bf("headingRows",s,o,e,0)})}_isInHeading(e,t){const n=parseInt(t.getAttribute("headingRows")||0);return!!n&&e.parent.index<n}}function wm(e,t,n){const o=e.parent,i=o.parent,r=t-o.index,s={},a=parseInt(e.getAttribute("rowspan"))-r;a>1&&(s.rowspan=a);const l=parseInt(e.getAttribute("colspan")||1);l>1&&(s.colspan=l);const c=i.getChildIndex(o),u=c+r,d=[...new Wf(i,{startRow:c,endRow:u,includeSpanned:!0})];let h;for(const{row:t,column:o,cell:r,cellIndex:a}of d)if(r===e&&void 0===h&&(h=o),void 0!==h&&h===o&&t===u){const e=i.getChild(t),o=n.createPositionAt(e,a);Ff(n,o,s)}Bf("rowspan",r,e,n)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class km extends cc{refresh(){const e=Vf("tableCell",this.editor.model.document.selection.getFirstPosition()),t=!!e;this.isEnabled=t,this.value=t&&this._isInHeading(e,e.parent.parent)}execute(e={}){const t=this.editor.model,n=t.document.selection,o=this.editor.plugins.get("TableUtils"),i=Vf("tableCell",n.getFirstPosition()),r=i.parent.parent,{column:s}=o.getCellLocation(i);if(e.forceValue===this.value)return;const a=this.value?s:s+1;t.change(e=>{Bf("headingColumns",a,r,e,0)})}_isInHeading(e,t){const n=parseInt(t.getAttribute("headingColumns")||0),o=this.editor.plugins.get("TableUtils"),{column:i}=o.getCellLocation(e);return!!n&&i<n}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vm extends ic{static get pluginName(){return"TableUtils"}getCellLocation(e){const t=e.parent,n=t.parent,o=n.getChildIndex(t),i=new Wf(n,{startRow:o,endRow:o});for(const{cell:t,row:n,column:o}of i)if(t===e)return{row:n,column:o}}createTable(e,t,n){const o=e.createElement("table");return _m(e,o,0,t,n),o}insertRows(e,t={}){const n=this.editor.model,o=t.at||0,i=t.rows||1;n.change(t=>{const n=e.getAttribute("headingRows")||0;if(n>o&&t.setAttribute("headingRows",n+i,e),0===o||o===e.childCount)return void _m(t,e,o,i,this.getColumns(e));const r=new Wf(e,{endRow:o});let s=0;for(const{row:e,rowspan:n,colspan:a,cell:l}of r){const r=e+n>o;e<o&&r&&t.setAttribute("rowspan",n+i,l),e===o&&(s+=a)}_m(t,e,o,i,s)})}insertColumns(e,t={}){const n=this.editor.model,o=t.at||0,i=t.columns||1;n.change(t=>{const n=e.getAttribute("headingColumns");o<n&&t.setAttribute("headingColumns",n+i,e);const r=this.getColumns(e);if(0===o||r===o){for(const n of e.getChildren())ym(i,t,t.createPositionAt(n,o?"end":0));return}const s=new Wf(e,{column:o,includeSpanned:!0});for(const{row:n,cell:r,cellIndex:a}of s){const l=parseInt(r.getAttribute("rowspan")||1),c=parseInt(r.getAttribute("colspan")||1);if(r.index!==o&&c>1){if(t.setAttribute("colspan",c+i,r),s.skipRow(n),l>1)for(let e=n+1;e<n+l;e++)s.skipRow(e)}else{const o=t.createPositionAt(e.getChild(n),a);ym(i,t,o)}}})}splitCellVertically(e,t=2){const n=this.editor.model,o=e.parent.parent,i=parseInt(e.getAttribute("rowspan")||1),r=parseInt(e.getAttribute("colspan")||1);n.change(n=>{if(r>1){const{newCellsSpan:o,updatedSpan:s}=xm(r,t);Bf("colspan",s,e,n);const a={};o>1&&(a.colspan=o),i>1&&(a.rowspan=i),ym(r>t?t-1:r-1,n,n.createPositionAfter(e),a)}if(r<t){const s=t-r,a=[...new Wf(o)],{column:l}=a.find(({cell:t})=>t===e),c=a.filter(({cell:t,colspan:n,column:o})=>t!==e&&o===l||o<l&&o+n>l);for(const{cell:e,colspan:t}of c)n.setAttribute("colspan",t+s,e);const u={};i>1&&(u.rowspan=i),ym(s,n,n.createPositionAfter(e),u);const d=o.getAttribute("headingColumns")||0;d>l&&Bf("headingColumns",d+s,o,n)}})}splitCellHorizontally(e,t=2){const n=this.editor.model,o=e.parent,i=o.parent,r=i.getChildIndex(o),s=parseInt(e.getAttribute("rowspan")||1),a=parseInt(e.getAttribute("colspan")||1);n.change(n=>{if(s>1){const o=[...new Wf(i,{startRow:r,endRow:r+s-1,includeSpanned:!0})],{newCellsSpan:l,updatedSpan:c}=xm(s,t);Bf("rowspan",c,e,n);const{column:u}=o.find(({cell:t})=>t===e),d={};l>1&&(d.rowspan=l),a>1&&(d.colspan=a);for(const{column:e,row:t,cellIndex:s}of o){const o=e===u,a=(t+r+c)%l==0;if(t>=r+c&&o&&a){const e=n.createPositionAt(i.getChild(t),s);ym(1,n,e,d)}}}if(s<t){const o=t-s,l=[...new Wf(i,{startRow:0,endRow:r})];for(const{cell:t,rowspan:i,row:s}of l)if(t!==e&&s+i>r){const e=i+o;n.setAttribute("rowspan",e,t)}const c={};a>1&&(c.colspan=a),_m(n,i,r+1,o,1,c);const u=i.getAttribute("headingRows")||0;u>r&&Bf("headingRows",u+o,i,n)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((e,t)=>e+parseInt(t.getAttribute("colspan")||1),0)}}function _m(e,t,n,o,i,r={}){for(let s=0;s<o;s++){const o=e.createElement("tableRow");e.insert(o,t,n),ym(i,e,e.createPositionAt(o,"end"),r)}}function ym(e,t,n,o={}){for(let i=0;i<e;i++)Ff(t,n,o)}function xm(e,t){if(e<t)return{newCellsSpan:1,updatedSpan:1};const n=Math.floor(e/t);return{newCellsSpan:n,updatedSpan:e-n*t+n}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Cm(e){e.document.registerPostFixer(t=>function(e,t){const n=t.document.differ.getChanges();let o=!1;const i=new Set;for(const t of n){let n;"table"==t.name&&"insert"==t.type&&(n=t.position.nodeAfter),"tableRow"!=t.name&&"tableCell"!=t.name||(n=Vf("table",t.position)),Sm(t)&&(n=Vf("table",t.range.start)),n&&!i.has(n)&&(o=Tm(n,e)||o,o=Em(n,e)||o,i.add(n))}return o}(t,e))}function Tm(e,t){let n=!1;const o=function(e){const t=parseInt(e.getAttribute("headingRows")||0),n=e.childCount,o=[];for(const{row:i,rowspan:r,cell:s}of new Wf(e)){if(r<2)continue;const e=i<t?t:n;if(i+r>e){const t=e-i;o.push({cell:s,rowspan:t})}}return o}(e);if(o.length){n=!0;for(const e of o)Bf("rowspan",e.rowspan,e.cell,t,1)}return n}function Em(e,t){let n=!1;const o=function(e){const t={};for(const{row:n}of new Wf(e,{includeSpanned:!0}))t[n]||(t[n]=0),t[n]+=1;return t}(e),i=o[0];if(!Object.values(o).every(e=>e===i)){const i=Object.values(o).reduce((e,t)=>t>e?t:e,0);for(const[r,s]of Object.entries(o)){const o=i-s;if(o){for(let n=0;n<o;n++)Ff(t,t.createPositionAt(e.getChild(r),"end"));n=!0}}}return n}function Sm(e){const t="attribute"===e.type,n=e.attributeKey;return t&&("headingRows"===n||"colspan"===n||"rowspan"===n)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Pm(e){e.document.registerPostFixer(t=>function(e,t){const n=t.document.differ.getChanges();let o=!1;for(const t of n)"insert"==t.type&&"table"==t.name&&(o=Am(t.position.nodeAfter,e)||o),"insert"==t.type&&"tableRow"==t.name&&(o=Rm(t.position.nodeAfter,e)||o),"insert"==t.type&&"tableCell"==t.name&&(o=Om(t.position.nodeAfter,e)||o),Nm(t)&&(o=Om(t.position.parent,e)||o);return o}(t,e))}function Am(e,t){let n=!1;for(const o of e.getChildren())n=Rm(o,t)||n;return n}function Rm(e,t){let n=!1;for(const o of e.getChildren())n=Om(o,t)||n;return n}function Om(e,t){if(0==e.childCount)return t.insertElement("paragraph",e),!0;const n=Array.from(e.getChildren()).filter(e=>e.is("text"));for(const e of n)t.wrap(t.createRangeOn(e),"paragraph");return!!n.length}function Nm(e){return!(!e.position||!e.position.parent.is("tableCell"))&&("insert"==e.type&&"$text"==e.name||"remove"==e.type)}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Im(e){e.document.registerPostFixer(()=>function(e){const t=e.document.differ,n=new Set;for(const e of t.getChanges()){const t="insert"==e.type||"remove"==e.type?e.position.parent:e.range.start.parent;t.is("tableCell")&&Mm(t,e.type)&&n.add(t)}if(n.size){for(const e of n.values())t.refreshItem(e);return!0}return!1}(e))}function Mm(e,t){if(!Array.from(e.getChildren()).some(e=>e.is("paragraph")))return!1;if("attribute"==t){const t=Array.from(e.getChild(0).getAttributeKeys()).length;return 1===e.childCount&&t<2}return e.childCount<=("insert"==t?2:1)}n(89);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zm extends ic{static get pluginName(){return"TableEditing"}init(){const e=this.editor,t=e.model,n=t.schema,o=e.conversion;n.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isLimit:!0,isObject:!0,isBlock:!0}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0}),n.extend("$block",{allowIn:"tableCell"}),n.addChildCheck((e,t)=>{if("table"==t.name&&Array.from(e.getNames()).includes("table"))return!1}),o.for("upcast").add(Lf()),o.for("editingDowncast").add(Gf({asWidget:!0})),o.for("dataDowncast").add(Gf()),o.for("upcast").elementToElement({model:"tableRow",view:"tr"}),o.for("editingDowncast").add(Kf({asWidget:!0})),o.for("dataDowncast").add(Kf()),o.for("downcast").add(e=>e.on("remove:tableRow",(e,t,n)=>{e.stop();const o=n.writer,i=n.mapper,r=i.toViewPosition(t.position).getLastMatchingPosition(e=>!e.item.is("tr")).nodeAfter,s=r.parent,a=o.createRangeOn(r),l=o.remove(a);for(const e of o.createRangeIn(l).getItems())i.unbindViewElement(e);s.childCount||o.remove(o.createRangeOn(s))},{priority:"higher"})),o.for("upcast").add(jf("td")),o.for("upcast").add(jf("th")),o.for("editingDowncast").add(Jf({asWidget:!0})),o.for("dataDowncast").add(Jf()),o.attributeToAttribute({model:"colspan",view:"colspan"}),o.attributeToAttribute({model:"rowspan",view:"rowspan"}),o.for("editingDowncast").add(Qf({asWidget:!0})),o.for("dataDowncast").add(Qf()),o.for("editingDowncast").add(Yf({asWidget:!0})),o.for("dataDowncast").add(Yf()),e.commands.add("insertTable",new cm(e)),e.commands.add("insertTableRowAbove",new um(e,{order:"above"})),e.commands.add("insertTableRowBelow",new um(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new dm(e,{order:"left"})),e.commands.add("insertTableColumnRight",new dm(e,{order:"right"})),e.commands.add("removeTableRow",new mm(e)),e.commands.add("removeTableColumn",new gm(e)),e.commands.add("splitTableCellVertically",new hm(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new hm(e,{direction:"horizontally"})),e.commands.add("mergeTableCellRight",new pm(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new pm(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new pm(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new pm(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new km(e)),e.commands.add("setTableRowHeader",new bm(e)),Cm(t),Im(t),Pm(t),this.editor.keystrokes.set("Tab",(...e)=>this._handleTabOnSelectedTable(...e),{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"})}static get requires(){return[vm]}_handleTabOnSelectedTable(e,t){const n=this.editor,o=n.model.document.selection;if(!o.isCollapsed&&1===o.rangeCount&&o.getFirstRange().isFlat){const e=o.getSelectedElement();if(!e||!e.is("table"))return;t(),n.model.change(t=>{t.setSelection(t.createRangeIn(e.getChild(0).getChild(0)))})}}_getTabHandler(e){const t=this.editor;return(n,o)=>{const i=Vf("tableCell",t.model.document.selection.getFirstPosition());if(!i)return;o();const r=i.parent,s=r.parent,a=s.getChildIndex(r),l=r.getChildIndex(i),c=0===l;if(!e&&c&&0===a)return;const u=l===r.childCount-1,d=a===s.childCount-1;if(e&&d&&u&&(t.execute("insertTableRowBelow"),a===s.childCount-1))return;let h;if(e&&u){const e=s.getChild(a+1);h=e.getChild(0)}else if(!e&&c){const e=s.getChild(a-1);h=e.getChild(e.childCount-1)}else h=r.getChild(l+(e?1:-1));t.model.change(e=>{e.setSelection(e.createRangeIn(h))})}}}n(91);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Dm extends _l{constructor(e){super(e);const t=this.bindTemplate;this.items=this.createCollection(),this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(e,t)=>`${t}  ${e}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},children:this.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:t.to("label")}]}],on:{mousedown:t.to(e=>{e.preventDefault()}),click:t.to(()=>{this.fire("execute")})}});for(let e=0;e<100;e++){const t=new Vm;t.on("over",()=>{const t=Math.floor(e/10),n=e%10;this.set("rows",t+1),this.set("columns",n+1)}),this.items.add(t)}this.on("change:columns",()=>{this._highlightGridBoxes()}),this.on("change:rows",()=>{this._highlightGridBoxes()})}focus(){}focusLast(){}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map((n,o)=>{const i=Math.floor(o/10)<e&&o%10<t;n.set("isOn",i)})}}class Vm extends _l{constructor(e){super(e);const t=this.bindTemplate;this.set("isOn",!1),this.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",t.if("isOn","ck-on")]},on:{mouseover:t.to("over")}})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Bm extends ic{init(){const e=this.editor,t=this.editor.t,n="ltr"===e.locale.contentLanguageDirection;e.ui.componentFactory.add("insertTable",n=>{const o=e.commands.get("insertTable"),i=Jl(n);i.bind("isEnabled").to(o),i.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:t("Insert table"),tooltip:!0});const r=new Dm(n);return i.panelView.children.add(r),r.delegate("execute").to(i),i.buttonView.on("open",()=>{r.rows=0,r.columns=0}),i.on("execute",()=>{e.execute("insertTable",{rows:r.rows,columns:r.columns}),e.editing.view.focus()}),i}),e.ui.componentFactory.add("tableColumn",e=>{const o=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}}];return this._prepareDropdown(t("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',o,e)}),e.ui.componentFactory.add("tableRow",e=>{const n=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}}];return this._prepareDropdown(t("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',n,e)}),e.ui.componentFactory.add("mergeTableCells",e=>{const o=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareDropdown(t("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',o,e)})}_prepareDropdown(e,t,n,o){const i=this.editor,r=Jl(o),s=[],a=new mo;for(const e of n)Fm(e,i,s,a);return Ql(r,a),r.buttonView.set({label:e,icon:t,tooltip:!0}),r.bind("isEnabled").toMany(s,"isEnabled",(...e)=>e.some(e=>e)),this.listenTo(r,"execute",e=>{i.execute(e.source.commandName),i.editing.view.focus()}),r}}function Fm(e,t,n,o){const i=e.model=new Ju(e.model),{commandName:r,bindIsOn:s}=e.model;if("separator"!==e.type){const e=t.commands.get(r);n.push(e),i.set({commandName:r}),i.bind("isEnabled").to(e),s&&i.bind("isOn").to(e,"value")}i.set({withText:!0}),o.add(e)}n(93);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function Lm(e){if(e.is("text")||e.is("textProxy"))return e.data;let t="",n=null;for(const o of e.getChildren()){const e=Lm(o);n&&n.is("element")&&(t+="\n"),t+=e,n=o}return t}var jm=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return V(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),tr(e,t,{leading:o,maxWait:t,trailing:i})};
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Hm{constructor(e,t){this.loader=e,this.options=t}upload(){return this.loader.file.then(e=>new Promise((t,n)=>{this._initRequest(),this._initListeners(t,n,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.options.uploadUrl,!0),e.responseType="json"}_initListeners(e,t,n){const o=this.xhr,i=this.loader,r=`Couldn't upload file: ${n.name}.`;o.addEventListener("error",()=>t(r)),o.addEventListener("abort",()=>t()),o.addEventListener("load",()=>{const n=o.response;if(!n||n.error)return t(n&&n.error&&n.error.message?n.error.message:r);e(n.url?{default:n.url}:n.urls)}),o.upload&&o.upload.addEventListener("progress",e=>{e.lengthComputable&&(i.uploadTotal=e.total,i.uploaded=e.loaded)})}_sendRequest(e){const t=this.options.headers||{};for(const e of Object.keys(t))this.xhr.setRequestHeader(e,t[e]);const n=new FormData;n.append("upload",e),this.xhr.send(n)}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wm{constructor(e){this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}begin(e,t,n){const o=new ur(t);this.activeHandlePosition=function(e){const t=["top-left","top-right","bottom-right","bottom-left"];for(const n of t)if(e.classList.contains(`ck-widget__resizer__handle-${n}`))return n}(e),this._referenceCoordinates=function(e,t){const n=new ur(e),o=t.split("-"),i={x:"right"==o[1]?n.right:n.left,y:"bottom"==o[0]?n.bottom:n.top};return i.x+=e.ownerDocument.defaultView.scrollX,i.y+=e.ownerDocument.defaultView.scrollY,i}(t,function(e){const t=e.split("-"),n={top:"bottom",bottom:"top",left:"right",right:"left"};return`${n[t[0]]}-${n[t[1]]}`}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(this.activeHandlePosition)),this.originalWidth=o.width,this.originalHeight=o.height,this.aspectRatio=o.width/o.height;const i=n.style.width;i&&i.match(/^\d+\.?\d*%$/)?this.originalWidthPercents=parseFloat(i):this.originalWidthPercents=function(e,t){const n=e.parentElement,o=parseFloat(n.ownerDocument.defaultView.getComputedStyle(n).width);return t.width/o*100}(n,o)}update(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}_n(Wm,Qn);class Um{constructor(e){this._options=e,this._domResizerWrapper=null,this.set("isEnabled",!0),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize")}attach(){const e=this,t=this._options.viewElement,n=this._options.downcastWriter,o=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},(function(t){const n=this.toDomElement(t);return e._appendHandles(n),e._appendSizeUI(n),e._domResizerWrapper=n,e.on("change:isEnabled",(e,t,o)=>{n.style.display=o?"":"none"}),n.style.display=e.isEnabled?"":"none",n}));n.insert(n.createPositionAt(t,"end"),o),n.addClass("ck-widget_with-resizer",t)}begin(e){this.state=new Wm(this._options),this._sizeUI.bindToState(this._options,this.state),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}updateSize(e){const t=this._getHandleHost(),n=this._getResizeHost(),o=this._options.unit,i=this._proposeNewSize(e);n.style.width=("%"===o?i.widthPercents:i.width)+this._options.unit;const r=new ur(t);i.handleHostWidth=Math.round(r.width),i.handleHostHeight=Math.round(r.height);const s=new ur(t);i.width=Math.round(s.width),i.height=Math.round(s.height),this.redraw(r),this.state.update(i)}commit(){const e=("%"===this._options.unit?this.state.proposedWidthPercents:this.state.proposedWidth)+this._options.unit;this._options.onCommit(e),this._cleanup()}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(e){const t=this._domResizerWrapper;if((n=t)&&n.ownerDocument&&n.ownerDocument.contains(n)){const n=t.parentElement,o=this._getHandleHost(),i=e||new ur(o);t.style.width=i.width+"px",t.style.height=i.height+"px";const r={left:o.offsetLeft,top:o.offsetTop,height:o.offsetHeight,width:o.offsetWidth};n.isSameNode(o)||(t.style.left=r.left+"px",t.style.top=r.top+"px",t.style.height=r.height+"px",t.style.width=r.width+"px")}var n}containsHandle(e){return this._domResizerWrapper.contains(e)}static isResizeHandle(e){return e.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeUI.dismiss(),this._sizeUI.isVisible=!1}_proposeNewSize(e){const t=this.state,n={x:(o=e).pageX,y:o.pageY};var o;const i=!this._options.isCentered||this._options.isCentered(this),r={x:t._referenceCoordinates.x-(n.x+t.originalWidth),y:n.y-t.originalHeight-t._referenceCoordinates.y};i&&t.activeHandlePosition.endsWith("-right")&&(r.x=n.x-(t._referenceCoordinates.x+t.originalWidth)),i&&(r.x*=2);const s={width:Math.abs(t.originalWidth+r.x),height:Math.abs(t.originalHeight+r.y)};s.dominant=s.width/t.aspectRatio>s.height?"width":"height",s.max=s[s.dominant];const a={width:s.width,height:s.height};return"width"==s.dominant?a.height=a.width/t.aspectRatio:a.width=a.height*t.aspectRatio,{width:Math.round(a.width),height:Math.round(a.height),widthPercents:Math.min(Math.round(t.originalWidthPercents/t.originalWidth*a.width*100)/100,100)}}_getResizeHost(){const e=this._domResizerWrapper.parentElement;return this._options.getResizeHost(e)}_getHandleHost(){const e=this._domResizerWrapper.parentElement;return this._options.getHandleHost(e)}_appendHandles(e){const t=["top-left","top-right","bottom-right","bottom-left"];for(const n of t)e.appendChild(new nl({tag:"div",attributes:{class:`ck-widget__resizer__handle ${$m(n)}`}}).render())}_appendSizeUI(e){const t=new qm;t.render(),this._sizeUI=t,e.appendChild(t.element)}_getHandlePosition(e){const t=["top-left","top-right","bottom-right","bottom-left"];for(const n of t)if(e.classList.contains($m(n)))return n}}_n(Um,Qn);class qm extends _l{constructor(){super();const e=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",e.to("activeHandlePosition",e=>e?`ck-orientation-${e}`:"")],style:{display:e.if("isVisible","none",e=>!e)}},children:[{text:e.to("label")}]})}bindToState(e,t){this.bind("isVisible").to(t,"proposedWidth",t,"proposedHeight",(e,t)=>null!==e&&null!==t),this.bind("label").to(t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",t,"proposedWidthPercents",(t,n,o)=>"px"===e.unit?`${t}${n}`:`${o}%`),this.bind("activeHandlePosition").to(t)}dismiss(){this.unbind(),this.isVisible=!1}}function $m(e){return`ck-widget__resizer__handle-${e}`}n(95);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Gm extends ic{static get pluginName(){return"WidgetResize"}init(){this.set("_visibleResizer",null),this.set("_activeResizer",null),this._resizers=new Map;const e=ui.window.document;this.editor.model.schema.setAttributeProperties("width",{isFormatting:!0}),this._observer=Object.create(ki),this._observer.listenTo(e,"mousedown",(e,t)=>{if(!Um.isResizeHandle(t.target))return;const n=t.target;this._activeResizer=this._getResizerByHandle(n),this._activeResizer&&this._activeResizer.begin(n)}),this._observer.listenTo(e,"mousemove",(e,t)=>{this._activeResizer&&this._activeResizer.updateSize(t)}),this._observer.listenTo(e,"mouseup",()=>{this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)});const t=()=>{this._visibleResizer&&this._visibleResizer.redraw()},n=jm(t,200);this.on("change:_visibleResizer",t),this.editor.ui.on("update",n),this._observer.listenTo(ui.window,"resize",n);const o=this.editor.editing.view.document.selection;o.on("change",()=>{const e=o.getSelectedElement();this._visibleResizer=this._getResizerByViewElement(e)||null})}destroy(){this._observer.stopListening()}attachTo(e){const t=new Um(e);return t.attach(),this._resizers.set(e.viewElement,t),t}_getResizerByHandle(e){for(const t of this._resizers.values())if(t.containsHandle(e))return t}_getResizerByViewElement(e){return this._resizers.get(e)}}_n(Gm,Qn);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Km extends cc{refresh(){const e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=$d(e),e&&e.hasAttribute("width")?this.value={width:e.getAttribute("width"),height:null}:this.value=null}execute(e){const t=this.editor.model,n=t.document.selection.getSelectedElement();t.change(t=>{t.setAttribute("width",e.width,n)})}}n(97);
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Jm;oc.create(document.querySelectorAll("#Body,#Content,#advisory")[0],{plugins:[class extends ic{static get requires(){return[lc,mc,kc,Ic,eu]}static get pluginName(){return"Essentials"}},class extends ic{static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats()}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&new tu(this.editor,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&new tu(this.editor,/^1[.|)]\s$/,"numberedList")}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const e=iu(this.editor,"bold");new nu(this.editor,/(\*\*)([^*]+)(\*\*)$/g,e),new nu(this.editor,/(__)([^_]+)(__)$/g,e)}if(e.get("italic")){const e=iu(this.editor,"italic");new nu(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,e),new nu(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,e)}if(e.get("code")){const e=iu(this.editor,"code");new nu(this.editor,/(`)([^`]+)(`)$/g,e)}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");e&&e.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(t=>{const n=t[7],o=new RegExp(`^(#{${n}})\\s$`);new tu(this.editor,o,()=>{if(!e.isEnabled)return!1;this.editor.execute("heading",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&new tu(this.editor,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){this.editor.commands.get("codeBlock")&&new tu(this.editor,/^```$/,"codeBlock")}},class extends ic{static get requires(){return[Nu,Iu]}static get pluginName(){return"BlockQuote"}},class extends ic{static get requires(){return[_d,xd]}static get pluginName(){return"Heading"}},class extends ic{static get pluginName(){return"Indent"}static get requires(){return[Kh,Qh]}},class extends ic{constructor(e){super(e),e.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}init(){const e=this.editor,t=e.config.get("indentBlock"),n=!t.classes||!t.classes.length,o=Object.assign({direction:"forward"},t),i=Object.assign({direction:"backward"},t);n?(this._setupConversionUsingOffset(e.conversion),e.commands.add("indentBlock",new Xh(e,new Zh(o))),e.commands.add("outdentBlock",new Xh(e,new Zh(i)))):(this._setupConversionUsingClasses(t.classes),e.commands.add("indentBlock",new Xh(e,new ep(o))),e.commands.add("outdentBlock",new Xh(e,new ep(i))))}afterInit(){const e=this.editor,t=e.model.schema,n=e.commands.get("indent"),o=e.commands.get("outdent");["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"].forEach(e=>{t.isRegistered(e)&&t.extend(e,{allowAttributes:"blockIndent"})}),n.registerChildCommand(e.commands.get("indentBlock")),o.registerChildCommand(e.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const e=this.editor.conversion,t="rtl"===this.editor.locale.contentLanguageDirection?"margin-right":"margin-left";e.for("upcast").attributeToAttribute({view:{styles:{[t]:/[\s\S]+/}},model:{key:"blockIndent",value:e=>e.getStyle(t)}}),e.for("upcast").attributeToAttribute({view:{styles:{margin:/[\s\S]+/}},model:{key:"blockIndent",value:e=>function(e,t){const n=e.split(" ");let o;o=n[0],n[1]&&(o=n[1]);n[3]&&(o="margin-left"===t?n[3]:n[1]);return o}(e.getStyle("margin"),t)}}),e.for("downcast").attributeToAttribute({model:"blockIndent",view:e=>({key:"style",value:{[t]:e}})})}_setupConversionUsingClasses(e){const t={model:{key:"blockIndent",values:[]},view:{}};for(const n of e)t.model.values.push(n),t.view[n]={key:"class",value:[n]};this.editor.conversion.attributeToAttribute(t)}},class extends ic{static get requires(){return[jp,qp]}static get pluginName(){return"Link"}},class extends ic{static get requires(){return[uu,fu]}static get pluginName(){return"Alignment"}},gu,class extends ic{static get requires(){return[wu,ku]}static get pluginName(){return"Bold"}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */,class extends ic{static get requires(){return[vu,_u]}static get pluginName(){return"Italic"}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */,class extends ic{static get requires(){return[yu,xu]}static get pluginName(){return"Underline"}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */,class extends ic{static get requires(){return[Cu,Tu]}static get pluginName(){return"Strikethrough"}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */,class extends ic{static get requires(){return[Eu,Su]}static get pluginName(){return"Superscript"}},lc,mc,class extends ic{static get requires(){return[Qu,id,cd,pd]}static get pluginName(){return"Font"}},class extends ic{static get requires(){return[Ed,Pd]}static get pluginName(){return"Highlight"}},class extends ic{static get requires(){return[jd,Hd]}static get pluginName(){return"HorizontalLine"}},class extends ic{static get requires(){return[Yd,eh,yh]}static get pluginName(){return"Image"}},class extends ic{static get requires(){return[yf,xf]}static get pluginName(){return"PageBreak"}},class extends ic{static get requires(){return[wf,vf]}static get pluginName(){return"List"}},gd,class extends ic{static get pluginName(){return"PasteFromOffice"}static get requires(){return[lc]}init(){const e=this.editor,t=[];t.push(new If),t.push(new Sf),e.plugins.get("Clipboard").on("inputTransformation",(e,n)=>{if(n.isTransformedWithPasteFromOffice)return;const o=n.dataTransfer.getData("text/html"),i=t.find(e=>e.isActive(o));i&&(i.execute(n),n.isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends ic{static get requires(){return[Df,Mf]}static get pluginName(){return"RemoveFormat"}},class extends ic{static get requires(){return[zm,Bm,eh]}static get pluginName(){return"Table"}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */,Ic,eu,class extends ic{constructor(e){super(e),this.set("characters",0),this.set("words",0),Object.defineProperties(this,{characters:{get(){return this.characters=this._getCharacters()}},words:{get(){return this.words=this._getWords()}}}),this.set("_wordsLabel"),this.set("_charactersLabel"),this._config=e.config.get("wordCount")||{},this._outputView,this._wordsMatchRegExp=xo.features.isRegExpUnicodePropertySupported?new RegExp("[\\p{L}\\p{N}\\p{M}\\p{Pd}\\p{Pc}]+","gu"):/[_\-a-zA-Z0-9-]+/gu}static get pluginName(){return"WordCount"}init(){this.editor.model.document.on("change:data",jm(this._refreshStats.bind(this),250)),"function"==typeof this._config.onUpdate&&this.on("update",(e,t)=>{this._config.onUpdate(t)}),on(this._config.container)&&this._config.container.appendChild(this.wordCountContainer)}destroy(){this._outputView&&(this._outputView.element.remove(),this._outputView.destroy()),super.destroy()}get wordCountContainer(){const e=this.editor,t=e.t,n=e.config.get("wordCount.displayWords"),o=e.config.get("wordCount.displayCharacters"),i=nl.bind(this,this),r=[];return this._outputView||(this._outputView=new _l,(n||void 0===n)&&(this.bind("_wordsLabel").to(this,"words",e=>t("Words: %0",[e])),r.push({tag:"div",children:[{text:[i.to("_wordsLabel")]}],attributes:{class:"ck-word-count__words"}})),(o||void 0===o)&&(this.bind("_charactersLabel").to(this,"characters",e=>t("Characters: %0",[e])),r.push({tag:"div",children:[{text:[i.to("_charactersLabel")]}],attributes:{class:"ck-word-count__characters"}})),this._outputView.setTemplate({tag:"div",attributes:{class:["ck","ck-word-count"]},children:r}),this._outputView.render()),this._outputView.element}_getCharacters(){return Lm(this.editor.model.document.getRoot()).replace(/\n/g,"").length}_getWords(){return(Lm(this.editor.model.document.getRoot()).match(this._wordsMatchRegExp)||[]).length}_refreshStats(){const e=this.words=this._getWords(),t=this.characters=this._getCharacters();this.fire("update",{words:e,characters:t})}}
/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */,rc,kc,pd,cd,Mu,Qu,id,class extends ic{init(){yd(this.editor).filter(e=>"paragraph"!==e.model).map(e=>this._createButton(e))}_createButton(e){const t=this.editor;t.ui.componentFactory.add(e.model,n=>{const o=new jl(n),i=t.commands.get("heading");return o.label=e.title,o.icon=e.icon||Cd[e.model],o.tooltip=!0,o.isToggleable=!0,o.bind("isEnabled").to(i),o.bind("isOn").to(i,"value",t=>t==e.model),o.on("execute",()=>{t.execute("heading",{value:e.model})}),o})}},class extends ic{static get requires(){return[xh]}static get pluginName(){return"ImageToolbar"}afterInit(){const e=this.editor,t=e.t;e.plugins.get(xh).register("image",{ariaLabel:t("Image toolbar"),items:e.config.get("image.toolbar")||[],getRelatedElement:qd})}},class extends ic{static get pluginName(){return"ImageUpload"}static get requires(){return[qh,Oh,zh]}},class extends ic{static get requires(){return[xh]}static get pluginName(){return"TableToolbar"}afterInit(){const e=this.editor,t=e.t,n=e.plugins.get(xh),o=e.config.get("table.contentToolbar"),i=e.config.get("table.tableToolbar");o&&n.register("tableContent",{ariaLabel:t("Table toolbar"),items:o,getRelatedElement:$f}),i&&n.register("table",{ariaLabel:t("Table toolbar"),items:i,getRelatedElement:qf})}},Wf,class extends ic{static get requires(){return[Ih]}static get pluginName(){return"SimpleUploadAdapter"}init(){const e=this.editor.config.get("simpleUpload");e&&(e.uploadUrl?this.editor.plugins.get(Ih).createUploadAdapter=t=>new Hm(t,e):console.warn(Object(an.a)('simple-upload-adapter-missing-uploadUrl: Missing the "uploadUrl" property in the "simpleUpload" editor configuration.')))}},class extends ic{init(){const e=this.editor;e.ui.componentFactory.add("insertImage",t=>{const n=new jl(t);return n.set({label:"Import Image",icon:Ph,tooltip:!0}),n.on("execute",()=>{var t=new XMLHttpRequest;$("#ckmodal").modal({backdrop:!0}),t.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=t.responseText,n=JSON.parse(e);for(var o in n)if(n.hasOwnProperty(o)){if(1==$("#"+n[o].id).length)continue;var i='<div class="col-sm-3 float-left"><div><img onclick="selectImg(this);" style="max-height:100%; max-width:100%;"src="../../images/_'+n[o].name+'" id='+n[o].id+" name="+n[o].name+' /></div><label class="ckimporterlabel">'+n[o].name+"</label></div>";$("#images").append(i)}}},t.open("GET","../../../Image/CKGetAllImages",!0),t.send();const n=document.getElementById("importImg");new MutationObserver((function(t,n){for(let i of t)if("attributes"===i.type){var o=$("#selImg").val();e.model.change(t=>{const n=t.createElement("image",{src:"../../../images/"+o});e.model.insertContent(n,e.model.document.selection)}),n.disconnect()}})).observe(n,{attributes:!0,childList:!0,subtree:!0})}),n})}},class extends ic{static get requires(){return[Gm]}static get pluginName(){return"ImageResize"}init(){const e=this.editor,t=new Km(e);this._registerSchema(),this._registerConverters(),e.commands.add("imageResize",t),e.editing.downcastDispatcher.on("insert:image",(n,o,i)=>{const r=i.mapper.toViewElement(o.item),s=e.plugins.get(Gm).attachTo({unit:e.config.get("image.resizeUnit")||"%",modelElement:o.item,viewElement:r,downcastWriter:i.writer,getHandleHost:e=>e.querySelector("img"),getResizeHost:e=>e,isCentered(){const e=o.item.getAttribute("imageStyle");return!e||"full"==e||"alignCenter"==e},onCommit(t){e.execute("imageResize",{width:t})}});s.on("updateSize",()=>{r.hasClass("image_resized")||e.editing.view.change(e=>{e.addClass("image_resized",r)})}),s.bind("isEnabled").to(t)},{priority:"low"})}_registerSchema(){this.editor.model.schema.extend("image",{allowAttributes:"width"})}_registerConverters(){const e=this.editor;e.conversion.for("downcast").add(e=>e.on("attribute:width:image",(e,t,n)=>{if(!n.consumable.consume(t.item,e.name))return;const o=n.writer,i=n.mapper.toViewElement(t.item);null!==t.attributeNewValue?(o.setStyle("width",t.attributeNewValue,i),o.addClass("image_resized",i)):(o.removeStyle("width",i),o.removeClass("image_resized",i))})),e.conversion.for("upcast").attributeToAttribute({view:{name:"figure",styles:{width:/.+/}},model:{key:"width",value:e=>e.getStyle("width")}})}}],toolbar:["heading","|","bold","italic","underline","fontFamily","fontSize","fontColor","fontBackgroundColor","|","alignment","pageBreak","horizontalLine","indent","outdent","numberedList","bulletedList","|","undo","redo","|","insertTable","tableColumn","tableRow","mergeTableCells","|","imageUpload","blockQuote","link","strikethrough","superscript","insertImage"],simpleUpload:{uploadUrl:"../../../Image/CKUpload",headers:{Accept:"application/json"}}}).then(e=>{Jm=e}).catch(e=>{console.error(e.stack)})}]);
//# sourceMappingURL=ckeditor.js.map