@model TechCertain.WebUI.Models.Milestone.MilestoneBuilderViewModel

<div class="row">
    <div class="col-sm-12">
        <div class="form-group">
            <div class="input-group">

                <div id="taskPriority">
                    <label>Task Priority</label>
                    @Html.DropDownList("Priortylist", Model.Priorities)
                </div>

                <div id="taskDueDate">
                    <label>Due Date</label>
                    <input placeholder="Due Date" class="datepicker form-control b" data-dateformat="dd/mm/yy" type="text" id="DueDate">
                </div>

                <div id="taskReference">
                    <label>Task Reference</label>
                    @Html.TextAreaFor(m => m.UserTask.Details)
                </div>

                <div id="taskDescription">
                    <label>Task Description</label>
                    @Html.TextAreaFor(m => m.UserTask.Description, new { id = "Milestoneeditor", name = "content", cols = "10", rows = "80" })
                </div>
            </div>
        </div>
    </div>
</div>


<script type="text/javascript">
    ClassicEditor
        .create(document.querySelector('#Milestoneeditor'))
        .then(newDescription => {
            editorDescription = newDescription;
        })
        .catch(error => {
            console.error(error);
        });

    function GetUserTaskContentJson()
    {
        return {
            Priority: $("#Priortylist").val(),
            DueDate: $("#DueDate").val(),
            Details: $("#@(Html.IdFor(m => m.UserTask.Details))").val(),
            Description: editorDescription.getData()
    	};
    }


</script>

