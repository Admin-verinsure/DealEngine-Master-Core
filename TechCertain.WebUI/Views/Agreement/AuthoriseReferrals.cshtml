@model TechCertain.WebUI.Models.Agreement.ViewAgreementViewModel
<!-- NEW WIDGET START -->
<div id="content" style="background-color: #A6E2EF">
    <!-- widget grid -->
    <secion id="widget-grid" class="">
        <!-- row -->
        <div class="row">
            <!-- NEW WIDGET START -->
            <article class="col-sm-12 col-md-8 col-md-offset-2 col-lg-8 col-lg-offset-2">
                <!-- Widget ID (each widget will need unique ID)-->
                <div class="jarviswidget" id="wid-id-1" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-togglebutton="false"
                     data-widget-deletebutton="false" data-widget-custombutton="false" data-widget-sortable="false">

                    <header>
                        <span class="widget-icon"> <i class="fa fa-list-alt"></i> </span>
                        <h2 style="color:black">@ViewBag.Title </h2>
                    </header>
                    <div role="content">

                        @Html.HiddenFor(m => m.InformationSheetId)
                        @Html.HiddenFor(m => m.ClientAgreementId)
                        @Html.HiddenFor(m => m.ClientProgrammeId)




                        <form action="~/Agreement/EditAgreement/item" method="POST" id="update-form" class="smart-form client-form" enctype="multipart/form-data">

                            <table class="table table-bordered table-responsive-md table-striped text-center" style="border: 1px solid black;" id="refferals">

                                <tr>
                                    <th class="text-center" width="25%" style="color:black">Referral</th>
                                    <th class="text-center" width="50%" style="color:black">Description</th>
                                    <th class="text-center" width="25%" style="color:black">Status</th>
                                </tr>
                                @foreach (var item in Model.Referrals)
                                {
                                    <tr>
                                        <td class="pt-3-half" width="13%" contenteditable="true" id="ReferralName" style="color:black" align="left">
                                            @item.Name

                                        </td>
                                        <td class="pt-3-half" width="13%" contenteditable="true" style="color:black" align="left">
                                            @item.Description
                                        </td>
                                        <td class="pt-3-half" width="13%" contenteditable="true" style="color:black" align="left">
                                            @item.Status
                                        </td>

                                    </tr>

                                }
                            </table>
                            <br />
                            <label class="label"><strong>Authorise Referral</strong></label>
                            <table class="table table-responsive-md table-striped text-align-left" style="border: 0px solid black;" id="referrallodingvalue">
                                <tr>
                                    <td width="20%"><strong>Referral Loading Percentage (%): </strong></td>
                                    <td width="1%"></td>
                                    <td width="5%"><strong> OR/AND</strong></td>
                                    <td width="1%"></td>
                                    <td width="20%"><strong>Referral Loading Amount ($): </strong></td>
                                    <td width="53%"></td>
                                </tr>
                                <tr>
                                    <td>
                                        @Html.TextBoxFor(m => m.ReferralLoading)
                                        @*<input type="text" class="form-control " id="LoadValPerc" placeholder="%" name="LoadValPerc" />*@
                                    </td>
                                    <td align="left">%</td>
                                    <td></td>
                                    <td align="right">$</td>
                                    <td>
                                        @Html.TextBoxFor(m => m.ReferralAmount)
                                        @*<input type="text" class="form-control " id="LoadValAmou" placeholder="$" name="LoadValAmou" />*@
                                    </td>
                                    <td></td>
                                </tr>
                            </table>

                            <label class="label"><strong>Authorisation notes: </strong></label>
                            <label class="textarea">
                                @Html.TextAreaFor(m => m.AuthorisationNotes)
                                @*<textarea class="form-control b" data-type="TEXTAREA" id="AuthorisedComment" name="AuthorisedComment" placeholder="Authorisation Notes" value=""></textarea>*@
                            </label>
                        @*<label class="radio">
        <input href="#LoadModal" aria-hidden="true" style="color:green" data-toggle="modal" data-type="Authorise"> <i></i>Authorize and send back to broker
        @*<input id="Authorize" name="radio" type="radio" onclick="location.href='@Url.Action("SendReferralsEmail", "Agreement",new { sheetId= Model.InformationSheetId ,clientAgreementId = @Model.ClientAgreementId ,type = "Authorize"})'">*@
                                @*<i></i>Authorize and send back to broker
        </label>
        <label class="radio">
            <input id="Payment" name="radio" type="radio">
            <i></i>Authorize and send back to client for payment
        </label>
        <label class="radio">
            <input id="Details" name="radio" type="radio" onselect="$('#LoadModal').modal('show');" data-type="Authorise">
            <i></i>Send back to Broker for more details
        </label>*@
                                <br />
                                <div align="right">
                                    @*<input type="Reset" value="Submit" class="btn btn-success" onclick="location.href='@Url.Action("SendReferralsEmail", "Agreement",new { sheetId= Model.InformationSheetId ,clientAgreementId = @Model.ClientAgreementId ,type = "Authorise"})'">*@

                                    <button onclick="Authorise()" type="button" class="btn btn-success btn-sm">Authorise</button>
                                </div>
                                <div>

                                </div>

</form>

                    </div>
                </div>
            </article>
        </div>

    </secion>
</div>


@*<!-- Load Modal -->
<div id="LoadModal" class="modal fade " role="dialog">
    <!-- Modal content-->
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title" style="color:blue; font-size:22px"></h4>
        </div>
        <div class="modal-body">
            <form id="ProdForm">
                <div class="form-group">
                    <input type="text" class="form-control hidden " id="AutoriseType" name="AutoriseType" />
                </div>
                <div class="form-group">
                    <label for="MaxSumInsured">Load Value</label>
                    <input type="text" class="form-control " id="LoadVal" placeholder="%" name="LoadVal" />
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <input type="Reset" value="Submit" class="btn btn-success" onclick="location.href='@Url.Action("SendReferralsEmail", "Agreement",new { sheetId= Model.InformationSheetId ,clientAgreementId = @Model.ClientAgreementId ,type = "Authorise"})'">

            <a href="#" class="btn btn-danger" data-dismiss="modal">Cancel<i class="fa fa-close"></i></a>
        </div>
    </div>
</div>*@



@section pagespecific {
   
    @Html.Partial("_AgreementScripts")
}
