@model TechCertain.WebUI.Models.OrganisationViewModel
@using TechCertain.WebUI.Helpers.CustomHtml

<!-- MAIN CONTENT -->
<div id="content">
    <!-- Bread crumb is created dynamically -->
    <!-- row -->
    <div class="row">
        <!-- col -->
        <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
            <h1 class="page-title txt-color-blueDark">
                <!-- PAGE HEADER -->
                <i class="fa-fw fa fa-file-o"></i> Add New Organisation
            </h1>
        </div>
        <!-- end col -->
    </div>
    <form action="~/Organisation/CreateOrganisation" method="POST" id="update-form" class="smart-form client-form" enctype="multipart/form-data">
        <section id="widget-grid-organisation" class="">
            <div class="row">
                <article class="col-sm-12 col-md-12 col-lg-6">
                    <!-- new widget -->
                    <div class="jarviswidget jarviswidget-color-blue" id="wid-id-1" data-widget-editbutton="true" data-widget-colorbutton="false">

                        <section>
                            <header>Organisation</header>
                            <table class="table table-bordered table-striped table-hover table-condensed">
                                <tbody>
                                    <tr>
                                        <td align="center">
                                            <b>Type</b>
                                        </td>

                                        <td align="center">
                                            <label class="input">
                                                <select class="browser-default custom-select custom-select-lg mb-3 col-lg-12" name="OrganisationType">
                                                    <option selected>Corporation – Limited liability</option>
                                                </select>
                                            </label>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td align="center">
                                            <b>Organisation Type</b>
                                        </td>

                                        <td align="center">
                                            <label class="input">
                                                <select class="browser-default custom-select custom-select-lg mb-3 col-lg-12" name="InsuranceAttributeName">
                                                    <option selected>Marina</option>
                                                    <option>Other Marina</option>
                                                </select>
                                            </label>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td align="center">
                                            <b>Marina Moored Type</b>
                                        </td>

                                        <td align="center">
                                            <label class="input">
                                                <select multiple="multiple" class="custom-select form-control" name="OrganisationMarinaOrgMooredType">
                                                    @foreach (var selectListItem in Model.OrgMooredType)
                                                    {
                                                        <option value=@selectListItem.Value> @selectListItem.Text</option>
                                                    }
                                                </select>
                                            </label>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td align="center">
                                            <b>Name</b>
                                        </td>

                                        <td align="center">
                                            <label class="input">
                                                <i class="icon-append fa fa-user"></i>
                                                <input type="text" name="OrganisationName" placeholder="Organisation name">
                                            </label>
                                        </td>

                                    </tr>
                                    <tr>

                                        <td align="center">
                                            <b>Email</b>
                                        </td>

                                        <td align="center">
                                            <label class="input">
                                                <i class="icon-append fa fa-envelope"></i>
                                                <input type="text" name="OrganisationEmail" placeholder="Email Address">
                                            </label>
                                        </td>

                                    </tr>
                                    <tr>

                                        <td align="center">
                                            <b>Phone Number</b>
                                        </td>

                                        <td align="center">
                                            <label class="input">
                                                <i class="icon-append fa fa-phone"></i>
                                                <input type="text" name="OrganisationPhone" placeholder="Phone Number">
                                            </label>
                                        </td>

                                    </tr>
                                    <tr>

                                        <td align="center">
                                            <b>Website</b>
                                        </td>

                                        <td align="center">
                                            <label class="input">
                                                <i class="icon-append fa fa-wechat"></i>
                                                <input type="text" name="OrganisationWebsite" placeholder="Website">
                                            </label>
                                        </td>

                                    </tr>

                                    <tr>
                                        <td align="center">
                                            <b>User</b>
                                        </td>

                                        <td align="center">
                                            <label class="input">
                                                <select class="browser-default custom-select custom-select-lg mb-3 col-lg-12" name="OrganisationUser" onchange="OrganisationUserOnChange()">
                                                    <option selected>Please select:</option>
                                                    @foreach (var user in Model.Users)
                                                    {
                                                        <option value=@user.UserName> @user.UserName</option>
                                                    }
                                                </select>
                                            </label>
                                        </td>
                                    </tr>

                                </tbody>
                            </table>
                        </section>
                        @*</div>*@

                    </div>
                </article>
            </div>
        </section>

        <section id="widget-grid-user" class="">
            <div class="row">
                <article class="col-sm-12 col-md-12 col-lg-6">
                    <!-- new widget -->
                    <div class="jarviswidget jarviswidget-color-blue" id="wid-id-2" data-widget-editbutton="true" data-widget-colorbutton="false">
                        <section>
                            <header>User</header>
                            <table class="table table-bordered table-striped table-hover table-condensed">
                                <tbody>
                                    <tr>
                                        <td align="center">
                                            <b>First Name</b>
                                        </td>

                                        <td align="center">
                                            <label class="input">
                                                <i class="icon-append fa fa-user"></i>
                                                <input type="text" name="UserFirstName" placeholder="First Name">
                                                <b class="tooltip tooltip-top-right"><i class="fa fa-user txt-color-teal"></i>Name</b>
                                            </label>
                                        </td>

                                    </tr>
                                    <tr>

                                        <td align="center">
                                            <b>Last Name</b>
                                        </td>

                                        <td align="center">
                                            <label class="input">
                                                <i class="icon-append fa fa-user"></i>
                                                <input type="text" name="UserLastName" placeholder="Last name">
                                            </label>
                                        </td>

                                    </tr>
                                    <tr>

                                        <td align="center">
                                            <b>Email</b>
                                        </td>

                                        <td align="center">
                                            <label class="input">
                                                <i class="icon-append fa fa-envelope"></i>
                                                <input type="text" name="UserEmail" placeholder="Email Address">
                                            </label>
                                        </td>

                                    </tr>
                                    <tr>

                                        <td align="center">
                                            <b>Phone Number</b>
                                        </td>

                                        <td align="center">
                                            <label class="input">
                                                <i class="icon-append fa fa-phone"></i>
                                                <input type="text" name="UserPhone" placeholder="Phone Number">
                                            </label>
                                        </td>

                                    </tr>
                                </tbody>
                            </table>
                        </section>


                    </div>
                </article>
            </div>
        </section>

        <section id="widget-grid-Location" class="">
            <div class="row">
                <article class="col-sm-12 col-md-12 col-lg-6">
                    <!-- new widget -->
                    <div class="jarviswidget jarviswidget-color-blue" id="wid-id-3" data-widget-editbutton="true" data-widget-colorbutton="false">
                        <section>
                            <header>Location</header>
                            <table class="table table-bordered table-striped table-hover table-condensed">
                                <tbody>
                                    <tr>
                                        <td align="center">
                                            <b>Street Address</b>
                                        </td>

                                        <td align="center">
                                            <label class="input">
                                                <i class="icon-append fa fa-location-arrow"></i>
                                                <input type="text" name="LocationStreetAddress" placeholder="Street Address">
                                            </label>
                                        </td>

                                    </tr>
                                    <tr>

                                        <td align="center">
                                            <b>Suburb</b>
                                        </td>

                                        <td align="center">
                                            <label class="input">
                                                <i class="icon-append fa fa-home"></i>
                                                <input type="text" name="LocationSuburb" placeholder="Suburb">
                                            </label>
                                        </td>

                                    </tr>
                                    <tr>

                                        <td align="center">
                                            <b>Post Code</b>
                                        </td>

                                        <td align="center">
                                            <label class="input">
                                                <i class="icon-append fa fa-envelope"></i>
                                                <input type="text" name="LocationPostCode" placeholder="Postcode">
                                            </label>
                                        </td>

                                    </tr>
                                    <tr>

                                        <td align="center">
                                            <b>City</b>
                                        </td>

                                        <td align="center">
                                            <label class="input">
                                                <i class="icon-append fa fa-joomla"></i>
                                                <input type="text" name="LocationCity" placeholder="City">
                                            </label>
                                        </td>

                                    </tr>
                                    <tr>

                                        <td align="center">
                                            <b>Country</b>
                                        </td>

                                        <td align="center">
                                            <label class="input">
                                                <i class="icon-append fa fa-group"></i>
                                                <input type="text" name="LocationCountry" placeholder="Country">
                                            </label>
                                        </td>

                                    </tr>
                                    <tr>

                                        <td align="center">
                                            <b>Common Name</b>
                                        </td>

                                        <td align="center">
                                            <label class="input">
                                                <i class="icon-append fa fa-joomla"></i>
                                                <input type="text" name="LocationCommonName" placeholder="Common Name">
                                            </label>
                                        </td>

                                    </tr>
                                </tbody>
                            </table>
                        </section>
                    </div>
                </article>
            </div>
        </section>
        <div class="">
            <button type="Submit" class="btn txt-color-white bg-color-green btn-sm"><i class="fa fa-edit"></i> Add</button>
        </div>
    </form>
</div>

@section pagespecific {
    <!-- PAGE RELATED PLUGIN(S)-->
    <script src="/Scripts/plugin/multiselect/bootstrap-multiselect.min.js"></script>
    <script src="/Scripts/plugin/chosen/chosen.jquery.min.js"></script>
    <link href="/Content/css/bootstrap-chosen.css" rel="stylesheet" type="text/css" />
    <script src="/Scripts/plugin/bootstrap-wizard/jquery.bootstrap.wizard.min.js"></script>
    <script src="/Scripts/bootstrapmvc"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
    <script type="text/javascript">

        $('select').selectpicker();




    function CreateOrganisation() {
    $.ajax({
    // change back once mono decides to fix
    url: '@Url.Action("CreateOrganisation", "Organisation")',
    type: "POST",
    data: ""
    })
    .done(function (data) {
    $.smallBox({
    title: "Success",
    content: "Organisation details have been added",
    color: "#5F895F",
    iconSmall: "fa fa-check bounce animated",
    timeout: 4000
    });

    })
    .fail(function () {
    alert("Unable to save.");
    });
    }

    function OrganisationUserOnChange() {
    //if condition for tcadminuser
    document.getElementById("wid-id-2").hidden = hidden;
    hidden = !(hidden);
    }


    </script>
}